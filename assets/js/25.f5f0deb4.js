(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{601:function(s,n,a){"use strict";a.r(n);var t=a(7),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"reactç§Ÿæˆ¿é¡¹ç›®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactç§Ÿæˆ¿é¡¹ç›®"}},[s._v("#")]),s._v(" reactç§Ÿæˆ¿é¡¹ç›®ğŸ˜€")]),s._v(" "),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day01"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day01"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day01")]),s._v(" "),a("p",[s._v("é¡¹ç›®æ¼”ç¤º&é¡¹ç›®æ­å»º&antd-mobileçš„TabBarä½¿ç”¨")]),s._v(" "),a("h3",{attrs:{id:"ç›®æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("p",[s._v("èƒ½å¤Ÿåˆå§‹åŒ–é¡¹ç›®\nèƒ½å¤Ÿä½¿ç”¨ antd-mobile ç»„ä»¶åº“\nèƒ½å¤Ÿå®Œæˆé¡¹ç›®æ•´ä½“å¸ƒå±€\nèƒ½å¤Ÿç†è§£åµŒå¥—è·¯ç”±\nèƒ½å¤Ÿä½¿ç”¨antd-mobileæä¾›çš„TabBarç»„ä»¶\nèƒ½å¤Ÿå¯¹TabBarè¿›è¡Œå®šåˆ¶\nèƒ½å¤Ÿå®ç°é¦–é¡µè·¯ç”±çš„å¤„ç†\né¡¹ç›®ä»‹ç»\nå¥½å®¢ç§Ÿæˆ¿ - ç§»åŠ¨ Web ç«¯\né¡¹ç›®ä»‹ç»ï¼šæœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåœ¨çº¿ç§Ÿæˆ¿é¡¹ç›®ï¼Œå®ç°äº†ç±»ä¼¼é“¾å®¶ç­‰é¡¹ç›®çš„åŠŸèƒ½ï¼Œè§£å†³äº†ç”¨æˆ·ç§Ÿæˆ¿çš„éœ€æ±‚\næ ¸å¿ƒä¸šåŠ¡ï¼šåœ¨çº¿æ‰¾æˆ¿ï¼ˆåœ°å›¾ã€æ¡ä»¶æœç´¢ï¼‰ã€ç”¨æˆ·ç™»å½•ã€æˆ¿æºå‘å¸ƒç­‰")]),s._v(" "),a("p",[s._v("æŠ€æœ¯æ ˆ\nReactæ ¸å¿ƒåº“ï¼šreactã€react-domã€react-router-dom\nè„šæ‰‹æ¶ï¼šcreate-react-app\næ•°æ®è¯·æ±‚ï¼šaxios\nUIç»„ä»¶åº“ï¼šantd-mobile\nå…¶ä»–ç»„ä»¶åº“ï¼šreact-virtualizedã€formik+yupã€react-springç­‰\nç™¾åº¦åœ°å›¾API\né¡¹ç›®å‡†å¤‡")]),s._v(" "),a("h3",{attrs:{id:"é¡¹ç›®æ­å»º-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¹ç›®æ­å»º-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é¡¹ç›®æ­å»ºï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("æœ¬åœ°æ¥å£éƒ¨ç½²\nåˆ›å»ºå¹¶å¯¼å…¥æ•°æ®ï¼šæ•°æ®åº“åç§°hkzf(å›ºå®šåç§°)\nä½¿ç”¨è„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\nä½¿ç”¨ npx create-react-app hkzf-mobile\nè¿›å…¥åˆ°é¡¹ç›®æ ¹ç›®å½• ä½¿ç”¨ npm start\né¡¹ç›®ç›®å½•ç»“æ„ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("è°ƒæ•´é¡¹ç›®ç»“æ„")]),s._v(" "),a("p",[s._v("antd-mobile ç»„ä»¶åº“ï¼ˆâ˜…â˜…â˜…ï¼‰\nä»‹ç»ä¸ä½¿ç”¨\næ‰“å¼€ antd-mobileçš„æ–‡æ¡£\nantd-mobile æ˜¯ Ant Design çš„ç§»åŠ¨è§„èŒƒçš„ React å®ç°ï¼ŒæœåŠ¡äºèš‚èšåŠå£ç¢‘æ— çº¿ä¸šåŠ¡ã€‚\nç‰¹æ€§\nUI æ ·å¼é«˜åº¦å¯é…ç½®ï¼Œæ‹“å±•æ€§æ›´å¼ºï¼Œè½»æ¾é€‚åº”å„ç±»äº§å“é£æ ¼\nåŸºäº React Native çš„ iOS / Android / Web å¤šå¹³å°æ”¯æŒï¼Œç»„ä»¶ä¸°å¯Œã€èƒ½å…¨é¢è¦†ç›–å„ç±»åœºæ™¯ (antd-mobile-rn)\næä¾› â€œç»„ä»¶æŒ‰éœ€åŠ è½½â€ / â€œWeb é¡µé¢é«˜æ¸…æ˜¾ç¤ºâ€ / â€œSVG Iconâ€ ç­‰ä¼˜åŒ–æ–¹æ¡ˆï¼Œä¸€ä½“å¼å¼€å‘\nä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œæ”¯æŒç±»å‹åŠå±æ€§æ™ºèƒ½æç¤ºï¼Œæ–¹ä¾¿ä¸šåŠ¡å¼€å‘\nå…¨é¢å…¼å®¹ react / preact\né€‚ç”¨åœºæ™¯\né€‚åˆäºä¸­å¤§å‹äº§å“åº”ç”¨\né€‚åˆäºåŸºäº react / preact / react-native çš„å¤šç»ˆç«¯åº”ç”¨\né€‚åˆä¸åŒ UI é£æ ¼çš„é«˜åº¦å®šåˆ¶éœ€æ±‚çš„åº”ç”¨\nå¿«é€Ÿä¸Šæ‰‹\nåˆ›å»ºä¸€ä¸ªé¡¹ç›®")]),s._v(" "),a("h3",{attrs:{id:"å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[s._v("#")]),s._v(" å®‰è£…")]),s._v(" "),a("p",[s._v("npm install antd-mobile --save\nä½¿ç”¨")]),s._v(" "),a("p",[s._v("å¯¼å…¥ç»„ä»¶\nå¯¼å…¥æ ·å¼")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// å¯¼å…¥ç»„ä»¶\nimport { Button } from 'antd-mobile';\n// å¯¼å…¥æ ·å¼\nimport 'antd-mobile/dist/antd-mobile.css';  // or 'antd-mobile/dist/antd-mobile.less'\nReactDOM.render(<Button>Start</Button>, mountNode);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"é…ç½®è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®è·¯ç”±"}},[s._v("#")]),s._v(" é…ç½®è·¯ç”±")]),s._v(" "),a("p",[s._v("å®‰è£… yarn add react-router-dom\nå¯¼å…¥è·¯ç”±ç»„ä»¶ï¼šRouter / Route / Link\nåœ¨pagesæ–‡ä»¶å¤¹ä¸­åˆ›å»º Home/index.js å’Œ CityList/index.js ä¸¤ä¸ªç»„ä»¶\nä½¿ç”¨Routeç»„ä»¶é…ç½®é¦–é¡µå’ŒåŸå¸‚é€‰æ‹©é¡µé¢")]),s._v(" "),a("p",[s._v("å¤–è§‚å’Œæ ·å¼è°ƒæ•´\nä¿®æ”¹é¡µé¢æ ‡é¢˜ï¼Œåœ¨index.htmlé‡Œé¢ä¿®æ”¹\nåŸºç¡€æ ·å¼è°ƒæ•´ï¼Œåœ¨index.css ä¸­è°ƒæ•´")]),s._v(" "),a("p",[s._v("é¡¹ç›®æ•´ä½“å¸ƒå±€\nä¸¤ç§é¡µé¢å¸ƒå±€\næœ‰TabBarçš„é¡µé¢ï¼š é¦–é¡µã€æ‰¾æˆ¿ã€èµ„è®¯ã€æˆ‘çš„\næ— TabBarçš„é¡µé¢ï¼šåŸå¸‚é€‰æ‹©ç­‰\nTabBar çš„èœå•ä¹Ÿå¯ä»¥å®ç°è·¯ç”±åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯è·¯ç”±å†…éƒ¨åˆ‡æ¢è·¯ç”±ï¼ˆåµŒå¥—è·¯ç”±ï¼‰")]),s._v(" "),a("p",[s._v("åµŒå¥—è·¯ç”±ï¼ˆâ˜…â˜…â˜…ï¼‰\nåµŒå¥—è·¯ç”±ï¼šè·¯ç”±å†…éƒ¨åŒ…å«è·¯ç”±\nç”¨Homeç»„ä»¶è¡¨ç¤ºçˆ¶è·¯ç”±çš„å†…å®¹\nç”¨Newsç»„ä»¶è¡¨ç¤ºå­è·¯ç”±çš„å†…å®¹\nä½¿ç”¨æ­¥éª¤\nåœ¨pagesæ–‡ä»¶å¤¹ä¸­åˆ›å»ºNews/index.js ç»„ä»¶\nåœ¨Homeç»„ä»¶ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªRouteä½œä¸ºå­è·¯ç”±çš„å‡ºå£\nè®¾ç½®åµŒå¥—è·¯ç”±çš„pathï¼Œæ ¼å¼ä»¥çˆ¶è·¯ç”±pathå¼€å¤´(çˆ¶ç»„ä»¶å±•ç¤ºäº†ï¼Œå­ç»„ä»¶æ‰ä¼šå±•ç¤º)\nä¿®æ”¹pathnameä¸º /home/newsï¼ŒNewsç»„ä»¶çš„å†…å®¹å°±ä¼šå±•ç¤ºåœ¨Homeç»„ä»¶ä¸­äº†")]),s._v(" "),a("p",[s._v("å®ç°TabBarï¼ˆâ˜…â˜…â˜…ï¼‰\næ‹·è´TabBarç»„ä»¶ç»“æ„\næ‰“å¼€ antd-mobile ç»„ä»¶åº“ä¸­TabBarçš„ç»„ä»¶æ–‡æ¡£\né€‰æ‹©APPå‹é€‰é¡¹å¡èœå•ï¼Œç‚¹å‡» </>æ˜¾ç¤ºæºç \næ‹·è´æ ¸å¿ƒä»£ç åˆ° Home ç»„ä»¶ä¸­ï¼ˆHomeæ˜¯çˆ¶è·¯ç”±ç»„ä»¶ï¼‰\nè°ƒæ•´ä»£ç \nä¿®æ”¹TabBarç»„ä»¶æ ·å¼\nä¿®æ”¹TabBarèœå•é¡¹æ–‡å­—æ ‡é¢˜\nTabBarçš„æ–‡å­—æ ‡é¢˜åœ¨TabBar.Item çš„titleå±æ€§ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹å¯¹åº”å››ä¸ªtitleå±æ€§å³å¯")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<TabBar.Item\n    title="é¦–é¡µ"\n    ...\n\n></TabBar.Item>\n><TabBar.Item\n>title="æ‰¾æˆ¿"\n>...\n>\n></TabBar.Item>\n><TabBar.Item\n>title="å’¨è¯¢"\n>...\n>\n></TabBar.Item>\n><TabBar.Item\n>title="æˆ‘çš„"\n>...\n>\n></TabBar.Item>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("ä¿®æ”¹TabBarèœå•æ–‡å­—æ ‡é¢˜é¢œè‰²\nTabBarèœå•é€‰ä¸­çš„æ–‡å­—é¢œè‰²åœ¨ TabBarçš„ tintColor å±æ€§ä¸­è®¾ç½®\næœªé€‰ä¸­æ–‡å­—é¢œè‰²ç”¨é»˜è®¤çš„å³å¯ï¼Œåˆ é™¤ TabBarä¸­çš„ unselectedTintColor å±æ€§")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<TabBar\ntintColor="#21b97a"\nbarTintColor="white"\n\n...\n</TabBar>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("ä½¿ç”¨å­—å›¾å›¾æ ‡ï¼Œä¿®æ”¹TabBarèœå•çš„å›¾æ ‡\nå­—ä½“å›¾æ ‡çš„ èµ„æºåœ¨è¯¾ä»¶çš„ç´ æä¸­ï¼Œç›´æ¥å¤åˆ¶è¿‡æ¥å³å¯\nåœ¨ index.jsé‡Œé¢å¼•å…¥å­—ä½“å›¾æ ‡çš„ cssæ ·å¼æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬åªéœ€è¦åœ¨ç»„ä»¶ä¸­è®¾ç½®å¯¹åº”çš„ç±»åå³å¯,iconä»£è¡¨æ˜¯é»˜è®¤å›¾æ ‡ï¼ŒselectedIconä»£è¡¨æ˜¯é€‰ä¸­çš„å›¾æ ‡")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\n<TabBar.Item\n{/*é»˜è®¤çš„å›¾æ ‡*/}\nicon={\n <i className="iconfont icon-ind"></i>\n}\n{/*é€‰ä¸­å›¾æ ‡*/}\nselectedIcon={<i className="iconfont icon-ind"></i>\n}\n...\n\n</TabBar.Item>\n<TabBar.Item\nicon={\n <i className="iconfont icon-findHouse"></i>\n}\nselectedIcon={\n <i className="iconfont icon-findHouse"></i>\n}\n...\n\n</TabBar.Item>\n<TabBar.Item\nicon={\n <i className="iconfont icon-infom"></i>\n}\nselectedIcon={\n <i className="iconfont icon-infom"></i>\n}\n...\n\n</TabBar.Item>\n<TabBar.Item\nicon={\n <i className="iconfont icon-my"></i>\n}\nselectedIcon={<i className="iconfont icon-my"></i>}\n...\n\n</TabBar.Item>\nä¿®æ”¹TabBarèœå•é¡¹çš„å›¾æ ‡å¤§å°\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])])]),s._v(" "),a("p",[s._v("åœ¨å½“å‰ç»„ä»¶å¯¹åº”æ–‡ä»¶å¤¹ä¸­åˆ›å»ºindex.cssæ–‡ä»¶ï¼Œä¿®æ”¹ä¸€ä¸‹å­—ä½“å›¾æ ‡çš„å¤§å°ï¼Œè®¾ç½®ä¸º20pxï¼ˆæ³¨æ„ï¼Œåœ¨home.jsä¸­è®°å¾—å¯¼å…¥å½“å‰çš„æ ·å¼ï¼‰\nè°ƒæ•´TabBarçš„ä½ç½®ï¼Œå›ºå®šåœ¨æœ€åº•éƒ¨")]),s._v(" "),a("p",[s._v("é€šè¿‡è°ƒè¯•å·¥å…·æˆ‘ä»¬å‘ç°ï¼Œåº•éƒ¨çš„TabBarçš„ç±»åå« am-tab-bar-barï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è®¾ç½®ä¸€ä¸‹è¿™ä¸ªç±»åçš„å±æ€§å³å¯\nå»æ‰TabBarçš„å¾½ç« ")]),s._v(" "),a("p",[s._v('æ‰¾åˆ°TabBar.Itemé‡Œé¢å¯¹åº”çš„ badge å±æ€§ï¼Œåˆ é™¤å³å¯\nTabBaré…åˆè·¯ç”±å®ç°\næ ¹æ®TabBarç»„ä»¶æ–‡æ¡£è®¾ç½®ä¸æ¸²æŸ“å†…å®¹ï¼ˆåªä¿ç•™èœå•é¡¹ï¼Œä¸æ˜¾ç¤ºå†…å®¹ï¼‰\nç»™TabBarè®¾ç½® noRenderContent å±æ€§å³å¯\n<TabBar\n...\nnoRenderContent = "true"')]),s._v(" "),a("p",[s._v("ç»™TabBar.Item ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œåœ¨ç‚¹å‡»äº‹ä»¶é€»è¾‘é‡Œé¢åˆ©ç”¨ç¼–ç¨‹å¼å¯¼èˆªï¼Œè¿›è¡Œè·¯ç”±çš„åˆ‡æ¢\nåˆ©ç”¨ this.props.history,push() æ¥å®ç°")]),s._v(" "),a("blockquote",[a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<TabBar.Item\n...\nonPress={() => {\n this.setState({\n     selectedTab: 'blueTab',\n });\n {/* åˆ‡æ¢è·¯ç”± */}\n this.props.history.push('/home/index')\n}}\n\n</TabBar.Item>\n<TabBar.Item\n...\nonPress={() => {\n this.setState({\n     selectedTab: 'redTab',\n });\n this.props.history.push('/home/list')\n}}\n\n</TabBar.Item>\n<TabBar.Item\n...\nonPress={() => {\n this.setState({\n     selectedTab: 'greenTab',\n });\n this.props.history.push('/home/news')\n}}\n\n</TabBar.Item>\n<TabBar.Item\n...\nonPress={() => {\n this.setState({\n     selectedTab: 'yellowTab',\n });\n this.props.history.push('/home/profile')\n}}\n\n</TabBar.Item>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("p",[s._v("åˆ›å»ºTabBarç»„ä»¶èœå•é¡¹å¯¹åº”çš„å…¶ä»–3ä¸ªç»„ä»¶ï¼Œå¹¶åœ¨Homeç»„ä»¶ä¸­é…ç½®è·¯ç”±ä¿¡æ¯\nåˆ›å»ºå¯¹åº”çš„ç»„ä»¶ï¼Œç„¶ååœ¨ home.jsä¸­è¿›è¡Œå¯¼å…¥ï¼Œæœ€åé…ç½®ä¸€ä¸‹è·¯ç”±\n{/* é…ç½®è·¯ç”±ä¿¡æ¯ */}")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<Route path="/home/index" component={Index}></Route>\n<Route path="/home/list" component={HouseList}></Route>\n<Route path="/home/news" component={News}></Route>\n<Route path="/home/profile" component={Profile}></Route>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("ç»™èœå•é¡¹æ·»åŠ selectedå±æ€§ï¼Œè®¾ç½®å½“å‰åŒ¹é…çš„èœå•é¡¹é«˜äº®")])]),s._v(" "),a("p",[s._v("é€šè¿‡ this.props.location.pathname å°±èƒ½æ‹¿åˆ°å½“å‰çš„è·¯ç”±çš„path\nåœ¨TabBarItemé‡Œé¢è®¾ç½® selectedçš„å±æ€§ï¼Œåˆ¤æ–­æ˜¯å¦ç­‰äºå½“å‰çš„pathname\nåœ¨stateä¸­è®°å½•å½“å‰çš„pathname")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" state = {\n     // é€‰ä¸­çš„èœå•é¡¹,è®°å½•å½“å‰çš„pathnameæ¥åŒ¹é…å¯¹åº”çš„tab\n     //pathname å±æ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›å½“å‰ URL çš„è·¯å¾„éƒ¨åˆ†ã€‚\n     selectedTab: this.props.location.pathname,\n }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("åœ¨æ¯ä¸ªTabBar.Itemé‡Œé¢åˆ©ç”¨selectedå±æ€§åˆ¤æ–­ä¸€ä¸‹")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<TabBar.Item\n     selected={this.state.selectedTab === '/home/index'}\n     onPress={() => {\n         this.setState({\n             selectedTab: '/home/index',\n         });\n         this.props.history.push('/home/index')\n     }}\n     ...\n\n > </TabBar.Item>\n > <TabBar.Item\n >selected={this.state.selectedTab === '/home/list'}\n >onPress={() => {\n >   this.setState({\n >       selectedTab: '/home/list',\n >   });\n >   this.props.history.push('/home/list')\n >}}\n >...\n >\n > </TabBar.Item>\n > <TabBar.Item\n >selected={this.state.selectedTab === '/home/news'}\n >onPress={() => {\n >   this.setState({\n >       selectedTab: '/home/news',\n >   });\n >   this.props.history.push('/home/news')\n >}}\n >...\n >\n > </TabBar.Item>\n > <TabBar.Item\n >selected={this.state.selectedTab === '/home/profile'}\n >onPress={() => {\n >   this.setState({\n >       selectedTab: '/home/profile',\n >   });\n >   this.props.history.push('/home/profile')\n >}}\n >...\n >\n > </TabBar.Item>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br")])]),a("h3",{attrs:{id:"tabbarä»£ç çš„é‡æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tabbarä»£ç çš„é‡æ„"}},[s._v("#")]),s._v(" TabBarä»£ç çš„é‡æ„")]),s._v(" "),a("p",[s._v("å‘ç°TabBarçš„Iitemé‡Œé¢çš„å†…å®¹å‡ ä¹æ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯é‡Œé¢å†…å®¹ä¸åŒ\næ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹\næä¾›èœå•æ•°æ®")]),s._v(" "),a("p",[s._v("ä½¿ç”¨mapæ¥è¿›è¡Œéå†\nå£°æ˜ä¸€ä¸‹æ•°æ®æº")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const tabItems = [{\n    title: 'é¦–é¡µ',\n    icon: 'icon-ind',\n    path: '/home/index'\n},\n{\n    title: 'æ‰¾æˆ¿',\n    icon: 'icon-findHouse',\n    path: '/home/list'\n},\n{\n    title: 'èµ„è®¯',\n    icon: 'icon-infom',\n    path: '/home/news'\n},\n{\n    title: 'æˆ‘çš„',\n    icon: 'icon-my',\n    path: '/home/profile'\n}]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("å°è£…ä¸€ä¸ªå‡½æ•°æ¥éå†æ¸²æŸ“")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    renderTabBarItem() {\n   return tabItems.map(item => {\n        return (\n            <TabBar.Item\n                title={item.title}\n                key={item.title}\n                icon={\n                    <i className={`iconfont ${item.icon}`}></i>\n                }\n                selectedIcon={<i className={`iconfont ${item.icon}`}></i>\n                }\n                selected={this.state.selectedTab === item.path}\n                onPress={() => {\n                    this.setState({\n                        selectedTab: item.path,\n                    });\n                    this.props.history.push(item.path)\n                }}\n            >\n            </TabBar.Item>\n    )\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("åœ¨renderæ–¹æ³•ä¸­è°ƒç”¨å³å¯")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('render() {\n    return (<div>\n        {/* é…ç½®è·¯ç”±ä¿¡æ¯ */}\n        <Route path="/home/index" component={Index}></Route>\n        <Route path="/home/list" component={HouseList}></Route>\n        <Route path="/home/news" component={News}></Route>\n        <Route path="/home/profile" component={Profile}></Route>\n        {/* åº•éƒ¨å¯¼èˆªæ  */}\n        <TabBar\n            tintColor="#21b97a"\n            barTintColor="white"\n            noRenderContent="true"\n        >\n            {this.renderTabBarItem()}\n        </TabBar>\n    </div>)\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"é¦–é¡µå®ç°-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¦–é¡µå®ç°-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é¦–é¡µå®ç°ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("é¦–é¡µçš„è·¯ç”±æ˜¯éœ€è¦å»å¤„ç†çš„\nä¿®æ”¹é¦–é¡µè·¯ç”±çš„é…ç½®ï¼š /home(å»æ‰åé¢çš„index)ï¼›è¿™é‡Œéœ€è¦æ·»åŠ  exactå±æ€§\nå¦‚æœæ˜¯é»˜è®¤è·¯ç”±éœ€è¦è·³è½¬åˆ° /home")]),s._v(" "),a("p",[s._v("{/* é…ç½®é»˜è®¤è·¯ç”± */}")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<Route path="/" exact render={() => <Redirect to="/home"></Redirect>}></Route>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day02"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day02"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day02")]),s._v(" "),a("h3",{attrs:{id:"è½®æ’­å›¾-å¯¼èˆªæ -ç™¾åº¦åœ°å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è½®æ’­å›¾-å¯¼èˆªæ -ç™¾åº¦åœ°å›¾"}},[s._v("#")]),s._v(" è½®æ’­å›¾&å¯¼èˆªæ &ç™¾åº¦åœ°å›¾")]),s._v(" "),a("p",[s._v("é¦–é¡µæ¨¡å—\nç›®æ ‡\nèƒ½å¤Ÿä½¿ç”¨Carouselç»„ä»¶å®Œæˆè½®æ’­å›¾åŠŸèƒ½\nèƒ½å¤Ÿå®‰è£…axiosï¼Œå¹¶ä¸”ä½¿ç”¨axiosè¿›è¡Œç½‘ç»œè¯·æ±‚\nèƒ½å¤Ÿä½¿ç”¨Flexç»„ä»¶å®ŒæˆTabBaråŠŸèƒ½\nèƒ½å¤ŸçŸ¥é“è½®æ’­å›¾ä¸TabBarå‡ºç°çš„bugï¼Œå¹¶ä¸”è§£å†³\nèƒ½å¤Ÿå®‰è£…Sassï¼Œç¼–å†™Sassä»£ç \nèƒ½å¤Ÿä½¿ç”¨Gridç»„ä»¶å®Œæˆç§Ÿæˆ¿å°ç»„åŠŸèƒ½\nèƒ½å¤Ÿåˆ©ç”¨H5 APIè·å–å½“å‰çš„å®šä½ä¿¡æ¯\nèƒ½å¤Ÿä½¿ç”¨ç™¾åº¦åœ°å›¾APIå±•ç¤ºåœ°å›¾é¡µé¢ï¼Œè·å–å¯¹åº”åŸå¸‚ä¿¡æ¯\nè½®æ’­å›¾ï¼ˆâ˜…â˜…â˜…ï¼‰\nç»„ä»¶ä½¿ç”¨çš„åŸºæœ¬æ­¥éª¤\næ‰“å¼€antd-mobileç»„ä»¶åº“çš„Carouselç»„ä»¶æ–‡æ¡£\né€‰æ‹©åŸºæœ¬ï¼Œç‚¹å‡» (</>) æ˜¾ç¤ºæºç \næ‹·è´æ ¸å¿ƒä»£ç åˆ°Indexçš„ç»„ä»¶ä¸­\nåˆ†æå¹¶ä¸”è°ƒæ•´ä»£ç ï¼Œè®©å…¶èƒ½å¤Ÿåœ¨é¡¹ç›®ä¸­è¿è¡Œ\nè½®æ’­å›¾çš„ç§»æ¤\næ‹·è´ç¤ºä¾‹ä»£ç ä¸­çš„å†…å®¹")]),s._v(" "),a("p",[s._v("å¯¼å…¥ç»„ä»¶")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { Carousel, WingBlank } from 'antd-mobile';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("çŠ¶æ€")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    state = {\n        // å›¾ç‰‡çš„åç§°\n        data: ['1', '2', '3'],\n        // å›¾ç‰‡çš„é«˜åº¦\n        imgHeight: 176,\n    }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("å£°æ˜å‘¨æœŸé’©å­å‡½æ•°ï¼Œä¿®æ”¹çŠ¶æ€ï¼Œè®¾ç½®æ•°æ®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("componentDidMount() {\n    // simulate img loading\n    setTimeout(() => {\n        this.setState({\n            data: ['AiyWuByWklrrUDlFignR', 'TekJlZRVCjLFexlOCuWn', 'IJOtIlfsYdTyaDTRVrLI'],\n        });\n    }, 100);\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("ç»“æ„")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div className=\"index\">\n    <Carousel\n        {/* è‡ªåŠ¨æ’­æ”¾ */}\n        autoplay={false}\n        {/* æ— é™å¾ªç¯ */}\n        infinite\n        {/* è½®æ’­å›¾åˆ‡æ¢å‰çš„å›è°ƒå‡½æ•° */}\n        beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\n        {/* è½®æ’­å›¾åˆ‡æ¢åçš„å›è°ƒå‡½æ•° */}\n        afterChange={index => console.log('slide to', index)}\n        {/* è‡ªåŠ¨åˆ‡æ¢çš„æ—¶é—´ */}\n        autoplayInterval='2000'\n    >    \n        {/* éå†çŠ¶æ€é‡Œé¢çš„æ•°æ®ï¼Œåˆ›å»ºå¯¹åº”çš„aæ ‡ç­¾å’Œimgå›¾ç‰‡æ ‡ç­¾ */}\n        {this.state.data.map(val => (\n            <a\n                key={val}\n                href=\"http://www.alipay.com\"\n                style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\n            >\n                <img\n                    src={`https://zos.alipayobjects.com/rmsportal/${val}.png`}\n                    alt=\"\"\n                    style={{ width: '100%', verticalAlign: 'top' }}\n                    {/* å›¾ç‰‡åŠ è½½å®Œæˆçš„æ—¶å€™è°ƒç”¨ */}\n                    onLoad={() => {\n                        // fire window resize event to change height\n                        window.dispatchEvent(new Event('resize'));\n                        this.setState({ imgHeight: 'auto' });\n                    }}\n                />\n            </a>\n        ))}\n    </Carousel>\n</div>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("p",[s._v("ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹è½®æ’­å›¾è¿›è¡Œå®šåˆ¶")]),s._v(" "),a("ul",[a("li",[s._v("å…ˆä¼˜åŒ–ç›¸åº”çš„ç»“æ„ï¼Œåˆ é™¤ä¸å¿…è¦çš„ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div className=\"index\">\n    <Carousel\n        autoplay={true}\n        infinite\n        autoplayInterval='2000'\n    >\n        {this.state.data.map(val => (\n            <a\n                key={val}\n                href=\"http://www.alipay.com\"\n                style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\n            >\n                <img\n                    src={`https://zos.alipayobjects.com/rmsportal/${val}.png`}\n                    alt=\"\"\n                    style={{ width: '100%', verticalAlign: 'top' }}\n                />\n            </a>\n        ))}\n    </Carousel>\n</div>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"è·å–è½®æ’­å›¾çš„æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–è½®æ’­å›¾çš„æ•°æ®"}},[s._v("#")]),s._v(" è·å–è½®æ’­å›¾çš„æ•°æ®")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£… axiosï¼š yarn add axios")]),s._v(" "),a("li",[s._v("åœ¨Indexç»„ä»¶ä¸­å¯¼å…¥axios")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import axios from 'axios'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("åœ¨stateä¸­æ·»åŠ è½®æ’­å›¾æ•°æ®ï¼šswipers")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("state = {\n    // è½®æ’­å›¾çŠ¶æ€\n    swipers: [],\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("æ–°å»ºä¸€ä¸ªæ–¹æ³• getSwipers ç”¨æ¥è·å–è½®æ’­å›¾æ•°æ®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getSwipers() {\n    // è¯·æ±‚æ•°æ®\n    let {data: res} = await axios.get('http://localhost:8080/home/swiper')\n    // åˆ¤æ–­è¿”å›çš„çŠ¶æ€æ˜¯å¦æ˜¯æˆåŠŸ\n    if(res.status!= 200){\n        console.error(res.description)\n        return\n    }\n    // æŠŠè·å–åˆ°çš„å€¼è®¾ç½®ç»™state\n    this.setState({\n        swipers: res.body\n    })\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨componentDidMounté’©å­å‡½æ•°ä¸­è°ƒç”¨è¿™ä¸ªæ–¹æ³•")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("componentDidMount() {\n    // è°ƒç”¨è¯·æ±‚è½®æ’­å›¾çš„æ–¹æ³•\n   this.getSwipers()\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("ä½¿ç”¨è·å–åˆ°çš„æ•°æ®æ¸²æŸ“è½®æ’­å›¾")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ¸²æŸ“è½®æ’­å›¾çš„é€»è¾‘ä»£ç \nrenderSwipers(){\n    return this.state.swipers.map(item => (\n        <a\n            key={item.id}\n            href=\"http://www.itcast.cn\"\n            style={{ display: 'inline-block', width: '100%', height: 212 }}\n        >\n            <img\n                src={`http://localhost:8080${item.imgSrc}`}\n                alt=\"\"\n                style={{ width: '100%', verticalAlign: 'top' }}\n            />\n        </a>\n    ))\n}\nrender() {\n    return (\n        <div className=\"index\">\n            <Carousel\n                autoplay={true}\n                infinite\n                autoplayInterval='2000'\n            >\n                {/* è°ƒç”¨æ¸²æŸ“è½®æ’­å›¾çš„æ–¹æ³• */}\n                {this.renderSwipers()}\n            </Carousel>\n        </div>\n    )\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("h3",{attrs:{id:"å¯¼èˆªèœå•-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¼èˆªèœå•-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" å¯¼èˆªèœå•ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åˆ©ç”¨äº†antd-moblieçš„Flexç»„ä»¶è¿›è¡Œçš„å¸ƒå±€")]),s._v(" "),a("li",[s._v("å¯¼å…¥navçš„å›¾ç‰‡")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import nav1 from '../../assets/images/nav-1.png'\nimport nav2 from '../../assets/images/nav-2.png'\nimport nav3 from '../../assets/images/nav-3.png'\nimport nav4 from '../../assets/images/nav-4.png'\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("ç¼–å†™é¡µé¢é¡µé¢")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<Flex className="nav">\n    <Flex.Item>\n        <img src={nav1} alt=""/>\n        <h2>æ•´ç§Ÿ</h2>\n    </Flex.Item>\n    <Flex.Item>\n        <img src={nav2} alt=""/>\n        <h2>åˆç§Ÿ</h2>\n    </Flex.Item>\n    <Flex.Item>\n        <img src={nav3} alt=""/>\n        <h2>åœ°å›¾æ‰¾æˆ¿</h2>\n    </Flex.Item>\n    <Flex.Item>\n        <img src={nav4} alt=""/>\n        <h2>å»å‡ºç§Ÿ</h2>\n    </Flex.Item>\n</Flex>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("ul",[a("li",[s._v("ç»™Flex ç»„ä»¶æ·»åŠ äº†ç±»åæ˜¯ä¸ºäº†å»æ›´æ”¹ç›¸åº”çš„æ ·å¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".nav {\n    padding: 10px 0;\n}\n\n.nav img {\n    width: 48px;\n}\n\n.nav h2 {\n    font-size: 13px;\n    font-weight: 400;\n}\n/* é€šè¿‡è°ƒè¯•å·¥å…·æˆ‘ä»¬çœ‹åˆ°ï¼Œåç»­è¢«ç”Ÿæˆçš„è¿™ä¸ªçˆ¶å…ƒç´ çš„ç±»åå«am-flexbox-item */\n.am-flexbox-item {\n    text-align: center;\n}\n\nh2 {\n    margin: 0;\n    margin-top: 7px;\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"å¯¼èˆªèœå•çš„é‡æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¼èˆªèœå•çš„é‡æ„"}},[s._v("#")]),s._v(" å¯¼èˆªèœå•çš„é‡æ„")]),s._v(" "),a("ul",[a("li",[s._v("æŠŠå†…å®¹å°è£…æˆæ•°ç»„")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// å¯¼èˆªèœå•çš„æ•°æ®\nconst navs = [{\n    id: 0,\n    img: nav1,\n    title: 'æ•´ç§Ÿ',\n    path: '/home/list'\n}, {\n    id: 1,\n    img: nav2,\n    title: 'åˆç§Ÿ',\n    path: '/home/list'\n}, {\n    id: 2,\n    img: nav3,\n    title: 'åœ°å›¾æ‰¾æˆ¿',\n    path: '/home/map'\n}, {\n    id: 3,\n    img: nav4,\n    title: 'å»å‡ºç§Ÿ',\n    path: '/home/list'\n}]\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»ºå¯¹åº”çš„æ–¹æ³• renderNavs,åœ¨æ–¹æ³•ä¸­éå†navsï¼Œä¸€ä¸ªä¸€ä¸ªè®¾ç½®æ•°æ®ï¼ŒæŠŠæœ€ç»ˆçš„JSXè¿”å›")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// æ¸²æŸ“å¯¼èˆªèœå•çš„é€»è¾‘ä»£ç \nrenderNavs() {\n    return navs.map(item => {\n        return (\n            <Flex.Item key={item.id} onClick={()=>{this.props.history.push(item.path)}}>\n                <img src={item.img} alt="" />\n                <h2>{item.title}</h2>\n            </Flex.Item>\n        )\n    })\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨renderæ–¹æ³•ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{/* å¯¼èˆªæ  */}\n<Flex className="nav">\n    {this.renderNavs()}\n</Flex>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"è½®æ’­å›¾çš„é—®é¢˜-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è½®æ’­å›¾çš„é—®é¢˜-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è½®æ’­å›¾çš„é—®é¢˜ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("ç”±äºæˆ‘ä»¬åŠ¨æ€åŠ è½½æ•°æ®ï¼Œå¯¼è‡´äº†è½®æ’­å›¾ä¸èƒ½è‡ªåŠ¨å»è¿›è¡Œè½®æ’­ä»¥åŠé«˜åº¦çš„å¡Œé™·")]),s._v(" "),a("li",[s._v("è§£å†³åŠæ³•\n"),a("ul",[a("li",[s._v("åœ¨stateä¸­æ·»åŠ è½®æ’­å›¾æ•°æ®æ˜¯å¦åŠ è½½å®Œæˆçš„çŠ¶æ€")])])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    state = {\n        // è½®æ’­å›¾çŠ¶æ€\n        swipers: [],\n        isSwiperLoaded: false\n    }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨è½®æ’­å›¾æ•°æ®åŠ è½½å®Œæˆæ—¶å€™ï¼Œä¿®æ”¹è¿™ä¸ªçŠ¶æ€ä¸ºtrue")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    async getSwipers() {\n        ...\n        // æŠŠè·å–åˆ°çš„å€¼è®¾ç½®ç»™state\n        this.setState({\n            swipers: res.body,\n            isSwiperLoaded: true\n        })\n\n    }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("åªæœ‰åœ¨å½•æ’­å›¾æ•°æ®åŠ è½½å®Œæˆçš„æƒ…å†µä¸‹ï¼Œæ‰æ¸²æŸ“è½®æ’­å›¾ç»„ä»¶")]),s._v(" "),a("li",[s._v("ç»™è½®æ’­å›¾çš„å¤–å±‚åŒ…è£¹ä¸€ä¸ªdivï¼Œç»™è¿™ä¸ªdivè®¾ç½®é«˜åº¦")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div className=\"swiper\">\n    {/* è½®æ’­å›¾ */}\n    {this.state.isSwiperLoaded ? (<Carousel\n        autoplay={true}\n        infinite\n        autoplayInterval='2000'\n    >\n        {/* è°ƒç”¨æ¸²æŸ“è½®æ’­å›¾çš„æ–¹æ³• */}\n        {this.renderSwipers()}\n    </Carousel>) : ('')}\n</div>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"tabbarçš„é—®é¢˜-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tabbarçš„é—®é¢˜-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" TabBarçš„é—®é¢˜ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("å½“æˆ‘ä»¬é€šè¿‡é¦–é¡µèœå•å¯¼èˆªè·³è½¬åˆ°ç›¸åº”é¡µé¢çš„æ—¶å€™ï¼Œåº•éƒ¨çš„TabBaræ²¡æœ‰è¿›è¡Œé«˜äº®æ˜¾ç¤º\nåŸå› ï¼š æˆ‘ä»¬å®ç°è¯¥åŠŸèƒ½çš„æ—¶å€™ï¼Œåªè€ƒè™‘äº†ç‚¹å‡»ä»¥åŠç¬¬ä¸€æ¬¡å®¶çš„Homeç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘ä¸é‡æ–°åŠ è½½Homeç»„ä»¶æ—¶è·¯ç”±çš„åˆ‡æ¢\nè§£å†³ï¼šåœ¨è·¯ç”±å‘ç”Ÿåˆ‡æ¢çš„æ—¶å€™ï¼Œå†æ¥å¤„ç†TabBarçš„é«˜äº®æ˜¾ç¤º\næ·»åŠ componentDidUpDate é’©å­å‡½æ•°\nåœ¨é’©å­å‡½æ•°ä¸­åˆ¤æ–­è·¯ç”±åœ°å€æ˜¯å¦åˆ‡æ¢\nåœ¨è·¯ç”±åœ°å€åˆ‡æ¢çš„æ—¶å€™ï¼Œè®©TabBarå¯¹åº”é«˜äº®\nåœ¨Home.jsé‡Œé¢æ³¨å†Œé’©å­å‡½æ•°")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    // å½“Homeç»„ä»¶çš„å†…å®¹å‘ç”Ÿæ›´æ–°çš„æ—¶å€™è°ƒç”¨\n\n    componentDidUpdate(prevProps) {\n\n        // åœ¨è¿™é‡Œå°±èƒ½åˆ¤æ–­è·¯ç”±æ˜¯å¦è¿›è¡Œäº†åˆ‡æ¢ï¼Œè·¯ç”±çš„ä¿¡æ¯ä¿å­˜åœ¨propså±æ€§é‡Œé¢\n\n        // å¦‚æœå½“å‰çš„è·¯ç”±ä¿¡æ¯ä¸ç­‰äºä¸Šä¸€æ¬¡çš„ï¼Œé‚£ä¹ˆå°±ä»£è¡¨å‘ç”Ÿäº†è·¯ç”±åˆ‡æ¢\n\n        if(prevProps.location.pathname !== this.props.location.pathname){\n\n            this.setState({\n\n                selectedTab: this.props.location.pathname\n\n            })\n\n        }\n    }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"sassçš„ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sassçš„ä½¿ç”¨"}},[s._v("#")]),s._v(" Sassçš„ä½¿ç”¨")]),s._v(" "),a("p",[s._v("æ‰“å¼€è„šæ‰‹æ¶æ–‡æ¡£ï¼Œæ‰¾åˆ°æ·»åŠ Sassæ ·å¼\nå®‰è£…Sassï¼š yarn add node-sass\nåˆ›å»ºåç¼€åä¸º.scss æˆ–è€… .sass çš„æ ·å¼æ–‡ä»¶\nåœ¨ç»„ä»¶ä¸­å¯¼å…¥Sassæ ·å¼\nç§Ÿæˆ¿å°ç»„ï¼ˆâ˜…â˜…â˜…ï¼‰\nä¸šåŠ¡ä»‹ç»\néœ€æ±‚ï¼šæ ¹æ®å½“å‰åœ°ç†ä½ç½®å±•ç¤ºä¸åŒå°ç»„ä¿¡æ¯\néœ€è¦åå°æ¥å£æ ¹æ®ç”¨æˆ·æ‰¾æˆ¿æ•°æ®ï¼Œæ¨èç”¨æˆ·æœ€æ„Ÿå…´è¶£çš„å†…å®¹(æ­£å¸¸çš„é€»è¾‘æ˜¯æˆ‘ä»¬å…ˆè·å–åˆ°ç”¨æˆ·å½“å‰å®šä½çš„ä¿¡æ¯ï¼ŒæŠŠä¿¡æ¯å‘é€ç»™åå°ï¼Œåå°æ ¹æ®å®šä½ä¿¡æ¯è·å–å¯¹åº”çš„å†…å®¹)\nå‰ç«¯åªéœ€è¦å±•ç¤ºæ•°æ®\næ•°æ®è·å–\nåœ¨stateä¸­æ·»åŠ ç§Ÿæˆ¿å°ç»„æ•°æ®ï¼šgroups")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    state = {\n        ...\n        // ç§Ÿæˆ¿å°ç»„çŠ¶æ€\n        groups: []\n    }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("æ–°å»ºä¸€ä¸ªæ–¹æ³•"),a("code",[s._v("getGroups")]),s._v("ç”¨æ¥è·å–æ•°æ®ï¼Œå¹¶æ›´æ–°groupsçŠ¶æ€")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getGroups() {\n    let { data: res } = await axios.get('http://localhost:8080/home/groups', {\n        params: {\n            'area': 'AREA%7C88cff55c-aaa4-e2e0'\n        }\n    })\n    // åˆ¤æ–­è¿”å›çš„çŠ¶æ€æ˜¯å¦æ˜¯æˆåŠŸ\n    if (res.status != 200) {\n        console.error(res.description)\n        return\n    }\n    // æŠŠè·å–åˆ°çš„å€¼è®¾ç½®ç»™state\n    this.setState({\n        groups: res.body\n    })\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨"),a("code",[s._v("componentDidMount")]),s._v("é’©å­å‡½æ•°ä¸­è°ƒç”¨è¯¥æ–¹æ³•")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("componentDidMount() {\n    // è°ƒç”¨è¯·æ±‚è½®æ’­å›¾çš„æ–¹æ³•\n    this.getSwipers()\n    this.getGroups()\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("ä½¿ç”¨è·å–åˆ°çš„æ•°æ®æ¸²æŸ“ç§Ÿæˆ¿å°ç»„æ•°æ®")]),s._v(" "),a("h3",{attrs:{id:"é¡µé¢ç»“æ„æ ·å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡µé¢ç»“æ„æ ·å¼"}},[s._v("#")]),s._v(" é¡µé¢ç»“æ„æ ·å¼")]),s._v(" "),a("p",[s._v("å®ç°æ ‡é¢˜çš„ç»“æ„å’Œæ ·å¼")]),s._v(" "),a("ul",[a("li",[s._v("æ‰“å¼€Grid å®«æ ¼ç»„ä»¶")]),s._v(" "),a("li",[s._v("é€‰æ‹© åŸºæœ¬ èœå•ï¼Œç‚¹å‡»("),a("code",[s._v("</>")]),s._v(") æ˜¾ç¤ºæºç ")]),s._v(" "),a("li",[s._v("æ‹·è´æ ¸å¿ƒä»£ç åˆ°Indexç»„ä»¶ä¸­")]),s._v(" "),a("li",[s._v("åˆ†æè°ƒæ•´ä»£ç ")])]),s._v(" "),a("p",[s._v("å¸ƒå±€ç»“æ„")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' {/* ç§Ÿæˆ¿å°ç»„ */}\n<div className="group">\n    <h3 className="group-title">\n        ç§Ÿæˆ¿å°ç»„ <span className="more">æ›´å¤š</span>\n    </h3>\n    <Grid data={this.state.groups}\n        {/* åˆ—æ•° */}\n        columnNum={2} \n        {/* æ˜¯å¦å¼ºåˆ¶æ­£æ–¹å½¢ */}\n        square={false}\n        {/* æ˜¯å¦æœ‰è¾¹æ¡† */}\n        hasLine={false}\n        {/* è‡ªå®šä¹‰é‡Œé¢çš„å¸ƒå±€ */}\n        renderItem={item => this.renderGroups(item)} />\n</div>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("ul",[a("li",[s._v("è‡ªå®šå¸ƒå±€å•ç‹¬æŠ½å–æˆæ–¹æ³•")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('renderGroups(item) {\n    return (\n        <Flex className="group-item" justify="around">\n            <div className="desc">\n                <p className="title">{item.title}</p>\n                <span className="info">{item.desc}</span>\n            </div>\n            <img src={`http://localhost:8080${item.imgSrc}`} alt="" />\n        </Flex>\n    )\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("ç›¸åº”çš„æ ·å¼å±æ€§")])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #f6f5f6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".group-title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px 0px 15px 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".more")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #787d82"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" absolute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 14px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("// è¦†ç›–é»˜è®¤èƒŒæ™¯è‰²\n    .am-grid .am-flexbox")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inherit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".am-flexbox-item .am-grid-item-content")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".group-item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 75px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".desc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bold"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 13px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".info")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #999"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 55px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".am-flexbox-align-stretch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".am-grid-item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #fff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("&:first-child")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br")])]),a("h3",{attrs:{id:"æœ€æ–°èµ„è®¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ€æ–°èµ„è®¯"}},[s._v("#")]),s._v(" æœ€æ–°èµ„è®¯")]),s._v(" "),a("h4",{attrs:{id:"æ•°æ®è·å–-é¡µé¢æ¸²æŸ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®è·å–-é¡µé¢æ¸²æŸ“"}},[s._v("#")]),s._v(" æ•°æ®è·å–&é¡µé¢æ¸²æŸ“")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨stateä¸­æ·»åŠ ç§Ÿæˆ¿å°ç»„æ•°æ®ï¼šnews")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    state = {\n        ...\n        // æœ€æ–°èµ„è®¯\n        news: []\n    }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»ºä¸€ä¸ªå‡½æ•° "),a("code",[s._v("getNews()")]),s._v(", åœ¨è¿™ä¸ªå‡½æ•°ä¸­åˆ©ç”¨"),a("code",[s._v("axios")]),s._v("æ¥è¯·æ±‚æœåŠ¡å™¨")]),s._v(" "),a("li",[s._v("è·å–åˆ°çš„æ•°æ®åˆ¤æ–­è¿”å›çš„çŠ¶æ€æ˜¯å¦æ˜¯200ï¼Œå¦‚æœä¸æ˜¯ï¼Œæç¤ºç”¨æˆ·")]),s._v(" "),a("li",[s._v("å¦‚æœçŠ¶æ€æ˜¯200ï¼Œåˆ©ç”¨"),a("code",[s._v("this.setState()")]),s._v(" æ¥æ›´æ–°é¡µé¢")]),s._v(" "),a("li",[s._v("åœ¨"),a("code",[s._v("componentDidUpdate")]),s._v("é’©å­å‡½æ•°ä¸­è°ƒç”¨ "),a("code",[s._v("getNews()")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getNews() {\n    let { data: res } = await axios.get('http://localhost:8080/home/news?area=AREA%7C88cff55c-aaa4-e2e0')\n    // åˆ¤æ–­è¿”å›çš„çŠ¶æ€æ˜¯å¦æ˜¯æˆåŠŸ\n    if (res.status != 200) {\n        console.error(res.description)\n        return\n    }\n    // æŠŠè·å–åˆ°çš„å€¼è®¾ç½®ç»™state\n    this.setState({\n        news: res.body\n    })\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»ºé¡µé¢ç»“æ„ï¼Œæ¸²æŸ“åˆ°é¡µé¢\n"),a("ul",[a("li",[a("code",[s._v("WingBlank")]),s._v("ç»„ä»¶ ä¸¤ç¿¼ç•™ç™½ çš„æ•ˆæœ")]),s._v(" "),a("li",[s._v("æ¸²æŸ“çš„é€»è¾‘ä»£ç æ¯”è¾ƒå¤šï¼ŒæŠ½å–æˆä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ ·ä¿è¯ç»“æ„ä¸­çš„ä»£ç æ¯”è¾ƒæ¸…æ™°")])])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' {/* æœ€æ–°èµ„è®¯ */}\n<div className="news">\n    <h3 className="group-title">æœ€æ–°èµ„è®¯</h3>\n    <WingBlank size="md">{this.renderNews()}</WingBlank>\n</div>\n\nrenderNews() {\n return this.state.news.map(item => {\n     return (\n         <div className="news-item" key={item.id}>\n             <div className="imgwrap">\n                 <img\n                     className="img"\n                     src={`http://localhost:8080${item.imgSrc}`}\n                     alt=""\n                 />\n             </div>\n             <Flex className="content" direction="column" justify="between">\n                 <h3 className="title">{item.title}</h3>\n                 <Flex className="info" justify="between">\n                     <span>{item.from}</span>\n                     <span>{item.date}</span>\n                 </Flex>\n             </Flex>\n         </div>\n     )\n })\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("ul",[a("li",[s._v("æ ·å¼å±æ€§")])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("// æœ€æ–°èµ„è®¯ï¼š\n.news")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #fff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".group-title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10px 0 5px 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".news-item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px 10px 15px 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("border-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1px solid #e5e5e5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".news-item:last-child")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".imgwrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 90px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 90px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".content")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 14px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".info")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #9c9fa1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".message-title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 48px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br")])]),a("h4",{attrs:{id:"è§£å†³å†…å®¹è¢«tabbarå‹ä½çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³å†…å®¹è¢«tabbarå‹ä½çš„é—®é¢˜"}},[s._v("#")]),s._v(" è§£å†³å†…å®¹è¢«"),a("code",[s._v("TabBar")]),s._v("å‹ä½çš„é—®é¢˜")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬åœ¨Home.jsä¸­æ‰¾åˆ° åŒ…è£¹ è·¯ç”±å’Œåº•éƒ¨å¯¼èˆªæ çš„divç›’å­ï¼Œç»™å…¶æ·»åŠ  padding-bottom å±æ€§å³å¯")]),s._v(" "),a("h3",{attrs:{id:"é¡¶éƒ¨å¯¼èˆªåŠŸèƒ½-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¶éƒ¨å¯¼èˆªåŠŸèƒ½-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é¡¶éƒ¨å¯¼èˆªåŠŸèƒ½ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("å®ç°ç»“æ„å’Œæ ·å¼")]),s._v(" "),a("li",[s._v("æ·»åŠ åŸå¸‚é€‰æ‹©ã€æœç´¢ã€åœ°å›¾æ‰¾æˆ¿é¡µé¢çš„è·¯ç”±è·³è½¬")])]),s._v(" "),a("p",[s._v("ç›¸å…³ç»“æ„")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' <Flex className=\'search-box\'>\n    {/* å·¦ä¾§ç™½è‰²åŒºåŸŸ */}\n    <Flex className="search">\n        {/* ä½ç½® */}\n        <div className="location" >\n            <span className="name">é•¿æ²™</span>\n            <i className="iconfont icon-arrow" />\n        </div>\n\n        {/* æœç´¢è¡¨å• */}\n        <div className="form">\n            <i className="iconfont icon-seach" />\n            <span className="text">è¯·è¾“å…¥å°åŒºæˆ–åœ°å€</span>\n        </div>\n    </Flex>\n    {/* å³ä¾§åœ°å›¾å›¾æ ‡ */}\n    <i className="iconfont icon-map" />\n</Flex>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[s._v("ç›¸å…³æ ·å¼")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// é¡¶éƒ¨å¯¼èˆª\n.search-box {\n    position: absolute;\n    top: 25px;\n    width: 100%;\n    padding: 0 10px;\n    // å·¦ä¾§ç™½è‰²åŒºåŸŸ\n    .search {\n        flex: 1;\n        height: 34px;\n        margin: 0 10px;\n        padding: 5px 5px 5px 8px;\n        border-radius: 3px;\n        background-color: #fff;\n        // ä½ç½®\n        .location {\n            .icon-arrow {\n                margin-left: 2px;\n                font-size: 12px;\n                color: #7f7f80;\n            }\n        }\n        // æœç´¢è¡¨å•\n        .form {\n            border-left: solid 1px #e5e5e5;\n            margin-left: 12px;\n            line-height: 16px;\n            .icon-seach {\n                vertical-align: middle;\n                padding: 0 2px 0 12px;\n                color: #9c9fa1;\n                font-size: 15px;\n            }\n            .text {\n                padding-left: 4px;\n                font-size: 13px;\n                color: #9c9fa1;\n            }\n        }\n    }\n    // å³ä¾§åœ°å›¾å›¾æ ‡\n    .icon-map {\n        font-size: 25px;\n        color: #fff;\n    }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br")])]),a("p",[s._v("H5ä¸­åˆ©ç”¨å®šç†å®šä½API\nåœ°ç†ä½ç½®API å…è®¸ç”¨æˆ·å‘ Webåº”ç”¨ç¨‹åºæä¾›ä»–ä»¬çš„ä½ç½®ï¼Œå‡ºäºéšç§è€ƒè™‘ï¼ŒæŠ¥å‘Šåœ°ç†ä½ç½®å‰å…ˆä¼šè¯·æ±‚ç”¨æˆ·è®¸å¯")]),s._v(" "),a("p",[s._v("åœ°ç†ä½ç½®çš„APIæ˜¯é€šè¿‡ navigator.geolocation å¯¹è±¡æä¾›ï¼Œé€šè¿‡getCurrentPositionæ–¹æ³•è·å–")]),s._v(" "),a("p",[s._v("è·å–åˆ°çš„åœ°ç†ä½ç½®è·Ÿ GPSã€IPåœ°å€ã€WIFIå’Œè“ç‰™çš„MACåœ°å€ã€GSM/CDMSçš„IDæœ‰å…³")]),s._v(" "),a("p",[s._v("æ¯”å¦‚ï¼šæ‰‹æœºä¼˜å…ˆä½¿ç”¨GPSå®šä½ï¼Œç¬”è®°æœ¬ç­‰æœ€å‡†ç¡®çš„æ˜¯å®šä½æ˜¯WIFI")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬æ‰€è·å–åˆ°çš„æ˜¯ç»çº¬åº¦ï¼Œå…¶å®å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å€ŸåŠ©ç™¾åº¦åœ°å›¾ã€é«˜å¾·åœ°å›¾ç­‰çš„å¼€æ”¾æ¥å£ï¼Œæ¥å¸®æˆ‘ä»¬æŠŠç»çº¬åº¦è¿›è¡Œæ¢ç®—\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185230144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-p7aG4c41-1575110971811)(images/location.png)]"}})]),s._v(" "),a("h3",{attrs:{id:"å®šä½ç›¸å…³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šä½ç›¸å…³"}},[s._v("#")]),s._v(" å®šä½ç›¸å…³")]),s._v(" "),a("h4",{attrs:{id:"ç™¾åº¦åœ°å›¾api-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç™¾åº¦åœ°å›¾api-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ç™¾åº¦åœ°å›¾APIï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("H5çš„åœ°ç†ä½ç½®APIåªèƒ½è·å–åˆ°å¯¹åº”ç»çº¬åº¦ä¿¡æ¯")]),s._v(" "),a("li",[s._v("å®é™…å¼€å‘ä¸­ï¼Œä¼šä½¿ç”¨ç™¾åº¦åœ°å›¾/é«˜å¾·åœ°å›¾æ¥å®Œæˆåœ°ç†ä½ç½®çš„ç›¸å…³åŠŸèƒ½")]),s._v(" "),a("li",[s._v("ç§Ÿæˆ¿é¡¹ç›®ä¸­ï¼Œé€šè¿‡ç™¾åº¦åœ°å›¾APIå®ç°åœ°ç†ä½ç½®å’Œåœ°å›¾æ‰¾æˆ¿åŠŸèƒ½")]),s._v(" "),a("li",[s._v("æˆ‘ä»¬éœ€è¦å»å‚ç…§"),a("a",{attrs:{href:"http://lbsyun.baidu.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç™¾åº¦åœ°å›¾æ–‡æ¡£"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("æ³¨å†Œç™¾åº¦å¼€å‘è€…è´¦å·ï¼Œç”³è¯·å¯¹åº”çš„AK")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185218638.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-vIF45pqR-1575110971813)(images/ç™¾åº¦AK.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"ä½¿ç”¨æ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ­¥éª¤"}},[s._v("#")]),s._v(" ä½¿ç”¨æ­¥éª¤")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185209380.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-vaq46lOp-1575110971814)(images/ä½¿ç”¨æ­¥éª¤-01.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("åœ¨index.cssä¸­è®¾ç½®å…¨å±€æ ·å¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185158224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-eCQUfWob-1575110971816)(images/ä½¿ç”¨æ­¥éª¤-02.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºMapç»„ä»¶ï¼Œé…ç½®è·¯ç”±ï¼Œåœ¨Mapç»„ä»¶ä¸­ï¼Œåˆ›å»ºåœ°å›¾å®¹å™¨å…ƒç´ ï¼Œå¹¶è®¾ç½®æ ·å¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185150403.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-hHX3TmL4-1575110971817)(images/ä½¿ç”¨æ­¥éª¤-03.png)]"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åˆ›å»ºåœ°å›¾å®ä¾‹")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185131749.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-kyAG2ryT-1575110971825)(images/ä½¿ç”¨æ­¥éª¤-04.png)]"}})])]),s._v(" "),a("li",[a("p",[s._v("è®¾ç½®ä¸­å¿ƒç‚¹åæ ‡")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185123835.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-UnGPI00L-1575110971827)(images/ä½¿ç”¨æ­¥éª¤-05.png)]"}})]),s._v(" "),a("p",[s._v("åˆå§‹åŒ–åœ°å›¾ï¼ŒåŒæ—¶è®¾ç½®å±•ç¤ºçº§åˆ«")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185112318.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-SUIX9PKC-1575110971828)(images/ä½¿ç”¨æ­¥éª¤-06.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"è·å–é¡¶éƒ¨å¯¼èˆªåŸå¸‚ä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–é¡¶éƒ¨å¯¼èˆªåŸå¸‚ä¿¡æ¯"}},[s._v("#")]),s._v(" è·å–é¡¶éƒ¨å¯¼èˆªåŸå¸‚ä¿¡æ¯")]),s._v(" "),a("ul",[a("li",[s._v("æŸ¥çœ‹ç™¾åº¦åœ°å›¾çš„å®šä½æ–‡æ¡£")]),s._v(" "),a("li",[s._v("é€šè¿‡IPå®šä½è·å–åˆ°å½“å‰åŸå¸‚åç§°")]),s._v(" "),a("li",[s._v("è°ƒç”¨æˆ‘ä»¬æœåŠ¡å™¨çš„æ¥å£ï¼Œæ¢å–é¡¹ç›®ä¸­çš„åŸå¸‚ä¿¡æ¯")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185057199.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-pVvIfKC5-1575110971831)(images/å®šä½æ¥å£.png)]"}})]),s._v(" "),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day03"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day03"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day03")]),s._v(" "),a("p",[s._v("åŸå¸‚é€‰æ‹©åŠŸèƒ½&react-virtualizedç»„ä»¶ä½¿ç”¨")]),s._v(" "),a("h3",{attrs:{id:"åŸå¸‚é€‰æ‹©æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸå¸‚é€‰æ‹©æ¨¡å—"}},[s._v("#")]),s._v(" åŸå¸‚é€‰æ‹©æ¨¡å—")]),s._v(" "),a("p",[s._v("ç›®æ ‡\nèƒ½å¤Ÿå®ç°é¡¶éƒ¨å¯¼èˆªæ \nèƒ½å¤Ÿè·å–åŸå¸‚åˆ—è¡¨æ•°æ®ï¼Œçƒ­é—¨åŸå¸‚æ•°æ®ï¼Œå½“å‰å®šä½åŸå¸‚æ•°æ®ï¼Œå¹¶ä¸”å¯¹æ•°æ®è¿›è¡Œé‡æ–°å°è£…\nçŸ¥é“ä»€ä¹ˆæ˜¯é•¿åˆ—è¡¨ï¼Œä»¥åŠå¸¦æ¥çš„ç¼ºé™·\nè¯´å‡ºé•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–çš„ä¸¤ç§æ–¹å¼\nèƒ½å¤Ÿä½¿ç”¨ react-virtualizedè¿›è¡ŒåŸå¸‚åˆ—è¡¨çš„æ¸²æŸ“\nèƒ½å¤Ÿæ¸²æŸ“å³ä¾§ç´¢å¼•åˆ—è¡¨\nåŠŸèƒ½åˆ†æ\nåˆ‡æ¢åŸå¸‚ï¼ŒæŸ¥çœ‹è¯¥åŸå¸‚ä¸‹çš„æˆ¿æºä¿¡æ¯\nåŠŸèƒ½\né¡¶éƒ¨å¯¼èˆªæ \nåŸå¸‚åˆ—è¡¨å±•ç¤º\nä½¿ç”¨ç´¢å¼•å¿«é€Ÿåˆ‡æ¢åŸå¸‚\nç‚¹å‡»åŸå¸‚åç§°åˆ‡æ¢åŸå¸‚")]),s._v(" "),a("h3",{attrs:{id:"é¡¶éƒ¨å¯¼èˆªæ -â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¶éƒ¨å¯¼èˆªæ -â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é¡¶éƒ¨å¯¼èˆªæ ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("æ‰“å¼€antd-mobile ç»„ä»¶åº“çš„NavBar å¯¼èˆªæ ç»„ä»¶ æ–‡æ¡£\nä»æ–‡æ¡£ä¸­æ‹·è´ç»„ä»¶ç¤ºä¾‹ä»£ç åˆ°é¡¹ç›®ä¸­ï¼Œè®©å…¶æ­£ç¡®è¿è¡Œ\nä¿®æ”¹å¯¼èˆªæ æ ·å¼å’Œç»“æ„\nç¤ºä¾‹")]),s._v(" "),a("p",[s._v("å¼•å…¥ ç»„ä»¶åº“")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import {NavBar, Icon} from 'antd-mobile'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ‹·è´ä»£ç ç»“æ„")]),s._v(" "),a("div",[s._v('\n        // æ¨¡å¼ é»˜è®¤å€¼æ˜¯ dark\n        mode="light"\n        // å·¦ä¾§å°å›¾ç‰‡\n        icon={'),a("Icon",{attrs:{type:"left"}}),s._v("}\n        // å·¦ä¾§æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶\n        onLeftClick={() => console.log('onLeftClick')}\n        // å³ä¾§æŒ‰æŒ‰é’®å›¾æ ‡\n        rightContent={[\n            "),s._v(" '16px' }} />,\n            "),a("Icon",{key:"1",attrs:{type:"ellipsis"}}),s._v(",\n        ]}\n    >åŸå¸‚åˆ—è¡¨")],1),s._v(" "),a("p",[s._v("ä¿®æ”¹ç»“æ„ä»£ç ")]),s._v(" "),a("div",[s._v('\n        // æ¨¡å¼ é»˜è®¤å€¼æ˜¯ dark\n        mode="light"\n        // å·¦ä¾§å°å›¾ç‰‡\n        icon={'),a("i",{attrs:{className:"iconfont icon-back"}}),s._v("}\n        // å·¦ä¾§æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶\n        onLeftClick={() => this.props.history.go(-1)}\n    >åŸå¸‚åˆ—è¡¨")]),s._v(" "),a("p",[s._v("è®¾ç½®ç›¸åº”çš„æ ·å¼")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".citylist")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".navbar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #f6f5f6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("// navbar æ ‡é¢˜é¢œè‰²\n    .am-navbar-title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"è·å–å¤„ç†æ•°æ®-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–å¤„ç†æ•°æ®-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è·å–å¤„ç†æ•°æ®ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("é¡µé¢åŠ è½½æ—¶å€™ï¼Œæ ¹æ®æ¥å£è·å–åˆ°åŸå¸‚åˆ—è¡¨æ•°æ®\nåˆ†æå½“å‰æ•°æ®æ ¼å¼ä»¥åŠè¯¥åŠŸèƒ½éœ€è¦çš„æ•°æ®æ ¼å¼\nè½¬æ¢å½“å‰æ•°æ®æ ¼å¼ä¸ºæ‰€éœ€è¦çš„æ•°æ®æ ¼å¼â€˜")]),s._v(" "),a("h4",{attrs:{id:"è·å–æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æ•°æ®"}},[s._v("#")]),s._v(" è·å–æ•°æ®")]),s._v(" "),a("p",[s._v("æ ¹æ®æ¥å£æ–‡æ¡£æä¾›çš„urlè¿›è¡Œç½‘ç»œè¯·æ±‚\nè·å–åˆ°ç›¸åº”çš„æ•°æ®ä¿¡æ¯")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// å½“ç»„ä»¶è¢«æŒ‚è½½çš„æ—¶å€™è°ƒç”¨\ncomponentDidMount() {\n   this.getCityList()\n}\nasync getCityList() {\n    let {data:res} = await axios.get('http://localhost:8080/area/city?level=1')\n    console.log(res);\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"å¤„ç†æ•°æ®æ ¼å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤„ç†æ•°æ®æ ¼å¼"}},[s._v("#")]),s._v(" å¤„ç†æ•°æ®æ ¼å¼")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬éœ€è¦æŠŠæœåŠ¡å™¨è¿”å›çš„æ•°æ®è¿›è¡Œæ ¼å¼åŒ–å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é¦–å­—æ¯æ¥è¿›è¡ŒåŸå¸‚çš„å®šä½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠæ ¼å¼è½¬æ¢æˆä»¥ä¸‹æ ¼å¼")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185422270.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-GhGLU7AO-1575111205711)(images/citylist.png)]"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("æˆ‘ä»¬éœ€è¦éå† listæ•°ç»„")])]),s._v(" "),a("li",[a("p",[s._v("è·å–åˆ°æ¯ä¸€ä¸ªåŸå¸‚çš„é¦–å­—æ¯")])]),s._v(" "),a("li",[a("p",[s._v("åˆ¤æ–­æˆ‘ä»¬å®šä¹‰çš„æ•°ç»„ä¸­æ˜¯å¦æœ‰è¿™ä¸ªåˆ†ç±»ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆç›´æ¥pushæ•°æ®è¿›æ¥ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ è¿™ä¸ªåˆ†ç±»")])]),s._v(" "),a("li",[a("p",[s._v("å½“åŸå¸‚åˆ—è¡¨æ•°æ®æŒ‰ç…§é¦–å­—æ¯åˆ†å¥½ç±»äº†ä¹‹åï¼Œè¿˜éœ€è¦å®ç°çƒ­é—¨åŸå¸‚æ•°æ®å’Œå®šä½åŸå¸‚æ•°æ®")])]),s._v(" "),a("li",[a("p",[s._v("è·å–çƒ­é—¨åŸå¸‚æ•°æ®ï¼Œæ·»åŠ åˆ°cityList åˆ—è¡¨æ•°æ®ä¸­ï¼Œå°†ç´¢å¼•æ•°æ®æ·»åŠ åˆ° cityIndex ç´¢å¼•æ•°æ®ä¸­")])]),s._v(" "),a("li",[a("p",[s._v("è·å–å½“å‰åŸå¸‚æ•°æ®ï¼Œæ·»åŠ åˆ°cityList åˆ—è¡¨æ•°æ®ä¸­ï¼Œå°†ç´¢å¼•æ•°æ®æ·»åŠ åˆ° cityIndex ç´¢å¼•æ•°æ®ä¸­")])])]),s._v(" "),a("p",[s._v("å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å¤„ç†è¿™ä¸ªæ•°æ®")]),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" /**\n  * æ ¼å¼åŒ–è¿”å›çš„æ•°æ®\n @param {*} list \n */\n function formatCityData(list) {\n // é”®æ˜¯é¦–å­—æ¯ï¼Œå€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼šå¯¹åº”é¦–å­—æ¯çš„åŸå¸‚ä¿¡æ¯\n let cityList = {}\n list.forEach(item => {\n     // é€šè¿‡ç®€å†™è·å–åˆ°ç¬¬ä¸€ä¸ªé¦–å­—æ¯\n     let first = item.short.substr(0, 1)\n     // åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰è¿™ä¸ªkey æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¯¹è±¡å–å€¼çš„ç¬¬äºŒç§æ–¹å¼ ä¸­æ‹¬å·çš„æ–¹å¼\n     if(cityList[first]){\n         // å¦‚æœè¿›å…¥if ä»£è¡¨æœ‰è¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥pushè¿›å»\n         cityList[first].push(item)\n     }else{\n         // å¦‚æœè¿›å…¥else ä»£è¡¨æ²¡æœ‰è¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬åˆå§‹åŒ–è¿™ä¸ªå±æ€§ï¼Œå¹¶ä¸”æŠŠå½“å‰æ•°æ®è®¾ç½®è¿›å»\n         cityList[first] = [item]\n     }\n })\n // æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æŠŠ cityListé‡Œé¢æ‰€æœ‰çš„keyå–å‡ºæ¥ï¼Œæ”¾åœ¨æ•°ç»„ä¸­ï¼Œå……å½“åŸå¸‚åˆ—è¡¨å³ä¾§çš„é¦–å­—æ¯å¯¼èˆªæ¡\n let cityIndex = Object.keys(cityList).sort() \n return {\n     cityList,\n     cityIndex\n }\n }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("åœ¨"),a("code",[s._v("getCityList()")]),s._v("æ–¹æ³•ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œæ¥æ ¼å¼åŒ–æ•°æ®")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getCityList() {\n    let { data: res } = await axios.get('http://localhost:8080/area/city?level=1')\n    // æ ¼å¼åŒ–è¿”å›çš„æ•°æ®\n    let { cityList, cityIndex } = formatCityData(res.body)\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("è·å–çƒ­é—¨æ•°æ®")]),s._v("ï¼Œå¹¶ä¸”æ·»åŠ åˆ° "),a("code",[s._v("cityList")]),s._v("å’Œ"),a("code",[s._v("cityListIndex")]),s._v("ä¸­ï¼Œæ³¨æ„ï¼Œå¯¹è±¡é‡Œé¢çš„å±æ€§æ˜¯æ— åºçš„ï¼Œå¯ä»¥ç›´æ¥æ’å…¥ï¼Œä½†æ˜¯æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ åˆ°å‰é¢")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// è·å–çƒ­é—¨åŸå¸‚æ•°æ®\nlet {data: hotRes} = await axios.get('http://localhost:8080/area/hot')\n// å°†çƒ­é—¨æ•°æ®æ·»åŠ åˆ° cityList\ncityList['hot'] = hotRes.body\n// å°†çƒ­é—¨æ•°æ®æ·»åŠ åˆ° cityIndex \ncityIndex.unshift('hot')\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("è·å–å½“å‰åŸå¸‚ä¿¡æ¯")]),s._v("ï¼Œæˆ‘ä»¬å°†è·å–å®šä½åŸå¸‚çš„ä»£ç å°è£…åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå“ªä¸ªé¡µé¢éœ€è¦è·å–å®šä½åŸå¸‚ï¼Œç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•å³å¯")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨utilsç›®å½•ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œå°è£…")]),s._v(" "),a("li",[s._v("åˆ›å»ºå¹¶ä¸”å¯¼å‡ºè·å–å®šä½åŸå¸‚çš„å‡½æ•° getCurrentCity")]),s._v(" "),a("li",[s._v("åˆ¤æ–­localStorageä¸­æ˜¯å¦æœ‰å®šä½ä¿¡æ¯")]),s._v(" "),a("li",[s._v("å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬é€šè¿‡è·å–å®šä½ä¿¡æ¯æ¥è·å–å½“å‰å®šä½åŸå¸‚ï¼Œè·å–å®Œäº†éœ€è¦å­˜åˆ°æœ¬åœ°å­˜å‚¨ä¸­")]),s._v(" "),a("li",[s._v("å¦‚æœæœ‰ï¼Œç›´æ¥ä½¿ç”¨å°±å¥½")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import axios from 'axios'\nexport const getCurrentCity = () => {\n    // è·å–æœ¬åœ°å­˜å‚¨ä¸­æ˜¯å¦æœ‰\n    let localCity = JSON.parse(localStorage.getItem('localCity'))\n    if (!localCity) {\n        // å¦‚æœæ²¡æœ‰ï¼Œå°±éœ€è¦è·å–å½“å‰å®šä½åŸå¸‚\n        // åˆ©ç”¨ promis æ¥è§£å†³å¼‚æ­¥æ•°æ®çš„è¿”å›\n        return new Promise((resolve, reject) => {\n            try {\n                // è·å–å½“å‰åŸå¸‚ä¿¡æ¯\n                var myCity = new window.BMap.LocalCity();\n                myCity.get(async res => {\n                    // å½“è·å–åˆ°å¯¹åº”çš„åŸå¸‚ä¿¡æ¯äº†åï¼Œæˆ‘ä»¬éœ€è¦è¯·æ±‚æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡å™¨\n                    const { data: infoRes } = await axios.get('http://localhost:8080/area/info', {\n                        params: {\n                            name: res.name\n                        }\n                    })\n                    if (infoRes.status != 200) {\n                        console.error(infoRes.description)\n                        return\n                    }\n                    console.log(infoRes);\n\t\t\t\t// res.data.body\n                // ä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨ä¸­\n                localStorage.setItem('localCity', JSON.stringify(infoRes.body))\n                    // è¿”å›åŸå¸‚çš„æ•°æ®\n                resolve(infoRes.body)\n            });\n        } catch (error) {\n            // è¿›å…¥åˆ°catchä»£ç å— è¯´æ˜è°ƒç”¨å¤±è´¥äº†\n            reject(error)\n        }\n    })\n\n}\n// å¦‚æœæœ‰ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›åŸå¸‚ä¿¡æ¯å°±å¥½,è¿”å›ä¸€ä¸ªæˆåŠŸçš„promiså¯¹è±¡å³å¯\nreturn Promise.resolve(localCity)\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("ul",[a("li",[s._v("å°†å®šä½çš„åŸå¸‚ä¿¡æ¯æ·»åŠ åˆ° "),a("code",[s._v("cityList")]),s._v("å’Œ"),a("code",[s._v("cityIndex")]),s._v("ä¸­")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// è·å–å½“å‰åŸå¸‚å®šä½ä¿¡æ¯\nlet curCity = await getCurrentCity()\n// å°†å½“å‰åŸå¸‚æ•°æ®æ·»åŠ åˆ° cityList\ncityList['#'] = curCity\n// å°†å½“å‰åŸå¸‚æ•°æ®æ·»åŠ åˆ° cityIndex \ncityIndex.unshift('#')\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–-â˜…â˜…"}},[s._v("#")]),s._v(" é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("p",[s._v("åœ¨å±•ç¤ºå¤§å‹åˆ—è¡¨å’Œè¡¨æ ¼æ•°æ®çš„æ—¶å€™ï¼ˆåŸå¸‚åˆ—è¡¨ã€é€šè®¯å½•ã€å¾®åšç­‰ï¼‰ï¼Œä¼šå¯¼è‡´é¡µé¢å¡é¡¿ï¼Œæ»šåŠ¨ä¸æµç•…ç­‰æ€§èƒ½é—®é¢˜ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ç§»åŠ¨è®¾å¤‡è€—ç”µåŠ å¿«ï¼Œå½±å“ç§»åŠ¨è®¾å¤‡çš„ç”µæ± å¯¿å‘½")]),s._v(" "),a("p",[s._v("äº§ç”Ÿæ€§èƒ½é—®é¢˜çš„å…ƒç´ ï¼šå¤§é‡DOMèŠ‚ç‚¹çš„é‡ç»˜å’Œé‡æ’")]),s._v(" "),a("p",[s._v("ä¼˜åŒ–æ–¹æ¡ˆï¼š")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("æ‡’æ¸²æŸ“")])]),s._v(" "),a("li",[a("p",[s._v("å¯è§†åŒºåŸŸæ¸²æŸ“")])])]),s._v(" "),a("h4",{attrs:{id:"æ‡’æ¸²æŸ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‡’æ¸²æŸ“"}},[s._v("#")]),s._v(" æ‡’æ¸²æŸ“")]),s._v(" "),a("p",[s._v("æ‡’åŠ è½½ï¼Œå¸¸è§çš„é•¿åˆ—è¡¨ä¼˜åŒ–æ–¹æ¡ˆï¼Œå¸¸è§äºç§»åŠ¨ç«¯\nåŸç†ï¼šæ¯æ¬¡åªæ¸²æŸ“ä¸€éƒ¨åˆ†ï¼Œç­‰æ¸²æŸ“çš„æ•°æ®å³å°†æ»šåŠ¨å®Œæ—¶ï¼Œå†æ¸²æŸ“ä¸‹é¢éƒ¨åˆ†\nä¼˜ç‚¹ï¼šæ¯æ¬¡æ¸²æŸ“ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé€Ÿåº¦å¿«\nç¼ºç‚¹ï¼šæ•°æ®é‡å¤§æ—¶ï¼Œé¡µé¢ä¸­ä¾ç„¶å­˜åœ¨å¤§é‡DOMèŠ‚ç‚¹ï¼Œå ç”¨å†…å­˜è¿‡å¤šï¼Œé™ä½æµè§ˆå™¨æ¸²æŸ“æ€§èƒ½ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿\nä½¿ç”¨åœºæ™¯ï¼šæ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹")]),s._v(" "),a("h4",{attrs:{id:"å¯è§†åŒºæ¸²æŸ“-react-virtualized"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯è§†åŒºæ¸²æŸ“-react-virtualized"}},[s._v("#")]),s._v(" å¯è§†åŒºæ¸²æŸ“ï¼ˆReact-virtualizedï¼‰")]),s._v(" "),a("p",[s._v("åŸç†ï¼š åªæ¸²æŸ“é¡µé¢å¯è§†åŒºåŸŸçš„åˆ—è¡¨é¡¹ï¼Œéå¯è§†åŒºåŸŸçš„æ•°æ® å®Œå…¨ä¸æ¸²æŸ“(é¢„åŠ è½½å‰é¢å‡ é¡¹å’Œåé¢å‡ é¡¹) ï¼Œåœ¨æ»šåŠ¨åˆ—è¡¨æ—¶åŠ¨æ€æ›´æ–°åˆ—è¡¨é¡¹")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185458915.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-iJrns70T-1575111205714)(images/å¯è§†åŒºæ¸²æŸ“.png)]"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185505453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Cz89Tea0-1575111205715)(images/é¢„åŠ è½½.png)]"}})]),s._v(" "),a("p",[s._v("ä½¿ç”¨åœºæ™¯ï¼š ä¸€æ¬¡æ€§å±•ç¤ºå¤§é‡æ•°æ®çš„æƒ…å†µ")]),s._v(" "),a("h3",{attrs:{id:"react-virtualized-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-virtualized-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" react-virtualizedï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"æ¦‚è¿°-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°-2"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("p",[s._v("åœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ï¼šå®ç°åŸå¸‚é€‰æ‹©åˆ—è¡¨é¡µé¢çš„æ¸²æŸ“\nreact-virtualized æ˜¯Reactç»„ä»¶ï¼Œç”¨æ¥é«˜æ•ˆæ¸²æŸ“å¤§å‹åˆ—è¡¨å’Œè¡¨æ ¼æ•°æ®\nGitHubåœ°å€ï¼š react-virtualized")]),s._v(" "),a("h4",{attrs:{id:"åŸºæœ¬ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬ä½¿ç”¨"}},[s._v("#")]),s._v(" åŸºæœ¬ä½¿ç”¨")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£…ï¼š yarn add react-virtualized")]),s._v(" "),a("li",[s._v("åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ index.js ä¸­å¯¼å…¥æ ·å¼æ–‡ä»¶")]),s._v(" "),a("li",[s._v("æ‰“å¼€ "),a("a",{attrs:{href:"https://github.com/bvaughn/react-virtualized/blob/master/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ–‡æ¡£"),a("OutboundLink")],1),s._v("ï¼Œ ç‚¹å‡»Listç»„ä»¶ï¼Œè¿›å…¥Listçš„æ–‡æ¡£ä¸­")]),s._v(" "),a("li",[s._v("æ‹·è´ç¤ºä¾‹ä»£ç åˆ°æˆ‘ä»¬é¡¹ç›®ä¸­ï¼Œåˆ†æç¤ºä¾‹ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { List } from 'react-virtualized';\n\n// åˆ—è¡¨æ•°æ®\nconst list = [\n  'Brian Vaughn'\n  // And so on...\n];\n// æ¸²æŸ“æ¯ä¸€è¡Œçš„å†…å®¹\nfunction rowRenderer ({\n  key,         // Unique key within array of rows\n  index,       // ç´¢å¼•å·\n  isScrolling, // å½“å‰é¡¹æ˜¯å¦æ­£åœ¨æ»šåŠ¨ä¸­\n  isVisible,   // å½“å‰é¡¹åœ¨Listä¸­æ˜¯å¯è§çš„\n  style        // é‡ç‚¹å±æ€§ï¼šä¸€å®šè¦ç»™æ¯ä¸€ä¸ªè¡Œæ•°æ·»åŠ è¯¥æ ·å¼\n}) {\n  return (\n    <div\n      key={key}\n      style={style}\n    >\n      {list[index]}\n    </div>\n  )\n}\n\n// æ¸²æŸ“liståˆ—è¡¨\nReactDOM.render(\n  <List\n    // ç»„ä»¶çš„å®½åº¦\n    width={300}\n    // ç»„ä»¶çš„é«˜åº¦\n    height={300}\n    rowCount={list.length}\n    // æ¯è¡Œçš„é«˜åº¦\n    rowHeight={20}\n    rowRenderer={rowRenderer}\n  />,\n  document.getElementById('example')\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h3",{attrs:{id:"æ¸²æŸ“åŸå¸‚åˆ—è¡¨-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“åŸå¸‚åˆ—è¡¨-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æ¸²æŸ“åŸå¸‚åˆ—è¡¨ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"è®©listç»„ä»¶å æ»¡å±å¹•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®©listç»„ä»¶å æ»¡å±å¹•"}},[s._v("#")]),s._v(" è®©Listç»„ä»¶å æ»¡å±å¹•")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åˆ©ç”¨ "),a("code",[s._v("AutoSizer")]),s._v(" ç»„ä»¶æ¥è°ƒæ•´å­å…ƒç´ çš„å®½é«˜")])]),s._v(" "),a("li",[a("p",[s._v("å¯¼å…¥ "),a("code",[s._v("AutoSizer")]),s._v(" ç»„ä»¶")])]),s._v(" "),a("li",[a("p",[s._v("é€šè¿‡ render-props æ¨¡å¼ï¼Œè·å–åˆ°"),a("code",[s._v("AutoSizer")]),s._v(" ç»„ä»¶æš´éœ²çš„ width å’Œ height å±æ€§")])]),s._v(" "),a("li",[a("p",[s._v("è®¾ç½®Listç»„ä»¶çš„ width å’Œ height å±æ€§")])]),s._v(" "),a("li",[a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185532526.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-SD9ByzMO-1575111205718)(images/autosizer.png)]"}})])]),s._v(" "),a("li",[a("p",[s._v("è®¾ç½®åŸå¸‚é€‰æ‹©é¡µé¢æ ¹å…ƒç´ é«˜åº¦ 100%ï¼Œè®©Listç»„ä»¶å æ»¡æ•´ä¸ªé¡µé¢")])])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".citylist")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".navbar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" -45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #f6f5f6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("// navbar æ ‡é¢˜é¢œè‰²\n    .am-navbar-title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"æ¸²æŸ“åŸå¸‚åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“åŸå¸‚åˆ—è¡¨"}},[s._v("#")]),s._v(" æ¸²æŸ“åŸå¸‚åˆ—è¡¨")]),s._v(" "),a("ul",[a("li",[s._v("å°†è·å–åˆ°çš„cityListå’ŒcityIndexæ·»åŠ ä¸ºç»„å»ºçš„çŠ¶æ€æ•°æ®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    state = {\n        cityList: null,\n        cityIndex: []\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("ä¿®æ”¹Listç»„ä»¶çš„rowCountä¸ºcityIndexæ•°ç»„çš„é•¿åº¦")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{/* åŸå¸‚åˆ—è¡¨ */}\n<AutoSizer>\n    {\n        ({ width, height }) => {\n            return <List\n                // ç»„ä»¶çš„å®½åº¦\n                width={width}\n                // ç»„ä»¶çš„é«˜åº¦\n                height={height}\n                rowCount={this.state.cityIndex.length}\n                // æ¯è¡Œçš„é«˜åº¦\n                rowHeight={this.getRowHeight}\n                rowRenderer={this.rowRenderer}\n            />\n        }\n    }\n</AutoSizer>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("ä¿®æ”¹Listç»„ä»¶çš„rowRenderæ–¹æ³•ä¸­æ¸²æŸ“çš„ç»“æ„å’Œæ ·å¼")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// æ¸²æŸ“æ¯ä¸€è¡Œçš„å†…å®¹\nrowRenderer({\n    key,         // Unique key within array of rows\n    index,       // ç´¢å¼•å·\n    isScrolling, // å½“å‰é¡¹æ˜¯å¦æ­£åœ¨æ»šåŠ¨ä¸­\n    isVisible,   // å½“å‰é¡¹åœ¨Listä¸­æ˜¯å¯è§çš„\n    style        // é‡ç‚¹å±æ€§ï¼šä¸€å®šè¦ç»™æ¯ä¸€ä¸ªè¡Œæ•°æ·»åŠ è¯¥æ ·å¼\n}) {\n    let letter = this.state.cityIndex[index]\n    let citys = this.state.cityList[letter]\n    return (\n\n        <div\n            key={key}\n            style={style}\n            className="city"\n        >\n            <div className="title">{this.formatCityIndex(letter)}</div>\n            {citys.map(item => {\n                return (\n                    <div className="name" key={item.value}>{item.label}</div>\n                )\n            })}</div>\n\nâ€‹    )\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("ä¿®æ”¹Listçš„rowHeightä¸ºå‡½æ•°ï¼ŒåŠ¨æ€è®¡ç®—æ¯è¡Œçš„é«˜åº¦")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// åŠ¨æ€è®¡ç®—é«˜åº¦\ngetRowHeight = ({ index }) => {\n    // ç´¢å¼•çš„é«˜åº¦ + æ•°é‡ * æ¯ä¸ªåŸå¸‚çš„é«˜åº¦\n    let { cityIndex, cityList } = this.state;\nreturn cityList[cityIndex[index]].length * NAME_HEIGHT + TITLE_HEIGHT;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"æ¸²æŸ“å³ä¾§ç´¢å¼•åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“å³ä¾§ç´¢å¼•åˆ—è¡¨"}},[s._v("#")]),s._v(" æ¸²æŸ“å³ä¾§ç´¢å¼•åˆ—è¡¨")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…renderCityIndexæ–¹æ³•ï¼Œç”¨æ¥æ¸²æŸ“åŸå¸‚ç´¢å¼•åˆ—è¡¨")]),s._v(" "),a("li",[s._v("åœ¨æ–¹æ³•ä¸­ï¼Œè·å–åˆ°ç´¢å¼•æ•°ç»„ cityIndexï¼Œéå†cityIndexï¼Œæ¸²æŸ“ç´¢å¼•åˆ—è¡¨")]),s._v(" "),a("li",[s._v("å°†ç´¢å¼•hotæ›¿æ¢æˆ çƒ­")]),s._v(" "),a("li",[s._v("åœ¨stateä¸­æ·»åŠ çŠ¶æ€ activeIndexï¼Œç”¨æ¥æŒ‡å®šå½“å‰é«˜äº®çš„ç´¢å¼•")]),s._v(" "),a("li",[s._v("åœ¨éå†cityIndexæ—¶ï¼Œæ·»åŠ å½“å‰å­—æ¯ç´¢å¼•æ˜¯å¦æ˜¯é«˜äº®")])]),s._v(" "),a("p",[s._v("ç»“æ„ä»£ç ")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* å³ä¾§ç´¢å¼•åˆ—è¡¨ */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v('<ul className="city-index">')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        this."),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("renderCityIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("</ul>\n\næ ·å¼ä»£ç \n.city-index")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" absolute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-direction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" column"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("z-index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 90%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("box-sizing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" border-box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 20px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("list-style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".city-index-item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".index-active")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #fff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #21b97a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inline-block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("p",[s._v("æ¸²æŸ“å³ä¾§ç´¢å¼•çš„å‡½æ•°")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n}renderCityIndex() {\n    return this.state.cityIndex.map((item,index) => {\n        console.log(item,index);\nreturn (\n        <li className=\"city-index-item\" key={item}>\n            {/*åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœé«˜äº®çŠ¶æ€çš„ç´¢å¼•ç­‰äºå½“å‰ç´¢å¼•ï¼Œé‚£ä¹ˆå°±è®¾ç½®é«˜äº®æ ·å¼*/}\n            <span className={this.state.activeIndex == index? 'index-active' : ''}>{item == 'hot' ? 'çƒ­' : item.toUpperCase()}</span>\n        </li>\n    )\n})\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day04"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day04")]),s._v(" "),a("p",[s._v("åŸå¸‚åˆ—è¡¨ç´¢å¼•åˆ—ç›¸å…³åŠŸèƒ½&å°è£…NavHeader&CSS IN JS")]),s._v(" "),a("h3",{attrs:{id:"æ¸²æŸ“åŸå¸‚åˆ—è¡¨-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“åŸå¸‚åˆ—è¡¨-2"}},[s._v("#")]),s._v(" æ¸²æŸ“åŸå¸‚åˆ—è¡¨")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-2"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("å®ŒæˆåŸå¸‚ç´¢å¼•é«˜äº®æ•ˆæœ")]),s._v(" "),a("li",[s._v("å®Œæˆç‚¹å‡»ç´¢å¼•è·³è½¬åˆ°å¯¹åº”ä½ç½®")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç°åˆ‡æ¢åŸå¸‚åŠŸèƒ½ï¼ˆé™¤äº†åŒ—äº¬ï¼Œä¸Šæµ·ï¼Œå¹¿å·ï¼Œæ·±åœ³ï¼Œå…¶ä»–æˆå‡æ— æˆ¿æºä¿¡æ¯ï¼Œéœ€è¦æç¤ºç”¨æˆ·ï¼‰")])]),s._v(" "),a("h4",{attrs:{id:"åŸå¸‚ç´¢å¼•åˆ—è¡¨é«˜äº®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸå¸‚ç´¢å¼•åˆ—è¡¨é«˜äº®"}},[s._v("#")]),s._v(" åŸå¸‚ç´¢å¼•åˆ—è¡¨é«˜äº®")]),s._v(" "),a("ul",[a("li",[s._v("ç»™listç»„ä»¶æ·»åŠ onRowsRenderedé…ç½®é¡¹ï¼Œç”¨äºè·å–å½“å‰åˆ—è¡¨æ¸²æŸ“çš„è¡Œä¿¡æ¯ï¼Œåœ¨é‡Œé¢å°±ä¼šæœ‰ç›¸åº”ä¿¡æ¯")]),s._v(" "),a("li",[s._v("é€šè¿‡å‚æ•° startIndex è·å–åˆ° èµ·å§‹è¡Œå¯¹åº”çš„ç´¢å¼•å·")]),s._v(" "),a("li",[s._v("åˆ¤æ–­ startIndex å’Œ activeIndex ä¸åŒæ—¶å€™ï¼Œæ›´æ–°çŠ¶æ€ activeIndexä¸º startIndex")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<List\n    ...\n    onRowsRendered={this.rowRendered}\n/>\n\n/**\n * è·å–æ»šåŠ¨æ—¶å€™,ç›¸åº”çš„æ•°æ®\n * @param {*} param0 \n */\nrowRendered = ({ startIndex }) => {\n    if (this.state.activeIndex !== startIndex) {\n        this.setState({\n            activeIndex: startIndex\n        })\n    }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"ç‚¹å‡»ç´¢å¼•ç½®é¡¶è¯¥ç´¢å¼•åŸå¸‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç‚¹å‡»ç´¢å¼•ç½®é¡¶è¯¥ç´¢å¼•åŸå¸‚"}},[s._v("#")]),s._v(" ç‚¹å‡»ç´¢å¼•ç½®é¡¶è¯¥ç´¢å¼•åŸå¸‚")]),s._v(" "),a("p",[a("code",[s._v("Object.keys")]),s._v(" è¿”å›ä¸€ä¸ªæ‰€æœ‰å…ƒç´ ä¸ºå­—ç¬¦ä¸²çš„æ•°ç»„ï¼Œå…¶å…ƒç´ æ¥è‡ªäºä»ç»™å®šçš„"),a("code",[s._v("object")]),s._v("ä¸Šé¢å¯ç›´æ¥æšä¸¾çš„å±æ€§ã€‚è¿™äº›å±æ€§çš„é¡ºåºä¸æ‰‹åŠ¨éå†è¯¥å¯¹è±¡å±æ€§æ—¶çš„ä¸€è‡´ã€‚")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// array like object")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("keys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// console: ['0', '1', '2']")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("ç»™ç´¢å¼•åˆ—è¡¨ç»‘å®šç‚¹å‡»äº‹ä»¶")])]),s._v(" "),a("li",[a("p",[s._v("åœ¨ç‚¹å‡»äº‹ä»¶ä¸­ï¼Œé€šè¿‡indexè·å–åˆ°å½“å‰é¡¹ç´¢å¼•å·")])]),s._v(" "),a("li",[a("p",[s._v("è°ƒç”¨Listç»„ä»¶çš„ scrollToRowæ–¹æ³•ï¼Œè®©Listç»„ä»¶æ»šåŠ¨åˆ°æŒ‡å®šè¡Œ")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åœ¨constructorä¸­ï¼Œè°ƒç”¨React.createRef() åˆ›å»ºrefå¯¹è±¡")])]),s._v(" "),a("li",[a("p",[s._v("å°†åˆ›å»ºå¥½çš„refå¯¹è±¡ï¼Œæ·»åŠ ä¸ºListç»„ä»¶çš„refå±æ€§")])]),s._v(" "),a("li",[a("p",[s._v("é€šè¿‡refçš„currentå±æ€§ï¼Œè·å–åˆ°ç»„ä»¶å®ä¾‹ï¼Œå†è°ƒç”¨ç»„ä»¶çš„scrollToRowæ–¹æ³•")])]),s._v(" "),a("li",[a("p",[s._v("è®¾ç½®Listç»„ä»¶çš„scrollToAlignmenté…ç½®é¡¹å€¼ä¸ºstartï¼Œä¿è¯ç‚¹å‡»è¡Œå‡ºç°åœ¨é¡µé¢é¡¶éƒ¨")])])])]),s._v(" "),a("li",[a("p",[s._v("å¯¹äºç‚¹å‡»ç´¢å¼•æ— æ³•æ­£ç¡®å®šä½çš„é—®é¢˜ï¼Œè°ƒç”¨Listç»„ä»¶çš„ measureAllRows æ–¹æ³•ï¼Œæå‰è®¡ç®—é«˜åº¦æ¥è§£å†³")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// æ ¸å¿ƒä»£ç \nconstructor() {\n    ...\n    this.listComponent = React.createRef()\n}\nasync componentDidMount() {\n    await this.getCityList()\n    // è®¡ç®—Listç»„ä»¶é«˜åº¦\n    this.listComponent.current.measureAllRows()\n}\nrenderCityIndex() {\n    return this.state.cityIndex.map((item, index) => {\n        return (\n            <li className="city-index-item" key={item} onClick={() => {\n                // æ‹¿åˆ°Listç»„ä»¶çš„å®ä¾‹\n                this.listComponent.current.scrollToRow(index)\n            }}>\n              ...\n            </li>\n        )\n    })\n}\nrender() {\n    return (\n        <div className="citylist">\n            ...\n            {/* åŸå¸‚åˆ—è¡¨ */}\n            <AutoSizer>\n                {\n                    ({ width, height }) => {\n                        return <List\n                            ref={this.listComponent}\n                            ...\n                        />\n                    }\n                }\n            </AutoSizer>\n            ...\n        </div>\n    )\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("h4",{attrs:{id:"åˆ‡æ¢åŸå¸‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ‡æ¢åŸå¸‚"}},[s._v("#")]),s._v(" åˆ‡æ¢åŸå¸‚")]),s._v(" "),a("ul",[a("li",[s._v("ç»™åŸå¸‚åˆ—è¡¨é¡¹ç»‘å®šäº‹ä»¶")]),s._v(" "),a("li",[s._v("åˆ¤æ–­å½“å‰åŸå¸‚æ˜¯å¦æœ‰æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("å¦‚æœæœ‰æˆ¿æºæ•°æ®ï¼Œåˆ™ä¿æŒå½“å‰åŸå¸‚æ•°æ®åˆ°æœ¬åœ°ç¼“å­˜ä¸­ï¼Œå¹¶è¿”å›ä¸Šä¸€é¡µ")]),s._v(" "),a("li",[s._v("å¦‚æœæ²¡æœ‰æˆ¿æºæ•°æ®ï¼Œåˆ™æç¤ºç”¨æˆ·ï¼šæ”¹åŸå¸‚æš‚æ— æˆ¿æºæ•°æ®ï¼Œä¸æ‰§è¡Œä»»ä½•æ“ä½œ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const HOST_CITY = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³']\n// æ¸²æŸ“æ¯ä¸€è¡Œçš„å†…å®¹\nrowRenderer({\n    key,         // Unique key within array of rows\n    index,       // ç´¢å¼•å·\n    isScrolling, // å½“å‰é¡¹æ˜¯å¦æ­£åœ¨æ»šåŠ¨ä¸­\n    isVisible,   // å½“å‰é¡¹åœ¨Listä¸­æ˜¯å¯è§çš„\n    style        // é‡ç‚¹å±æ€§ï¼šä¸€å®šè¦ç»™æ¯ä¸€ä¸ªè¡Œæ•°æ·»åŠ è¯¥æ ·å¼\n}) {\n    let letter = this.state.cityIndex[index]\n    let citys = this.state.cityList[letter]\n    return (\n        <div\n            key={key}\n            style={style}\n            className=\"city\"\n        >\n            <div className=\"title\">{this.formatCityIndex(letter)}</div>\n            {citys.map(item => {\n                return (\n                    // ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œä¼ é€’åŸå¸‚åç§°å’Œvalue\n                    <div className=\"name\" key={item.value} onClick={() => this.changeCity(item.label, item.value)}>{item.label}</div>\n                )\n            })}</div>\n    )\n}\nchangeCity = (label, value) => {\n    if (HOST_CITY.indexOf(label) > -1) {\n        // è¯´æ˜æ˜¯æœ‰æˆ¿æºæ•°æ®çš„åŸå¸‚\n        localStorage.setItem('localCity', JSON.stringify({\n            label,\n            value\n        }))\n    } else {\n        // æ²¡æœ‰æˆ¿æºåŸå¸‚ï¼Œæç¤ºç”¨æˆ·\n        Toast.info('å½“å‰åŸå¸‚æ²¡æœ‰æˆ¿æº', 1);\n    }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("h3",{attrs:{id:"å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸Š-æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸Š-æ€»ç»“"}},[s._v("#")]),s._v(" å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨Webï¼ˆä¸Šï¼‰-æ€»ç»“")]),s._v(" "),a("ul",[a("li",[s._v("é¡¹ç›®å‡†å¤‡ï¼šéƒ¨ç½²æœ¬åœ°æ¥å£ï¼Œè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®ï¼Œantd-mobileï¼Œè·¯ç”±ç­‰")]),s._v(" "),a("li",[s._v("é¡¹ç›®æ•´ä½“å¸ƒå±€ï¼šåˆ†æä¸¤ç§é¡µé¢å¸ƒå±€ï¼Œä½¿ç”¨åµŒå¥—è·¯ç”±å®ç°å¸¦TabBaré¡µé¢å¸ƒå±€ç­‰")]),s._v(" "),a("li",[s._v("é¦–é¡µæ¨¡å—ï¼šç§Ÿæˆ¿å°ç»„ç»“æ„å¸ƒå±€ï¼Œæ•°æ®è·å–ï¼ŒH5åœ°ç†å®šä½å’Œç™¾åº¦åœ°å›¾åœ°ç†å®šä½ç­‰")]),s._v(" "),a("li",[s._v("åŸå¸‚é€‰æ‹©æ¨¡å—ï¼šæ•°æ®ç»“æ„å¤„ç†ï¼Œé•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–ï¼Œreact-virtualizedï¼Œç´¢å¼•åˆ—è¡¨ç­‰")])]),s._v(" "),a("h3",{attrs:{id:"å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸­-ç›®æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸­-ç›®æ ‡"}},[s._v("#")]),s._v(" å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨Webï¼ˆä¸­ï¼‰-ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿåœ¨ç™¾åº¦åœ°å›¾ä¸­å±•ç¤ºå½“å‰å®šä½åŸå¸‚")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿä½¿ç”¨åœ°å›¾æ ‡æ³¨å®Œæˆæˆ¿æºä¿¡æ¯ç»˜åˆ¶")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå±•ç¤ºåŸå¸‚æ‰€æœ‰åŒºçš„æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå°è£…æ‰¾æˆ¿é¡µé¢çš„æ¡ä»¶ç­›é€‰æ ç»„ä»¶")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿä½¿ç”¨ react-spring ç»„ä»¶å®ç°åŠ¨ç”»æ•ˆæœ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®Œæˆæˆ¿å±‹è¯¦æƒ…é¡µé¢çš„æ•°æ®å±•ç¤º")])]),s._v(" "),a("h3",{attrs:{id:"åœ°å›¾æ‰¾æˆ¿æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ°å›¾æ‰¾æˆ¿æ¨¡å—"}},[s._v("#")]),s._v(" åœ°å›¾æ‰¾æˆ¿æ¨¡å—")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-3"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…NavHeaderç»„ä»¶")]),s._v(" "),a("li",[s._v("å®ç°NavHeaderç»„ä»¶ä¸­å·¦ä¾§æŒ‰é’®åŠŸèƒ½")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè§£å†³NavHeaderç»„ä»¶ä¸­è·å–ä¸åˆ°è·¯ç”±ä¿¡æ¯çš„é—®é¢˜")]),s._v(" "),a("li",[s._v("å¯¹NavHeaderçš„propsè¿›è¡Œæ ¡éªŒ")])]),s._v(" "),a("h4",{attrs:{id:"åŠŸèƒ½åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("å±•ç¤ºå½“å‰å®šä½åŸå¸‚")]),s._v(" "),a("li",[s._v("å±•ç¤ºè¯¥åŸå¸‚æ‰€æœ‰åŒºçš„æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("å±•ç¤ºæŸåŒºä¸‹æ‰€æœ‰é•‡çš„æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("å±•ç¤ºæŸé•‡ä¸‹æ‰€æœ‰çš„æ ¡åŒºçš„æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("å±•ç¤ºæŸå°åŒºä¸‹çš„æˆ¿æºæ•°æ®åˆ—è¡¨")])]),s._v(" "),a("h3",{attrs:{id:"é¡¶éƒ¨å¯¼èˆªæ "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¶éƒ¨å¯¼èˆªæ "}},[s._v("#")]),s._v(" é¡¶éƒ¨å¯¼èˆªæ ")]),s._v(" "),a("h4",{attrs:{id:"ç»“æ„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“æ„å®ç°"}},[s._v("#")]),s._v(" ç»“æ„å®ç°")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…NavHeaderç»„ä»¶å®ç°åŸå¸‚é€‰æ‹©ï¼Œåœ°å›¾æ‰¾æˆ¿é¡µé¢çš„å¤ç”¨")]),s._v(" "),a("li",[s._v("åœ¨componentsç›®å½•ä¸­åˆ›å»ºç»„ä»¶ NavHeader/index.js")]),s._v(" "),a("li",[s._v("åœ¨è¯¥ç»„ä»¶ä¸­å°è£… antd-mobile ç»„ä»¶åº“ä¸­çš„ NavBarç»„ä»¶")]),s._v(" "),a("li",[s._v("åœ¨åœ°å›¾æ‰¾æˆ¿é¡µé¢ä½¿ç”¨å°è£…å¥½çš„ NavHeaderç»„ä»¶å®ç°é¡¶éƒ¨å¯¼èˆªæ åŠŸèƒ½")]),s._v(" "),a("li",[s._v("ä½¿ç”¨NavHeaderç»„ä»¶ï¼Œæ›¿æ¢åŸå¸‚é€‰æ‹©é¡µé¢çš„NavBarç»„")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React from 'react';\nimport {NavBar} from 'antd-mobile'\n\n// components/NavHeader/index.js\nexport default class extends React.Component {\n    render() {\n        return (\n            <NavBar\n                    className=\"navbar\"\n                    // æ¨¡å¼ é»˜è®¤å€¼æ˜¯ dark\n                    mode=\"light\"\n                    // å·¦ä¾§å°å›¾ç‰‡\n                    icon={<i className='iconfont icon-back' />}\n                    // å·¦ä¾§æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶\n                    onLeftClick={() => this.props.history.go(-1)}\n                // æ ‡é¢˜å†…å®¹ä¸å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡å¤–ç•Œæ¥ä¼ å…¥\n                >{this.props.children}</NavBar>\n        )\n    }\n}\n// pages/Map/index.js\n...\nimport NavHeader from '../../components/NavHeader'\nexport default class extends React.Component {\n    ...\n    render() {\n        return (\n            <div className=\"map\">\n                <NavHeader>\n                    åœ°å›¾æ‰¾æˆ¿\n                </NavHeader>\n                <div id=\"container\"></div>\n            </div>\n        )\n    }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h3",{attrs:{id:"æ ·å¼è°ƒæ•´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ ·å¼è°ƒæ•´"}},[s._v("#")]),s._v(" æ ·å¼è°ƒæ•´")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨componentsä¸‹çš„NavHeaderæ–‡ä»¶å¤¹ä¸­åˆ›å»º index.scss æ–‡ä»¶")]),s._v(" "),a("li",[s._v("æŠŠä¹‹å‰åŸå¸‚åˆ—è¡¨å†™è¿‡çš„æ ·å¼ï¼Œå¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶ä¸‹")])]),s._v(" "),a("h3",{attrs:{id:"åŠŸèƒ½å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½å¤„ç†"}},[s._v("#")]),s._v(" åŠŸèƒ½å¤„ç†")]),s._v(" "),a("p",[s._v("æ³¨æ„ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰è·¯ç”± Route ç›´æ¥æ¸²æŸ“çš„ç»„ä»¶æ‰èƒ½å¤Ÿè·å–åˆ°è·¯ç”±ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦åœ¨å…¶ä»–ç»„ä»¶ä¸­è·å–åˆ°è·¯ç”±ä¿¡æ¯å¯ä»¥é€šè¿‡ withRouter é«˜é˜¶ç»„ä»¶æ¥è·å–")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("ä» react-router-dom ä¸­å¯¼å…¥ withRouter é«˜é˜¶ç»„ä»¶")])]),s._v(" "),a("li",[a("p",[s._v("ä½¿ç”¨ withRouter é«˜é˜¶ç»„ä»¶åŒ…è£… NavHeader ç»„ä»¶")])]),s._v(" "),a("li",[a("p",[s._v("ç›®çš„ï¼šåŒ…è£…åï¼Œå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­è·å–åˆ°å½“å‰è·¯ç”±ä¿¡æ¯\nä» props ä¸­å°±èƒ½è·å–historyå¯¹è±¡")])]),s._v(" "),a("li",[a("p",[s._v("è°ƒç”¨historyå¯¹è±¡çš„ go() æ–¹æ³•å°±èƒ½å®ç°è¿”å›ä¸Šä¸€é¡µåŠŸèƒ½äº†")])]),s._v(" "),a("li",[a("p",[s._v("ç”±äºå¤´éƒ¨çš„å·¦ä¾§æŒ‰é’®ä¸ä¸€å®šæ˜¯è¿”å›ä¸Šä¸€ä¸ªé¡µé¢çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå·¦ä¾§ç‚¹å‡»é€»è¾‘å¤„ç†éœ€è¦é€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥ï¼Œå¦‚æœè¯´å¤–ç•Œä¼ é€’äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨å¤–ç•Œçš„è¡Œä¸ºï¼Œå¦‚æœæ²¡æœ‰ä¼ é€’ï¼Œé‚£ä¹ˆå°±ç”¨é»˜è®¤çš„è¡Œä¸º")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React from 'react';\nimport { NavBar } from 'antd-mobile'\nimport './index.scss'\nimport { withRouter } from 'react-router-dom'\n\nclass NavHeader extends React.Component {\n    render() {\n        let defaultHandler = () => {\n            this.props.history.go(-1)\n        }\n        return (\n            <NavBar\n                className=\"navbar\"\n                // æ¨¡å¼ é»˜è®¤å€¼æ˜¯ dark\n                mode=\"light\"\n                // å·¦ä¾§å°å›¾ç‰‡\n                icon={<i className='iconfont icon-back' />}\n                // å·¦ä¾§æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶\n                onLeftClick={this.props.onLeftClick || defaultHandler}\n            >{this.props.children}</NavBar>\n        )\n    }\n}\n// é€šè¿‡withRouter åŒ…è£…ä¸€å±‚åï¼Œè¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªè·Ÿæˆ‘ä»¬ä¹‹å‰è®²åˆ°çš„åŒ…è£…ç»„ä»¶å¾ˆç±»ä¼¼\nexport default withRouter(NavHeader)\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"æ·»åŠ propsæ ¡éªŒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ propsæ ¡éªŒ"}},[s._v("#")]),s._v(" æ·»åŠ propsæ ¡éªŒ")]),s._v(" "),a("p",[s._v("å¾€å¾€æˆ‘ä»¬å°è£…å¥½äº†çš„ç»„ä»¶å¯èƒ½ä¼šæä¾›ç»™åˆ«äººå»ä½¿ç”¨ï¼Œç„¶è€Œåˆ«äººåœ¨ä½¿ç”¨æˆ‘ä»¬ç»„ä»¶çš„æ—¶å€™ä¸æ¸…æ¥šéœ€è¦ä¼ é€’æ€æ ·çš„propsï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ propsæ ¡éªŒï¼Œæ¥æç¤ºä½¿ç”¨è€…ï¼Œåº”è¯¥æ€æ ·æ­£ç¡®çš„ä¼ é€’props")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£… yarn add prop-types")]),s._v(" "),a("li",[s._v("å¯¼å…¥ PropTypes")]),s._v(" "),a("li",[s._v("ç»™NavHeaderç»„ä»¶çš„ children å’Œ onLeftClickæ·»åŠ propsæ ¡éªŒ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import PropTypes from 'prop-types'\nNavHeader.propTypes = {\n    children: PropTypes.string.isRequired,\n    onLeftClick:PropTypes.func\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"åŸå¸‚é€‰æ‹©é¡µé¢ä½¿ç”¨navheaderç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸå¸‚é€‰æ‹©é¡µé¢ä½¿ç”¨navheaderç»„ä»¶"}},[s._v("#")]),s._v(" åŸå¸‚é€‰æ‹©é¡µé¢ä½¿ç”¨NavHeaderç»„ä»¶")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨CityList.jsæ–‡ä»¶ä¸­ï¼Œå¼•å…¥ NavHeaderç»„ä»¶")]),s._v(" "),a("li",[s._v("æŠŠä¹‹å‰NavBarç»„ä»¶å»æ‰ï¼Œä½¿ç”¨æˆ‘ä»¬å°è£…å¥½çš„NavHeaderç»„ä»¶å°±å¥½")])]),s._v(" "),a("h3",{attrs:{id:"ç»„ä»¶ä¹‹é—´æ ·å¼è¦†ç›–é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶ä¹‹é—´æ ·å¼è¦†ç›–é—®é¢˜"}},[s._v("#")]),s._v(" ç»„ä»¶ä¹‹é—´æ ·å¼è¦†ç›–é—®é¢˜")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-4"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿåˆ©ç”¨CSS Modulesè§£å†³ç»„ä»¶ä¹‹é—´æ ·å¼è¦†ç›–çš„é—®é¢˜")])]),s._v(" "),a("h4",{attrs:{id:"æ¦‚å¿µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ"}},[s._v("#")]),s._v(" æ¦‚å¿µ")]),s._v(" "),a("ul",[a("li",[s._v("é—®é¢˜ï¼šCityListç»„ä»¶çš„æ ·å¼ï¼Œä¼šå½±å“Mapç»„ä»¶çš„æ ·å¼")]),s._v(" "),a("li",[s._v("åŸå› ï¼šåœ¨é…ç½®è·¯ç”±çš„æ—¶å€™ï¼ŒCityListç»„ä»¶ä¸Mapç»„ä»¶éƒ½ä¼šè¢«å¯¼å…¥åˆ°è·¯ç”±ä¸­ï¼Œé‚£ä¹ˆåªè¦ç»„ä»¶è¢«å¯¼å…¥ï¼Œé‚£ä¹ˆç›¸å…³çš„æ ·å¼ä¹Ÿä¼šè¢«å¯¼å…¥è¿›æ¥ï¼Œå¦‚æœä¸¤ä¸ªç»„ä»¶çš„æ ·å¼åç§°ç›¸åŒï¼Œé‚£ä¹ˆå°±ä¼šå½±å“å¦å¤–ä¸€ä¸ªç»„ä»¶çš„æ ·å¼")]),s._v(" "),a("li",[s._v("å°ç»“ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåªè¦å¯¼å…¥äº†ç»„ä»¶ï¼Œä¸ç®¡ç»„ä»¶æœ‰æ²¡æœ‰æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œç»„ä»¶çš„æ ·å¼å°±ä¼šç”Ÿæ•ˆ")]),s._v(" "),a("li",[s._v("è§£å†³æ–¹å¼\n"),a("ul",[a("li",[s._v("å†™ä¸åŒçš„ç±»å")]),s._v(" "),a("li",[s._v("CSS IN JS")])])])]),s._v(" "),a("h4",{attrs:{id:"css-in-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-in-js"}},[s._v("#")]),s._v(" CSS IN JS")]),s._v(" "),a("p",[s._v("CSS IN JS æ˜¯ä½¿ç”¨JavaScript ç¼–å†™ CSS çš„ç»Ÿç§°ï¼Œç”¨æ¥è§£å†³CSSæ ·å¼å†²çªï¼Œè¦†ç›–ç­‰é—®é¢˜ï¼›")]),s._v(" "),a("p",[s._v("CSS IN JS çš„å…·ä½“å®ç°æœ‰50å¤šç§ï¼Œæ¯”å¦‚ï¼šCSS Modulesã€styled-componentsç­‰")]),s._v(" "),a("p",[s._v("æ¨èä½¿ç”¨ï¼šCSS Modulesï¼ˆReactè„šæ‰‹æ¶å·²ç»é›†æˆè¿›æ¥äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰")]),s._v(" "),a("h3",{attrs:{id:"css-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-modules"}},[s._v("#")]),s._v(" CSS Modules")]),s._v(" "),a("h4",{attrs:{id:"æ¦‚å¿µ-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ-2"}},[s._v("#")]),s._v(" æ¦‚å¿µ")]),s._v(" "),a("ul",[a("li",[s._v("CSS Modules é€šè¿‡å¯¹CSSç±»åé‡å‘½åï¼Œä¿è¯æ¯ä¸€ä¸ªç±»åçš„å”¯ä¸€æ€§ï¼Œä»è€Œé¿å…æ ·å¼å†²çªé—®é¢˜")]),s._v(" "),a("li",[s._v("å®ç°æ–¹å¼ï¼šwebpackçš„css-loader æ’ä»¶")]),s._v(" "),a("li",[s._v("å‘½åé‡‡ç”¨ï¼šBEMï¼ˆBlockå—ã€Elementå…ƒç´ ã€Modifierä¸‰éƒ¨åˆ†ç»„æˆï¼‰å‘½åè§„èŒƒã€‚æ¯”å¦‚ï¼š .list_item_active")]),s._v(" "),a("li",[s._v("åœ¨Reactè„šæ‰‹æ¶ä¸­æ¼”åŒ–æˆï¼šæ–‡ä»¶åã€ç±»åã€hashï¼ˆéšæœºï¼‰ä¸‰éƒ¨åˆ†ï¼Œåªéœ€è¦æŒ‡å®šç±»åå³å¯")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185701950.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-YOnp9OOs-1575111367700)(images/css-modules.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨"}},[s._v("#")]),s._v(" ä½¿ç”¨")]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºåä¸º[name].module.css çš„æ ·å¼æ–‡ä»¶ï¼ˆReactè„šæ‰‹æ¶ä¸­çš„çº¦å®šï¼Œä¸æ™®é€šCSSåŒºåˆ†å¼€ï¼‰")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185720712.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-ir8rdO9w-1575111367701)(images/css-modulesä½¿ç”¨-01.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("ç»„ä»¶ä¸­å¯¼å…¥æ ·å¼æ–‡ä»¶**ï¼ˆæ³¨æ„è¯­æ³•ï¼‰**")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185729660.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-7LVx5azQ-1575111367702)(images/css-modulesä½¿ç”¨-02.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("é€šè¿‡styleså¯¹è±¡è®¿é—®å¯¹è±¡ä¸­çš„æ ·å¼åæ¥è®¾ç½®æ ·å¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185740722.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-BdfvL1jN-1575111367703)(images/css-modulesä½¿ç”¨-03.png)]"}})]),s._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨css-modulesä¿®æ”¹-navheader-æ ·å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨css-modulesä¿®æ”¹-navheader-æ ·å¼"}},[s._v("#")]),s._v(" ä½¿ç”¨CSS Modulesä¿®æ”¹ NavHeader æ ·å¼")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åœ¨NavHeaderç›®å½•ä¸­åˆ›å»º index.module.css çš„æ ·å¼æ–‡ä»¶")])]),s._v(" "),a("li",[a("p",[s._v("åœ¨æ ·å¼æ–‡ä»¶ä¸­ä¿®æ”¹å½“å‰ç»„ä»¶çš„æ ·å¼")])]),s._v(" "),a("li",[a("p",[s._v("å¯¹äºç»„ä»¶åº“ä¸­å·²ç»æœ‰çš„å…¨å±€æ ·å¼ï¼Œéœ€è¦ä½¿ç”¨ï¼šglobal() æ¥æŒ‡å®šï¼Œä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨ä¿®æ”¹NavBaré‡Œé¢æ–‡å­—é¢œè‰²çš„æ—¶å€™ï¼Œç”¨åˆ°äº†ä¸€ä¸ªç±»åå«ï¼š am-navbar-title è¿™ä¸ªç±»åä¸æ˜¯æˆ‘ä»¬è®¾ç½®çš„ï¼Œè€Œæ˜¯ç»„ä»¶åº“ä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥å¯¹äºè¿™ä¸€ç±»ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·å»è®¾ç½®:")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185750755.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-BXNT8gOO-1575111367705)(images/css-modulesä½¿ç”¨-04.png)]"}})]),s._v(" "),a("p",[a("strong",[s._v("æˆ–è€…ï¼š")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185758202.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-R3TcUJki-1575111367706)(images/css-modulesä½¿ç”¨-05.png)]"}})]),s._v(" "),a("p",[s._v("ç¤ºä¾‹demo")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".navbar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #f6f5f6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".navbar :global(.am-navbar-title)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"åœ¨mapç»„ä»¶ä¸­ä¿®æ”¹å¤´éƒ¨æ ·å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨mapç»„ä»¶ä¸­ä¿®æ”¹å¤´éƒ¨æ ·å¼"}},[s._v("#")]),s._v(" åœ¨Mapç»„ä»¶ä¸­ä¿®æ”¹å¤´éƒ¨æ ·å¼")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".map")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".map :global(.am-navbar)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" -45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("é¡µé¢ç»“æ„")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div className={styles.map}>\n    <NavHeader>\n        åœ°å›¾æ‰¾æˆ¿\n    </NavHeader>\n    <div id='container' className={styles.container}></div>\n</div>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day05"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day05"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day05")]),s._v(" "),a("p",[s._v("-æ ¹æ®å®šä½å±•ç¤ºå¯¹åº”åŸå¸‚&åœ°å›¾æ‰¾æˆ¿æ¨¡å—å°è£…&loadingç¾åŒ–")]),s._v(" "),a("h3",{attrs:{id:"åœ°å›¾æ‰¾æˆ¿æ¨¡å—-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ°å›¾æ‰¾æˆ¿æ¨¡å—-2"}},[s._v("#")]),s._v(" åœ°å›¾æ‰¾æˆ¿æ¨¡å—")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-5"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("å®Œæˆæ ¹æ®å®šä½å±•ç¤ºå½“å‰åŸå¸‚")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®Œæˆåœ¨åœ°å›¾ä¸Šæ¸²æŸ“å‡ºæ–‡æœ¬è¦†ç›–ç‰©")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå¯¹æ–‡æœ¬è¦†ç›–ç‰©è¿›è¡Œå†…å®¹å’Œæ ·å¼ä¿®æ”¹")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºåœ°å›¾æ‰¾æˆ¿åŠŸèƒ½çš„ä¸šåŠ¡é€»è¾‘")]),s._v(" "),a("li",[s._v("ç†è§£åœ°å›¾æ‰¾æˆ¿çš„å°è£…æµç¨‹ï¼ŒçŸ¥é“æ¯ä¸€ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§è€å¸ˆä»£ç æ•²å‡ºåœ°å›¾æ‰¾æˆ¿çš„å°è£…ä»£ç ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿä½¿ç”¨Toastçš„loadingæ•ˆæœæ¥å¯¹é¡µé¢è¿›è¡Œä¼˜åŒ–")])]),s._v(" "),a("h4",{attrs:{id:"æ ¹æ®å®šä½å±•ç¤ºå½“å‰åŸå¸‚-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ ¹æ®å®šä½å±•ç¤ºå½“å‰åŸå¸‚-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æ ¹æ®å®šä½å±•ç¤ºå½“å‰åŸå¸‚ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("è·å–å½“å‰å®šä½åŸå¸‚")]),s._v(" "),a("li",[s._v("ä½¿ç”¨ åœ°å€è§£æå™¨ è§£æå½“å‰åŸå¸‚åæ ‡")]),s._v(" "),a("li",[s._v("è°ƒç”¨ centerAndZoom() æ–¹æ³•åœ¨åœ°å›¾ä¸­å±•ç¤ºå½“å‰åŸå¸‚ï¼Œå¹¶è®¾ç½®ç¼©æ”¾çº§åˆ«ä¸º11")]),s._v(" "),a("li",[s._v("åœ¨åœ°å›¾ä¸­æ·»åŠ æ¯”ä¾‹å°ºå’Œå¹³ç§»ç¼©æ”¾æ§ä»¶")])]),s._v(" "),a("h4",{attrs:{id:"å®ç°æˆ¿æºä¿¡æ¯å­åœ°å›¾ä¸­å±•ç¤º-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æˆ¿æºä¿¡æ¯å­åœ°å›¾ä¸­å±•ç¤º-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" å®ç°æˆ¿æºä¿¡æ¯å­åœ°å›¾ä¸­å±•ç¤ºï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185907235.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-W4dXpdpn-1575111505661)(images/æˆ¿æºè¦†ç›–ç‰©.png)]"}})]),s._v(" "),a("p",[s._v("è¿™äº›æˆ¿æºä¿¡æ¯å…¶å®å°±æ˜¯ç”¨æ–‡æœ¬è¦†ç›–ç‰©æ¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæŸ¥çœ‹ç™¾åº¦å¼€å‘æ–‡æ¡£ï¼Œå…ˆåˆ›å»ºæ–‡æœ¬è¦†ç›–ç‰©")]),s._v(" "),a("h4",{attrs:{id:"åˆ›å»ºæ–‡æœ¬è¦†ç›–ç‰©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºæ–‡æœ¬è¦†ç›–ç‰©"}},[s._v("#")]),s._v(" åˆ›å»ºæ–‡æœ¬è¦†ç›–ç‰©")]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºLabel ç¤ºä¾‹å¯¹è±¡")]),s._v(" "),a("li",[s._v("æ‰ç”¨setStyle() æ–¹æ³•è®¾ç½®æ ·å¼")]),s._v(" "),a("li",[s._v("åœ¨mapå¯¹è±¡ä¸Šè°ƒç”¨ addOverlay() æ–¹æ³•ï¼Œè®²æ–‡æœ¬è¦†ç›–ç‰©æ·»åŠ åˆ°åœ°å›¾ä¸­")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185922106.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-yhohHXEg-1575111505662)(images/åˆ›å»ºæ–‡æœ¬è¦†ç›–ç‰©.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"ç»˜åˆ¶æˆ¿æºè¦†ç›–ç‰©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»˜åˆ¶æˆ¿æºè¦†ç›–ç‰©"}},[s._v("#")]),s._v(" ç»˜åˆ¶æˆ¿æºè¦†ç›–ç‰©")]),s._v(" "),a("ul",[a("li",[s._v("ç”±äºé»˜è®¤æä¾›çš„æœ¬æ–‡è¦†ç›–ç‰©ä¸æˆ‘ä»¬æ•ˆæœä¸ç¬¦åˆï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›è¡Œé‡æ–°çš„ç»˜åˆ¶")]),s._v(" "),a("li",[s._v("è°ƒç”¨Labelçš„ setContentæ–¹æ³•ï¼Œä¼ å…¥htmlç»“æ„ï¼Œä¿®æ”¹HTMLçš„å†…å®¹æ ·å¼;æ³¨æ„ï¼šè°ƒç”¨äº†setContent é‚£ä¹ˆé‡Œé¢æ–‡æœ¬çš„å†…å®¹å°±å¤±æ•ˆäº†")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185939481.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-zPLrUOjx-1575111505663)(images/ç»˜åˆ¶è¦†ç›–ç‰©.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("è°ƒç”¨setStyleæ–¹æ³•ä¿®æ”¹è¦†ç›–ç‰©æ ·å¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130185951403.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-nxnvNVFc-1575111505666)(images/ç»˜åˆ¶è¦†ç›–ç‰©-02.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("ç»™è¦†ç›–ç‰©æ·»åŠ ç‚¹å‡»äº‹ä»¶")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/2019113018595856.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-ErNU0fZo-1575111505669)(images/ç»˜åˆ¶è¦†ç›–ç‰©-03.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("è¦†ç›–çš„å†…å®¹ç»“æ„")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<div class="${styles.bubble}">\n  <p class="${styles.name}">${name}</p>\n  <p>${num}å¥—</p>\n</div>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("è¦†ç›–ç‰©çš„æ ·å¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const labelStyle = {\n    cursor: 'pointer',\n    border: '0px solid rgb(255,0,0)',\n    padding: '0px',\n    whiteSpace: 'nowrap',\n    fontSize: '12px',\n    color: 'rbg(255,255,255)',\n    textAlign: 'center'\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"åœ°å›¾æ‰¾æˆ¿-ä¸šåŠ¡é€»è¾‘åˆ†æ-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ°å›¾æ‰¾æˆ¿-ä¸šåŠ¡é€»è¾‘åˆ†æ-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åœ°å›¾æ‰¾æˆ¿-ä¸šåŠ¡é€»è¾‘åˆ†æï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("è·å–æˆ¿æºæ•°æ®ï¼Œæ¸²æŸ“è¦†ç›–ç‰©")]),s._v(" "),a("li",[s._v("ç‚¹å‡»è¦†ç›–ç‰©ï¼š\n"),a("ul",[a("li",[s._v("æ”¾å¤§åœ°å›¾")]),s._v(" "),a("li",[s._v("è·å–æ•°æ®ï¼Œæ¸²æŸ“ä¸‹ä¸€çº§è¦†ç›–ç‰©")])])]),s._v(" "),a("li",[s._v("åŒºã€é•‡è¦†ç›–ç‰©çš„ç‚¹å‡»äº‹ä»¶ä¸­ï¼Œæ¸…é™¤ç°æœ‰çš„è¦†ç›–ç‰©ï¼Œè·å–ä¸‹ä¸€çº§æ•°æ®ï¼Œåˆ›å»ºæ–°çš„è¦†ç›–ç‰©")]),s._v(" "),a("li",[s._v("å°åŒºï¼šä¸æ¸…æ¥šè¦†ç›–ç‰©ï¼Œç§»åŠ¨åœ°å›¾ï¼Œå±•ç¤ºè¯¥å°åŒºä¸‹çš„æˆ¿æºä¿¡æ¯")])]),s._v(" "),a("h4",{attrs:{id:"è·å–æ‰€æœ‰åŒºçš„ä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æ‰€æœ‰åŒºçš„ä¿¡æ¯"}},[s._v("#")]),s._v(" è·å–æ‰€æœ‰åŒºçš„ä¿¡æ¯")]),s._v(" "),a("ul",[a("li",[s._v("å‘é€è¯·æ±‚è·å–æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("éå†æ•°æ®ï¼Œåˆ›å»ºè¦†ç›–ç‰©ï¼Œç»™æ¯ä¸€ä¸ªè¦†ç›–ç‰©æ·»åŠ å”¯ä¸€æ ‡è¯†")]),s._v(" "),a("li",[s._v("ç»™è¦†ç›–ç‰©æ·»åŠ ç‚¹å‡»äº‹ä»¶")]),s._v(" "),a("li",[s._v("åœ¨å•å‡»äº‹ä»¶ä¸­ï¼Œè·å–åˆ°å½“å‰å•å‡»é¡¹çš„å”¯ä¸€æ ‡è¯†")]),s._v(" "),a("li",[s._v("æ”¾å¤§åœ°å›¾ï¼ˆçº§åˆ«ä¸º13ï¼‰ï¼Œè°ƒç”¨clearOverlays()æ–¹æ³•æ¸…é™¤å½“å‰è¦†ç›–ç‰©")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// è¯·æ±‚æ¥å£ï¼Œè·å–æˆ¿æºæ•°æ®\nlet res = await axios.get(`http://localhost:8080/area/map?id=${value}`)\n// éå†æˆ¿æºä¿¡æ¯ï¼Œåˆ›å»ºå¯¹åº”çš„è¦†ç›–ç‰©\nres.data.body.map(item => {\n    // ç»™æ¯ä¸€æ¡æ•°æ®æ·»åŠ è¦†ç›–ç‰©\n    // å¾—åˆ°è¿”å›çš„ç»çº¬åº¦ä¿¡æ¯\n    let { coord: { longitude, latitude }, label: areaName, count, value } = item\n    // åˆ›å»ºè¦†ç›–ç‰©\n    let label = new window.BMap.Label('', {\n        position: new window.BMap.Point(longitude, latitude),\n        offset: new window.BMap.Size(-35, -35)\n    })\n    // è®¾ç½®è¦†ç›–ç‰©å†…å®¹\n    label.setContent(`<div class=\"${styles.bubble}\">\n    <p class=\"${styles.name}\">${areaName}</p>\n    <p>${count}å¥—</p>\n  </div>`)\n    // è®¾ç½®æ ·å¼\n    label.setStyle(labelStyle)\n    // æ·»åŠ ç‚¹å‡»äº‹ä»¶\n    label.addEventListener('click', function () {\n        // å½“ç‚¹å‡»äº†è¦†ç›–ç‰©ï¼Œè¦ä»¥å½“å‰ç‚¹å‡»çš„è¦†ç›–ç‰©ä¸ºä¸­å¿ƒæ¥æ”¾å¤§åœ°å›¾\n        map.centerAndZoom(this.K.position, 13);\n        // è§£å†³æ¸…é™¤è¦†ç›–ç‰©çš„æ—¶å€™ï¼Œç™¾åº¦åœ°å›¾jsæŠ¥é”™é—®é¢˜\n        setTimeout(function () {\n            map.clearOverlays()\n        }, 0)\n    })\n    // ç»™labelæ·»åŠ å”¯ä¸€æ ‡è¯†\n    label.id = value\n    // æ·»åŠ åˆ°åœ°å›¾ä¸Š\n    map.addOverlay(label)\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("p",[s._v("å°è£…æµç¨‹ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ‰å®Œæˆåœ°å›¾æ‰¾æˆ¿çš„ä¸€ç¯ï¼Œä¹Ÿå°±æ˜¯è·å–äº†åŒºçš„æˆ¿æºä¿¡æ¯ï¼Œç„¶åå¯ä»¥ç‚¹å‡»å¯¹åº”åŒºçš„æˆ¿æºï¼Œæ¸…é™¤åœ°å›¾ä¸Šçš„è¦†ç›–ç‰©ï¼Œè€Œæˆ‘ä»¬å†å®ç°é•‡çš„æ—¶å€™ä¹Ÿæ˜¯ç›¸åŒçš„é€»è¾‘ï¼Œï¼Œå®ç°å°åŒºçš„æ—¶å€™ï¼Œé€»è¾‘æµç¨‹ä¹Ÿæ˜¯ç›¸ä¼¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹æ­¤è¿›è¡Œä¸€å±‚å°è£…ï¼Œæé«˜ä»£ç å¤ç”¨æ€§")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190023110.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-nQdgjbX6-1575111505670)(images/å°è£…æµç¨‹.png)]"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("renderOverlays() ä½œä¸ºå…¥å£")]),s._v(" "),a("ul",[a("li",[s._v("æ¥æ”¶åŒºåŸŸidå‚æ•°ï¼Œè·å–è¯¥åŒºåŸŸä¸‹çš„æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("è·è¦†ç›–ç‰©ç±»å‹ä»¥åŠä¸‹çº§åœ°å›¾ç¼©æ”¾çº§åˆ«")])])]),s._v(" "),a("li",[a("p",[s._v("createOverlays() æ–¹æ³•")]),s._v(" "),a("ul",[a("li",[s._v("æ ¹æ®ä¼ å…¥çš„ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”æ–¹æ³•ï¼Œåˆ›å»ºè¦†ç›–ç‰©ï¼Œåˆ°åº•æ˜¯åˆ›å»ºåŒºé•‡çš„è¦†ç›–ç‰©è¿˜æ˜¯å°åŒºè¦†ç›–ç‰©")])])]),s._v(" "),a("li",[a("p",[s._v("createCircle() æ–¹æ³•")]),s._v(" "),a("ul",[a("li",[s._v("æ ¹æ®ä¼ å…¥çš„æ•°æ®åˆ›å»ºè¦†ç›–ç‰©ï¼Œç»‘å®šäº‹ä»¶ï¼ˆæ”¾å¤§åœ°å›¾ï¼Œæ¸…é™¤è¦†ç›–ç‰©ï¼Œæ¸²æŸ“ä¸‹ä¸€çº§æˆ¿æºæ•°æ®ï¼‰")])])]),s._v(" "),a("li",[a("p",[s._v("createReact() æ–¹æ³•")]),s._v(" "),a("ul",[a("li",[s._v("æ ¹æ®ä¼ å…¥çš„æ•°æ®åˆ›å»ºè¦†ç›–ç‰©ï¼Œç»‘å®šäº‹ä»¶ï¼ˆç§»åŠ¨åœ°å›¾ï¼Œæ¸²æŸ“æˆ¿æºåˆ—è¡¨ï¼‰")])])])]),s._v(" "),a("h4",{attrs:{id:"renderoverlays-æ–¹æ³•çš„å°è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#renderoverlays-æ–¹æ³•çš„å°è£…"}},[s._v("#")]),s._v(" renderOverlays æ–¹æ³•çš„å°è£…")]),s._v(" "),a("ul",[a("li",[s._v("è¿™ä¸ªæ–¹æ³•æ˜¯æ•´ä¸ªå°è£…çš„å…¥å£")]),s._v(" "),a("li",[s._v("åœ¨è¿™ä¸ªæ–¹æ³•éœ€è¦ æ¥æ”¶åŒºåŸŸid ï¼Œè·å–å¯¹åº”çš„æˆ¿æºæ•°æ®")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190048445.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Nk5Bw0nT-1575111505673)(images/renderOverlays-01.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("è°ƒç”¨ getTypeAndZoom æ–¹æ³•è·å–åœ°å›¾ç¼©æ”¾çº§åˆ«ï¼Œè¦†ç›–ç‰©ç±»åˆ«")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190054781.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-juN8Ja7z-1575111505677)(images/renderOverlays-02.png)]"}})]),s._v(" "),a("p",[s._v("ç¤ºä¾‹demo")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('/** \n* æ ¹æ®idè·å–å¯¹åº”çš„æˆ¿æºä¿¡æ¯\n*/\nasync renderOverlays(id) {\n    // è¯·æ±‚ï¼Œæ‹¿åˆ°å¯¹åº”æˆ¿æºæ•°æ®\n    let res = await axios.get(`http://localhost:8080/area/map?id=${id}`)\n    let data = res.data.body\n\n    let {type,nextZoom} = this.getTypeAndZoom()\n\n    // éå†ï¼Œè°ƒç”¨createOverlays,åˆ›å»ºè¦†ç›–ç‰©\n    data.map(item => {\n        this.createOverlays(item,type,nextZoom)\n    })\n}\n/**\n * è·å–å¯¹åº”è¦ç»˜åˆ¶çš„ç±»å‹å’Œç¼©æ”¾çš„æ¯”ä¾‹\n */\ngetTypeAndZoom() {\n    // è·å–å½“å‰åœ°å›¾ç¼©æ”¾çº§åˆ«\n    let zoom = this.map.getZoom()\n    let nextZoom, type;\n    if (zoom >= 10 && zoom < 12) {\n        nextZoom = 13;\n        // circle è¡¨ç¤ºç»˜åˆ¶åœ†å½¢çš„è¦†ç›–ç‰©ï¼ŒåŒº\n        type = "circle"\n    } else if (zoom >= 12 && zoom < 14) {\n        nextZoom = 15\n        // circle è¡¨ç¤ºç»˜åˆ¶åœ†å½¢çš„è¦†ç›–ç‰©ï¼Œé•‡\n        type = "circle"\n    } else if (zoom >= 14 && zoom < 16) {\n        // circle è¡¨ç¤ºç»˜åˆ¶çŸ©å½¢çš„è¦†ç›–ç‰©ï¼Œå°åŒº\n        type = "rect"\n    }\n    return { nextZoom, type }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h4",{attrs:{id:"createoverlays-æ–¹æ³•çš„å°è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#createoverlays-æ–¹æ³•çš„å°è£…"}},[s._v("#")]),s._v(" createOverlays æ–¹æ³•çš„å°è£…")]),s._v(" "),a("ul",[a("li",[s._v("è¿™ä¸ªæ–¹æ³•æ²¡æœ‰å¤ªå¤šçš„é€»è¾‘ï¼Œä¸»è¦æ˜¯é€»è¾‘åˆ¤æ–­ï¼Œç„¶åæ ¹æ®ä¸åŒæ¡ä»¶è°ƒç”¨ä¸åŒæ¸²æŸ“çš„æ–¹æ³•")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190126458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-s5OOOOrC-1575111505679)(images/createOverlays.png)]"}})]),s._v(" "),a("p",[s._v("ç¤ºä¾‹demo")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/**\n * ç»˜åˆ¶è¦†ç›–ç‰©çš„æ–¹æ³•ï¼Œæ ¹æ®typeæ¥åˆ¤æ–­ç»˜åˆ¶çš„æ˜¯åœ†å½¢è¿˜æ˜¯çŸ©å½¢\n */\ncreateOverlays(item, type, nextZoom) {\n    let { coord: { longitude, latitude }, label: areaName, count, value } = item\n    let point = new window.BMap.Point(longitude, latitude)\n    // åˆ¤æ–­éœ€è¦æ¸²æŸ“çš„æ˜¯å“ªç§ç±»å‹\n    if (type === 'circle') {\n        // åŒº æˆ–è€… é•‡\n        this.createCircle(point, areaName, count, value, nextZoom)\n    } else if (type === 'rect') {\n        // å°åŒº\n        this.createRect(point, areaName, count, value)\n    }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h4",{attrs:{id:"createcircle-æ–¹æ³•çš„å°è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#createcircle-æ–¹æ³•çš„å°è£…"}},[s._v("#")]),s._v(" createCircle æ–¹æ³•çš„å°è£…")]),s._v(" "),a("ul",[a("li",[s._v("å¤ç”¨ä¹‹å‰çš„åˆ›å»ºè¦†ç›–ç‰©çš„ä»£ç é€»è¾‘")]),s._v(" "),a("li",[s._v("åœ¨è¦†ç›–ç‰©çš„å•å‡»äº‹ä»¶ä¸­ï¼Œè°ƒç”¨ renderOverlays(id)æ–¹æ³•ï¼Œé‡æ–°æ¸²æŸ“è¯¥åŒºåŸŸçš„æˆ¿å±‹æ•°æ®")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190144726.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-OBVIpaUv-1575111505681)(images/createCircle.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"createrect-æ–¹æ³•çš„å°è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#createrect-æ–¹æ³•çš„å°è£…"}},[s._v("#")]),s._v(" createRect æ–¹æ³•çš„å°è£…")]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºLabelã€è®¾ç½® æ ·å¼ã€è®¾ç½®htmlå†…å®¹ï¼Œç»‘å®šäº‹ä»¶")]),s._v(" "),a("li",[s._v("åœ¨å•å‡»äº‹ä»¶ä¸­ï¼Œè·å–å°åŒºä¸‹çš„æ‰€æœ‰æˆ¿æºæ•°æ®")]),s._v(" "),a("li",[s._v("å±•ç¤ºæˆ¿æºåˆ—è¡¨")]),s._v(" "),a("li",[s._v("æ¸²æŸ“è·å–åˆ°çš„æˆ¿æºåˆ—è¡¨")])]),s._v(" "),a("p",[s._v("æˆ¿æºåˆ—è¡¨ç›¸å…³æ ·å¼ï¼š")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* æˆ¿æºåˆ—è¡¨æ ·å¼ï¼š */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".houseList")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" fixed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 330px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" all 1s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate3d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 330px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #fff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".show")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("translate3d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".titleWrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #c0c0c2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("border-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1px solid #c8c8c8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".listTitle")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inline-block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 43px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 16px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #1e1e1e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("vertical-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".titleMore")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" right"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 43px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 13px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #1e1e1e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("vertical-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".titleMore:visited")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("text-decoration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* æˆ¿å±‹åˆ—è¡¨é¡¹æ ·å¼ */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".houseItems")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow-y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br")])]),a("p",[s._v("æˆ¿å±‹åˆ—è¡¨æ ·å¼")]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* æˆ¿å±‹åˆ—è¡¨é¡¹æ ·å¼ */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".houseItems")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow-y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".house")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 120px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("box-sizing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" border-box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("justify-content")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" space-around"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 18px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("border-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1px solid #e5e5e5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".imgWrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 106px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 80px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 106px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 80px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".content")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 22px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("text-overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ellipsis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("white-space")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nowrap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("vertical-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #394043"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".desc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("text-overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ellipsis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("white-space")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nowrap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("vertical-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" middle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #afb2b3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".price")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #fa5741"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".priceNum")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 16px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bolder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".tag")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" inline-block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 3px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 4px 5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin-right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".tag1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #39becd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #e1f5f8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".tag2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #3fc28c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #e1f5ed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".tag3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #5aabfd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #e6f2ff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br")])]),a("p",[s._v("ç¤ºä¾‹demo")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// createRecté€»è¾‘ä»£ç \n\n/**\n * ç»˜åˆ¶çŸ©å½¢\n * @param {*} point å½“å‰æˆ¿æºåæ ‡\n * @param {*} areaName  åç§°\n * @param {*} count  æ•°é‡\n * @param {*} value  id \n */\n\ncreateRect(point, areaName, count, value) {\n    // åˆ›å»ºè¦†ç›–ç‰©\n    let label = new window.BMap.Label('', {\n        position: point,\n        offset: new window.BMap.Size(-50, -28)\n    })\n    // è®¾ç½®å†…å®¹\n    label.setContent(`\n    <div class=\"${styles.rect}\">\n       <span class=\"${styles.housename}\">${areaName}</span>\n       <span class=\"${styles.housenum}\">${count}å¥—</span>\n       <i class=\"${styles.arrow}\"></i>\n    </div>\n    `)\n    // è®¾ç½®æ ·å¼\n    label.setStyle(labelStyle)\n    label.id = value\n    label.addEventListener('click', () => {\n        this.getHouseList(value)\n    })\n    // æ·»åŠ åˆ°åœ°å›¾ä¸­\n    this.map.addOverlay(label)\n}\nasync getHouseList(id) {\n    let res = await axios.get('http://localhost:8080/houses?cityId=' + id)\n    this.setState({\n        housesList: res.data.body.list,\n        isShowList: true\n    })\n}\n//ç»“æ„\n{/* æˆ¿æºåˆ—è¡¨ */}\n{/* æ·»åŠ  styles.show å±•ç¤ºæˆ¿å±‹åˆ—è¡¨ */}\n    <div\n        className={[\n            styles.houseList,\n            this.state.isShowList ? styles.show : ''\n        ].join(' ')}\n    >\n        <div className={styles.titleWrap}>\n            <h1 className={styles.listTitle}>æˆ¿å±‹åˆ—è¡¨</h1>\n            <Link className={styles.titleMore} to=\"/home/list\">\n                æ›´å¤šæˆ¿æº</Link>\n        </div>\n        <div className={styles.houseItems}>\n            {/* æˆ¿å±‹ç»“æ„ */}\n            {this.renderHousesList()}\n        </div>\n    </div>\n</div>\n// æ¸²æŸ“æˆ¿å±‹åˆ—è¡¨çš„itemæ–¹æ³•\n/**\n * æ¸²æŸ“æˆ¿æºåˆ—è¡¨\n */\nrenderHousesList() {\n    return this.state.housesList.map(item => (\n        <div className={styles.house}>\n            <div className={styles.imgWrap}>\n                <img className={styles.img} src={`http://localhost:8080${item.houseImg}`} alt=\"\" />\n            </div>\n            <div className={styles.content}>\n                <h3 className={styles.title}>{item.title}</h3>\n                <div className={styles.desc}>{item.desc}</div>\n                <div>\n                    {/* ['è¿‘åœ°é“', 'éšæ—¶çœ‹æˆ¿'] */}\n                    {item.tags.map((tag, index) => {\n                        const tagClass = 'tag' + (index + 1)\n                        return (\n                            <span\n                                className={[styles.tag, styles[tagClass]].join(' ')}\n                                key={tag}\n                            >\n                                {tag}\n                            </span>\n                        )\n                    })}\n                </div>\n                <div className={styles.price}>\n                    <span className={styles.priceNum}>{item.price}</span> å…ƒ/æœˆ\n    </div>\n            </div>\n        </div>\n    )\n    )\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br")])]),a("ul",[a("li",[s._v("ä½¿ç”¨åœ°å›¾çš„ panBy() æ–¹æ³•ï¼Œç§»åŠ¨åœ°å›¾åˆ°ä¸­é—´ä½ç½®")]),s._v(" "),a("li",[s._v("å‚ç›´ä½ç§»ï¼š(window.innerHeightï¼ˆå±å¹•é«˜åº¦ï¼‰-330ï¼ˆæˆ¿æºåˆ—è¡¨é«˜åº¦ï¼‰/2ï¼‰ - target.clientYï¼ˆç›®æ ‡è¦†ç›–å±‚çš„ä½ç½®ï¼‰")]),s._v(" "),a("li",[s._v("æ°´å¹³ä½ç§»ï¼šwindow.innerWidthï¼ˆå±å¹•å®½åº¦ï¼‰/2 - target.clientX")]),s._v(" "),a("li",[s._v("ç§»åŠ¨åœ°å›¾çš„æ—¶å€™ï¼ˆç›‘å¬movestartäº‹ä»¶ï¼‰ï¼Œéšè—æˆ¿æºåˆ—è¡¨")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190225255.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-kvH64xBb-1575111505684)(images/åœ°å›¾ç§»åŠ¨.png)]"}})]),s._v(" "),a("h3",{attrs:{id:"æ·»åŠ loadingæ•ˆæœ-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ loadingæ•ˆæœ-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æ·»åŠ Loadingæ•ˆæœï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åˆ©ç”¨Toastçš„loadingæ–¹æ³•æ¥å®ç°")]),s._v(" "),a("li",[s._v("åœ¨æ¯æ¬¡è¯·æ±‚å¼€å§‹çš„æ—¶å€™å¼€å¯loading Toast.loading(â€˜åŠ è½½ä¸­ã€‚ã€‚ã€‚â€™, 0, null, false)")]),s._v(" "),a("li",[s._v("åœ¨è¯·æ±‚ç»“æŸåå…³é—­loading Toast.hide()")])]),s._v(" "),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day06"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day06"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day06")]),s._v(" "),a("p",[s._v("-axioså°è£…&å°è£…æœç´¢å¯¼èˆªæ ç»„ä»¶&å®ç°ç­›é€‰åŠŸèƒ½")]),s._v(" "),a("h3",{attrs:{id:"axiosä¼˜åŒ–-ç¯å¢ƒå˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axiosä¼˜åŒ–-ç¯å¢ƒå˜é‡"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://so.csdn.net/so/search?from=pc_blog_highlight&q=axios",target:"_blank",rel:"noopener noreferrer"}},[s._v("axios"),a("OutboundLink")],1),s._v("ä¼˜åŒ–&ç¯å¢ƒå˜é‡")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-6"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿé€šè¿‡ axios.create() æ–¹æ³•æ¥æ„å»ºaxioså®ä¾‹å¯¹è±¡ï¼Œå¹¶ä¸”é…ç½®baseURL")]),s._v(" "),a("li",[s._v("èƒ½å¤ŸçŸ¥é“ .env.development å’Œ .env.production ä¸¤ä¸ªæ–‡ä»¶çš„ä½œç”¨")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿé…ç½®å¼€å‘ç¯å¢ƒå˜é‡")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿåœ¨ä»£ç ä¸­å¼•å…¥é…ç½®çš„ç¯å¢ƒå˜é‡çš„å€¼")])]),s._v(" "),a("p",[s._v("æ¯ä¸€æ¬¡æˆ‘ä»¬è¯·æ±‚æ¥å£çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡éƒ½éœ€è¦å†™ç›¸åŒçš„baseUrlã€‚ä¾‹å¦‚ï¼šhttp://localhost:8080ï¼Œè¿™æ ·å¤ªç¹çï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹ç½‘ç»œè¯·æ±‚è¿›è¡Œä¼˜åŒ–ï¼Œæ¥å£åŸŸåã€å›¾ç‰‡åŸŸåã€åˆ†ä¸ºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼Œç›´æ¥å†™åœ¨ä»£ç ä¸­ï¼Œé¡¹ç›®å‘å¸ƒæ—¶ï¼Œå¾ˆéš¾æ›¿æ¢")]),s._v(" "),a("h4",{attrs:{id:"é…ç½®ç»Ÿä¸€çš„url-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ç»Ÿä¸€çš„url-â˜…â˜…"}},[s._v("#")]),s._v(" é…ç½®ç»Ÿä¸€çš„URLï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("axios.defaults.baseURL = 'http://localhost:8080'\n// æˆ–è€…\nconst instance = axios.create({\n    baseURL: 'http://localhost:8080'\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"é…ç½®ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒ-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒ-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é…ç½®ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// é€šè¿‡è„šæ‰‹æ¶çš„ç¯å¢ƒå˜é‡æ¥è§£å†³ å¼€å‘ç¯å¢ƒ\nåœ¨å¼€å‘ç¯å¢ƒå˜é‡æ–‡ä»¶ .env.development ä¸­ï¼Œé…ç½® REACT_APP_URL= http://localhost:8080\n\n// é€šè¿‡è„šæ‰‹æ¶çš„ç¯å¢ƒå˜é‡è§£å†³ï¼Œ ç”Ÿæˆç¯å¢ƒ\nåœ¨ç”Ÿäº§ç¯å¢ƒå˜é‡æ–‡ä»¶ .env.production ä¸­ï¼Œé…ç½® REACT_APP_URL=çº¿ä¸Šæ¥å£åœ°å€\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"ä½¿ç”¨ç¯å¢ƒå˜é‡-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ç¯å¢ƒå˜é‡-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("åœ¨"),a("a",{attrs:{href:"https://so.csdn.net/so/search?from=pc_blog_highlight&q=react",target:"_blank",rel:"noopener noreferrer"}},[s._v("react"),a("OutboundLink")],1),s._v("å®˜ç½‘ä¸­ï¼Œæœ‰è¯¦ç»†è¯´æ˜ç¯å¢ƒå˜é‡çš„é…ç½®")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190313364.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-6ugvaX4h-1575111776952)(images/ç¯å¢ƒå˜é‡.png)]"}})]),s._v(" "),a("p",[s._v("åœ¨é‡Œé¢ä¼šå‘ç°å¯¹åº”çš„æ–‡ä»¶è¿˜æœ‰ä¸ª .local åç¼€çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œä»¥ä¸‹å°±æ˜¯ä½ è¾“å…¥ä¸åŒå‘½ä»¤ï¼Œæ‰§è¡Œæ–‡ä»¶çš„ä¼˜å…ˆçº§")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190331568.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-crEAa03x-1575111776953)(images/ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ .env.development")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190345457.jpg",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-RdcFacOY-1575111776954)(images/ç¯å¢ƒå˜é‡é…ç½®-01.jpg)]"}})]),s._v(" "),a("ul",[a("li",[s._v("åœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ REACT_APP_URLï¼ˆæ³¨æ„ï¼šç¯å¢ƒå˜é‡çº¦å®šREACT_APP å¼€å¤´ï¼‰,è®¾ç½® REACT_APP_URL=http://localhost:8080")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("REACT_APP_URL =http://localhost:8080\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("é‡æ–°å¯åŠ¨è„šæ‰‹æ¶ï¼Œè„šæ‰‹æ¶åœ¨è¿è¡Œçš„æ—¶å€™å°±ä¼šè§£æè¿™ä¸ªæ–‡ä»¶")]),s._v(" "),a("li",[s._v("åœ¨utils/url.js ä¸­ï¼Œåˆ›å»º BASE_URL å˜é‡ï¼Œè®¾ç½®å€¼ä¸º process.env.REACT_APP_URL")]),s._v(" "),a("li",[s._v("å¯¼å‡ºBASE_URL")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// é…ç½®baseURL\nexport const BASE_URL = process.env.REACT_APP_URL\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨æˆ‘ä»¬é¡µé¢å¼•å…¥å°±èƒ½ä½¿ç”¨äº†")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import {BASE_URL} from '../../utils/url.js'\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"axios-ä¼˜åŒ–-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios-ä¼˜åŒ–-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://so.csdn.net/so/search?from=pc_blog_highlight&q=axios",target:"_blank",rel:"noopener noreferrer"}},[s._v("axios"),a("OutboundLink")],1),s._v(" ä¼˜åŒ–ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨utils/api.js ä¸­ï¼Œå¯¼å…¥ axioså’ŒBASE_URL")]),s._v(" "),a("li",[s._v("è°ƒç”¨ axios.create() æ–¹æ³•åˆ›å»ºä¸€ä¸ªaxioså®ä¾‹")]),s._v(" "),a("li",[s._v("ç»™ create æ–¹æ³•ï¼Œæ·»åŠ é…ç½®baseURLï¼Œå€¼ä¸º BASE_URL")]),s._v(" "),a("li",[s._v("å¯¼å‡ºAPIå¯¹è±¡")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import axios from 'axios'\nimport { BASE_URL } from './url.js'\n\n// åˆ›å»ºaxiosçš„é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢é…ç½®baseURLè·¯å¾„\nconst config = {\n    baseURL: BASE_URL\n}\n\n// æ ¹æ®create æ–¹æ³•æ¥æ„å»ºaxioså¯¹è±¡\nconst instance = axios.create(config)\n\nexport { instance }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("å¯¼å…¥APIï¼Œä»£æ›¿ä¹‹å‰ç›´æ¥åˆ©ç”¨axoisè¯·æ±‚çš„ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import {instance} from '../../utils/api.js'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿åŠŸèƒ½"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿åŠŸèƒ½")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-7"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("è¯´å‡ºæŠ½å–æœç´¢å¯¼èˆªæ çš„å¥½å¤„")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºæŠ½å–æœç´¢å¯¼èˆªæ çš„æ€è·¯ï¼Œå¹¶ä¸”å‚ç…§è€å¸ˆä»£ç èƒ½å¤Ÿå®ç°æŠ½å–åŠŸèƒ½")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºæ¡ä»¶ç­›é€‰åŠŸèƒ½çš„å¤§è‡´æ€è·¯ï¼ŒFilterç»„ä»¶ä½œç”¨ï¼ŒFilterTitleç»„ä»¶ä½œç”¨ï¼ŒFilterPickerç»„ä»¶ä½œç”¨ï¼ŒFilterFooterç»„ä»¶ä½œç”¨")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§è€å¸ˆä»£ç å®ç°FilterTitleç»„ä»¶ä¸­çš„é€»è¾‘ä»£ç ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§è€å¸ˆä»£ç å®ç°FilterPickerç»„ä»¶çš„é€»è¾‘ä»£ç ")])]),s._v(" "),a("h4",{attrs:{id:"åŠŸèƒ½åˆ†æ-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ-2"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("æœç´¢å¯¼èˆªæ ç»„ä»¶çš„å°è£…")]),s._v(" "),a("li",[s._v("æ¡ä»¶ç­›é€‰æ ç»„ä»¶å°è£…")]),s._v(" "),a("li",[s._v("æ¡ä»¶ç­›é€‰æ å¸é¡¶åŠŸèƒ½")]),s._v(" "),a("li",[s._v("æˆ¿å±‹åˆ—è¡¨")])]),s._v(" "),a("h3",{attrs:{id:"é¡¶éƒ¨æœç´¢å¯¼èˆªæ "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¶éƒ¨æœç´¢å¯¼èˆªæ "}},[s._v("#")]),s._v(" é¡¶éƒ¨æœç´¢å¯¼èˆªæ ")]),s._v(" "),a("h4",{attrs:{id:"å°è£…æœç´¢å¯¼èˆªæ ç»„ä»¶-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°è£…æœç´¢å¯¼èˆªæ ç»„ä»¶-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" å°è£…æœç´¢å¯¼èˆªæ ç»„ä»¶ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨components ç›®å½•ä¸­åˆ›å»ºç»„ä»¶ SearchHeader/index.js")]),s._v(" "),a("li",[s._v("æŠŠä¹‹å‰å†™è¿‡çš„ç»“æ„æ‹·è´åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­")]),s._v(" "),a("li",[s._v("ç„¶åæŠŠè·Ÿé¦–é¡µç›¸å…³çš„æ•°æ®å»æ‰ï¼Œæ ‡é¢˜ï¼ŒåŸå¸‚åç§°")]),s._v(" "),a("li",[s._v("é€šè¿‡propsæ¥è¿›è¡Œä¼ é€’")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { Flex } from 'antd-mobile';\nimport React from 'react'\nimport {withRouter} from 'react-router-dom'\nimport './index.scss'\nimport PropTypes from 'prop-types'\n\nfunction SearchHeader({ history, cityName}) {\n    return (\n        <Flex className='search-box'>\n            {/* å·¦ä¾§ç™½è‰²åŒºåŸŸ */}\n            <Flex className=\"search\">\n                {/* ä½ç½® */}\n                <div className=\"location\" onClick={() => history.push('/citylist')}>\n                    <span className=\"name\">{cityName}</span>\n                    <i className=\"iconfont icon-arrow\" />\n                </div>\n\n                {/* æœç´¢è¡¨å• */}\n                <div className=\"form\" onClick={() => history.push('/search')}>\n                    <i className=\"iconfont icon-seach\" />\n                    <span className=\"text\">è¯·è¾“å…¥å°åŒºæˆ–åœ°å€</span>\n                </div>\n            </Flex>\n            {/* å³ä¾§åœ°å›¾å›¾æ ‡ */}\n            <i className=\"iconfont icon-map\" onClick={() => history.push('/map')} />\n        </Flex>\n    )\n}\n// è®¾ç½®æ ¡éªŒ\nSearchHeader.propTypes = {\n    cityName: PropTypes.string.isRequired\n}\nexport default withRouter(SearchHeader)\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("h4",{attrs:{id:"æŠŠæœç´¢å¯¼èˆªæ å¼•å…¥åˆ°houselistä¸­-è°ƒæ•´ç›¸åº”æ ·å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŠŠæœç´¢å¯¼èˆªæ å¼•å…¥åˆ°houselistä¸­-è°ƒæ•´ç›¸åº”æ ·å¼"}},[s._v("#")]),s._v(" æŠŠæœç´¢å¯¼èˆªæ å¼•å…¥åˆ°HouseListä¸­,è°ƒæ•´ç›¸åº”æ ·å¼")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React from \"react\";\nimport SearchHeader from \"../../components/SearchHeader\";\n\nlet {label} = JSON.parse(localStorage.getItem('localCity'))\n\nexport default class HouseList extends React.Component {\n componentDidMount(){\n     console.log('houseList')\n }\n  render() {\n    return (\n      <div>\n        <SearchHeader cityName={label}> </SearchHeader>\n      </div>\n    );\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("åœ¨æ‰¾æˆ¿é¡µé¢SearHeaderç»„ä»¶åŸºç¡€ä¸Šï¼Œè°ƒæ•´ç»“æ„")]),s._v(" "),a("ul",[a("li",[s._v("æˆ‘ä»¬éœ€è¦SearHeaderç»„ä»¶æ ·å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¼ é€’classNameçš„å±æ€§è¿›å»ï¼Œè°ƒæ•´ä¸€ä¸‹SearchHeaderç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('function SearchHeader({ history, cityName, className }) {\n  return (\n      // search-box è¿™ä¸ªæ ·å¼ä¸èƒ½å»æ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡æ•°ç»„çš„æ–¹å¼ï¼Œæ·»åŠ å¤šä¸ªç±»åï¼Œç„¶ååˆ©ç”¨ join æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²\n    <Flex className={["search-box", className || ""].join(" ")}>\n    ...\n    </Flex>\n    )\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("ç»™SearchHeaderç»„ä»¶ä¼ é€’classNameå±æ€§ï¼Œæ¥è°ƒæ•´ç»„ä»¶æ ·å¼ï¼Œè®©å…¶é€‚åº”æ‰¾æˆ¿é¡µé¢æ•ˆæœï¼Œä¸‹é¢æ˜¯HouseListçš„å¤´å¸ƒå±€")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Flex className={style.header}>\n  <i className='iconfont icon-back' onClick={() => this.props.history.go(-1)}></i>\n  <SearchHeader cityName={label} className={style.searchHeader}> </SearchHeader>\n</Flex>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»º index.module.css,è®¾ç½®ç›¸åº”çš„æ ·å¼ï¼Œä¿®æ”¹äº†ä¸€äº›ç»„ä»¶ä¸­çš„å…¨å±€æ ·å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ :globalæ¥è®¾ç½®")])]),s._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* è¦†ç›– searchHeaderçš„æ ·å¼ */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".header")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 45px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #f5f6f5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* æ§åˆ¶å·¦ä¾§å°ç®­å¤´ */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".header :global(.icon-back)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 16px"),a("span",{pre:!0,attrs:{class:"token important"}},[s._v("!important")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #999"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* æ§åˆ¶å³ä¾§çš„å›¾æ ‡ */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".header :global(.icon-map)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #00ae66"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* æ§åˆ¶searchè¾“å…¥æ¡† */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".header :global(.search)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 30px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".searchHeader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("h4",{attrs:{id:"æ¡ä»¶ç­›é€‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ä»¶ç­›é€‰"}},[s._v("#")]),s._v(" æ¡ä»¶ç­›é€‰")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190417126.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-YOwKeIdg-1575111776956)(images/æ‰¾æˆ¿é¡µé¢åˆ†æ.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"ç»“æ„åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“æ„åˆ†æ"}},[s._v("#")]),s._v(" ç»“æ„åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("çˆ¶ç»„ä»¶ï¼šFilter")]),s._v(" "),a("li",[s._v("å­ç»„ä»¶ï¼šFilterTitle æ ‡é¢˜èœå•ç»„ä»¶")]),s._v(" "),a("li",[s._v("å­ç»„ä»¶ï¼šFilterPicker å‰ä¸‰ä¸ªèœå•å¯¹åº”çš„å†…å®¹ç»„ä»¶")]),s._v(" "),a("li",[s._v("å­ç»„ä»¶ï¼šFilterMore æœ€åä¸€ä¸ªèœå•å¯¹åº”çš„å†…å®¹ç»„ä»¶")])]),s._v(" "),a("h4",{attrs:{id:"åŠŸèƒ½åˆ†æ-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ-3"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("ç‚¹å‡»FilterTitleç»„ä»¶èœå•ï¼Œå±•å¼€è¯¥æ¡ä»¶ç­›é€‰å¯¹è¯æ¡†ï¼Œè¢«ç‚¹å‡»çš„æ ‡é¢˜é«˜äº®")]),s._v(" "),a("li",[s._v("ç‚¹å‡»å–æ¶ˆæŒ‰é’®æˆ–ç©ºç™½åŒºåŸŸï¼Œéšè—å¯¹è¯æ¡†ï¼Œå–æ¶ˆæ ‡é¢˜é«˜äº®")]),s._v(" "),a("li",[s._v("é€‰æ‹©ç­›é€‰æ¡ä»¶åï¼Œç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œéšè—å¯¹è¯æ¡†ï¼Œå½“å‰æ ‡é¢˜é«˜äº®")]),s._v(" "),a("li",[s._v("æ‰“å¼€å¯¹è¯æ¡†æ—¶ï¼Œå¦‚æœæœ‰é€‰æ‹©çš„æ¡ä»¶ï¼Œé‚£ä¹ˆé»˜è®¤æ˜¾ç¤ºå·²é€‰æ‹©çš„æ¡ä»¶")]),s._v(" "),a("li",[s._v("æ‰“å¼€å¯¹è¯æ¡†å·²ç»éšè—å¯¹è¯æ¡†æœ‰åŠ¨ç”»æ•ˆæœ")]),s._v(" "),a("li",[s._v("å¸é¡¶åŠŸèƒ½")])]),s._v(" "),a("h3",{attrs:{id:"filtertitleç»„ä»¶å®ç°-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filtertitleç»„ä»¶å®ç°-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" FilterTitleç»„ä»¶å®ç°ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"æ€è·¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€è·¯"}},[s._v("#")]),s._v(" æ€è·¯")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("æ ¹æ®æ ‡é¢˜èœå•æ•°æ®ï¼Œæ¸²æŸ“æ ‡é¢˜åˆ—è¡¨")])]),s._v(" "),a("li",[a("p",[s._v("æ ‡é¢˜å¯ä»¥è¢«ç‚¹å‡»")])]),s._v(" "),a("li",[a("p",[s._v("æ ‡é¢˜é«˜äº®")])]),s._v(" "),a("li",[a("ul",[a("li",[s._v("ç‚¹å‡»æ—¶é«˜äº®")]),s._v(" "),a("li",[s._v("æœ‰ç­›é€‰æ¡ä»¶é€‰ä¸­æ—¶")]),s._v(" "),a("li",[s._v("æ ‡é¢˜é«˜äº®çŠ¶æ€ï¼šæå‡è‡³çˆ¶ç»„ä»¶Filterä¸­ï¼Œç”±çˆ¶ç»„ä»¶æä¾›é«˜äº®çŠ¶æ€ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥å—çŠ¶æ€æ¥å®ç°é«˜äº®")]),s._v(" "),a("li",[s._v("åŸåˆ™ï¼šå•ä¸€æ•°æ®æºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒçŠ¶æ€åªåº”è¯¥æœ‰ä¸€ä¸ªç»„ä»¶æä¾›å¹¶ä¸”æä¾›æ“ä½œçŠ¶æ€çš„æ–¹æ³•ï¼Œå…¶ä»–ç»„ä»¶ç›´æ¥ä½¿ç”¨ç»„ä»¶ä¸­çŠ¶æ€å’Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•å³å¯")])])])]),s._v(" "),a("h4",{attrs:{id:"æ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤"}},[s._v("#")]),s._v(" æ­¥éª¤")]),s._v(" "),a("ul",[a("li",[s._v("é€šè¿‡propsæ¥å—ï¼Œé«˜äº®çŠ¶æ€å¯¹è±¡ titleSelectedStatus")]),s._v(" "),a("li",[s._v("éå†titleListæ•°ç»„ï¼Œæ¸²æŸ“æ ‡é¢˜åˆ—è¡¨")]),s._v(" "),a("li",[s._v("åˆ¤æ–­é«˜äº®å¯¹è±¡ä¸­å½“å‰æ ‡é¢˜æ˜¯å¦é«˜äº®ï¼Œå¦‚æœæ˜¯ï¼Œæ·»åŠ é«˜äº®ç±»")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// FilterTitle\n// æ¡ä»¶ç­›é€‰æ æ ‡é¢˜æ•°ç»„ï¼š\nconst titleList = [\n  { title: "åŒºåŸŸ", type: "area" },\n  { title: "æ–¹å¼", type: "mode" },\n  { title: "ç§Ÿé‡‘", type: "price" },\n  { title: "ç­›é€‰", type: "more" }\n];\n\nexport default function FilterTitle({titleSelectedStatus}) {\n  return (\n    <Flex align="center" className={styles.root}>\n      {/* éå†æ ‡é¢˜æ•°ç»„ */}\n      {titleList.map(item => {\n        // è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„çŠ¶æ€\n        let isSelected = titleSelectedStatus[item.type];\n        return (\n          <Flex.Item key={item.type}>\n            {/* é€‰ä¸­ç±»åï¼š selected */}{" "}\n            <span\n              className={[\n                styles.dropdown,\n                // åˆ¤æ–­å½“å‰çš„æ ‡é¢˜æ˜¯å¦æ˜¯é€‰ä¸­çŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œè®¾ç½®é€‰ä¸­çš„æ ·å¼\n                isSelected ? styles.selected : ""\n              ].join(" ")}\n            >\n              <span>{item.title}</span> <i className="iconfont icon-arrow" />\n            </span>\n          </Flex.Item>\n        );\n      })}\n    </Flex>\n  );\n}\n\n// Filter\n/**\n * æ ‡é¢˜é«˜äº®çŠ¶æ€\n */\nconst titleSelectedStatus = {\n  area: false,\n  mode: false,\n  price: true,\n  more: false\n}\nexport default class Filter extends Component {\n  state = {\n    titleSelectedStatus\n  };\n  render() {\n    let { titleSelectedStatus } = this.state;\n    return (\n      <div className={styles.root}>\n        {/* å‰ä¸‰ä¸ªèœå•çš„é®ç½©å±‚ */}\n        <div className={styles.content}>\n          {/* æ ‡é¢˜æ  */}{" "}\n          <FilterTitle titleSelectedStatus={titleSelectedStatus} />\n          ...\n        </div>\n      </div>\n    );\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br")])]),a("ul",[a("li",[s._v("ç»™æ ‡é¢˜é¡¹ç»‘å®šå•å‡»äº‹ä»¶ï¼Œåœ¨äº‹ä»¶ä¸­è°ƒç”¨çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ–¹æ³• onClick")]),s._v(" "),a("li",[s._v("å°†å½“å‰æ ‡é¢˜typeï¼Œé€šè¿‡onClickçš„å‚æ•°ï¼Œä¼ é€’ç»™çˆ¶ç»„ä»¶")]),s._v(" "),a("li",[s._v("çˆ¶ç»„ä»¶ä¸­æ¥å—åˆ°å½“å‰typeï¼Œä¿®æ”¹æ”¹æ ‡é¢˜çš„é€‰ä¸­çŠ¶æ€ä¸ºtrue")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// Filter \n/**\n * æ ‡é¢˜é«˜äº®çŠ¶æ€\n */\nconst titleSelectedStatus = {\n  area: false,\n  mode: false,\n  price: false,\n  more: false\n};\n\nexport default class Filter extends Component {\n  ...\n  // çˆ¶å…ƒç´ æä¾›å­å…ƒç´ è°ƒç”¨çš„å‡½æ•°\n  onTitleClick = type => {\n    this.setState({\n      titleSelectedStatus: {\n        ...titleSelectedStatus,\n        [type]: true\n      }\n    });\n  };\n  render() {\n    let { titleSelectedStatus } = this.state;\n    return (\n      <div className={styles.root}>\n        {" "}\n        {/* å‰ä¸‰ä¸ªèœå•çš„é®ç½©å±‚ */}\n        <div className={styles.content}>\n          {" "}\n          {/* æ ‡é¢˜æ  */}{" "}\n          <FilterTitle\n            ...\n            onClick={this.onTitleClick}\n          />\n          ...\n        </div>{" "}\n      </div>\n    );\n  }\n}\n\n// FilterTitle\nexport default function FilterTitle({titleSelectedStatus,onClick}) {\n  return (\n    <Flex align="center" className={styles.root}>\n      {/* éå†æ ‡é¢˜æ•°ç»„ */}\n      {titleList.map(item => {\n        ...\n        return (\n          <Flex.Item key={item.type} onClick={() => onClick(item.type)}>\n            {/* é€‰ä¸­ç±»åï¼š selected */}{" "}\n            <span\n              className={[\n                styles.dropdown,\n                // åˆ¤æ–­å½“å‰çš„æ ‡é¢˜æ˜¯å¦æ˜¯é€‰ä¸­çŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œè®¾ç½®é€‰ä¸­çš„æ ·å¼\n                isSelected ? styles.selected : ""\n              ].join(" ")}\n            >\n              <span>{item.title}</span> <i className="iconfont icon-arrow" />\n            </span>\n          </Flex.Item>\n        );\n      })}\n    </Flex>\n  );\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br")])]),a("h3",{attrs:{id:"filterpicker-ç»„ä»¶-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filterpicker-ç»„ä»¶-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" FilterPicker ç»„ä»¶ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"æ€è·¯åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€è·¯åˆ†æ"}},[s._v("#")]),s._v(" æ€è·¯åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("ç‚¹å‡»å‰ä¸‰ä¸ªæ ‡é¢˜å±•ç¤ºè¯¥ç»„ä»¶ï¼Œç‚¹å‡»å–æ¶ˆçš„æ—¶å€™éšè—")]),s._v(" "),a("li",[s._v("ä½¿ç”¨PickerViewç»„ä»¶æ¥å®ç°é¡µé¢æ•ˆæœ")]),s._v(" "),a("li",[s._v("è·å–åˆ°PickerViewç»„ä»¶ä¸­ï¼Œé€‰ä¸­çš„ç­›é€‰æ¡ä»¶å€¼")]),s._v(" "),a("li",[s._v("ç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œéšè—è¯¥ç»„ä»¶ï¼Œå°†è·å–åˆ°çš„ç­›é€‰æ¡ä»¶å€¼ä¼ é€’ç»™çˆ¶ç»„ä»¶")]),s._v(" "),a("li",[s._v("å±•ç¤ºæˆ–éšè—å¯¹è¯æ¡†çš„çŠ¶æ€ï¼šç”±çˆ¶ç»„ä»¶æä¾›ï¼Œé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶")]),s._v(" "),a("li",[s._v("ç­›é€‰æ¡ä»¶æ•°æ®ï¼šç”±çˆ¶ç»„ä»¶æä¾›ï¼ˆå› ä¸ºæ‰€æœ‰ç­›é€‰æ¡ä»¶æ˜¯é€šè¿‡ä¸€ä¸ªæ¥å£æ¥è·å–çš„ï¼‰ï¼Œé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶")])]),s._v(" "),a("h4",{attrs:{id:"ä½¿ç”¨æ­¥éª¤-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ­¥éª¤-2"}},[s._v("#")]),s._v(" ä½¿ç”¨æ­¥éª¤")]),s._v(" "),a("h5",{attrs:{id:"å®šä¹‰opentype-å®ç°filterpickeræ˜¾ç¤ºéšè—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰opentype-å®ç°filterpickeræ˜¾ç¤ºéšè—"}},[s._v("#")]),s._v(" å®šä¹‰openTypeï¼Œå®ç°FilterPickeræ˜¾ç¤ºéšè—")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨Filterç»„ä»¶ä¸­ï¼Œæä¾›ç»„ä»¶å±•ç¤ºæˆ–éšè—çš„çŠ¶æ€ï¼šopenType")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  state = {\n    ...\n    // æ§åˆ¶FilterPickeræˆ– FilterMoreç»„ä»¶çš„å±•ç¤ºå’Œéšè—\n    openType: ""\n  };\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨renderæ–¹æ³•ä¸­åˆ¤æ–­ openTypeçš„å€¼ä¸º area/mode/price æ—¶ï¼Œå°±æ˜¾ç¤º FilterPickerç»„ä»¶ï¼Œä»¥åŠé®ç½©å±‚")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{/* å‰ä¸‰ä¸ªèœå•çš„é®ç½©å±‚ */} \n{ openType === "area" || openType === "mode" || openType === "price" ? (<div className={styles.mask}></div>) : ("")}\n...\n{/* å‰ä¸‰ä¸ªèœå•å¯¹åº”çš„å†…å®¹ï¼š */}\n{openType === "area" || openType === "mode" || openType === "price" ? (<FilterPicker />) : ("")}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨ onTitleClickæ–¹æ³•ä¸­ï¼Œä¿®æ”¹çŠ¶æ€ openTypeä¸ºå½“å‰ typeï¼Œå±•ç¤ºå¯¹è¯æ¡†")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// çˆ¶å…ƒç´ æä¾›å­å…ƒç´ è°ƒç”¨çš„å‡½æ•°\nonTitleClick = type => {\n  this.setState({\n    titleSelectedStatus: {\n      ...titleSelectedStatus,\n      [type]: true\n    },\n    openType: type\n  });\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨Filterç»„ä»¶ä¸­ï¼Œæä¾›onCancelæ–¹æ³•ï¼ˆä½œä¸ºå–æ¶ˆæŒ‰é’®å’Œé®ç½©å±‚çš„äº‹ä»¶ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// å–æ¶ˆ,\nonCancel = () => {\n  // éšè—å¯¹è¯æ¡†\n  this.setState({\n    openType:''\n  })\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨onCancelæ–¹æ³•ä¸­ï¼Œä¿®æ”¹çŠ¶æ€ openTypeä¸ºç©ºï¼Œéšè—å¯¹è¯æ¡†")]),s._v(" "),a("li",[s._v("è®²onCancelé€šè¿‡propsä¼ é€’ç»™FilterPickerç»„ä»¶ï¼Œåœ¨å–æ¶ˆæŒ‰é’®çš„å•å‡»äº‹ä»¶ä¸­è°ƒç”¨è¯¥æ–¹æ³•")]),s._v(" "),a("li",[s._v("åœ¨Filterç»„ä»¶ä¸­ï¼Œæä¾›onSaveæ–¹æ³•ï¼Œä½œä¸ºç¡®å®šæŒ‰é’®çš„äº‹ä»¶å¤„ç†")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// åœ¨çˆ¶ç»„ä»¶ Filterä¸­å®šä¹‰ ç¡®å®šå’Œå–æ¶ˆçš„å‡½æ•°\n// å–æ¶ˆ\nonCancel = () => {\n  // éšè—å¯¹è¯æ¡†\n  this.setState({\n    openType: \"\"\n  });\n};\n// ä¿å­˜ï¼Œéšè—å¯¹è¯æ¡†\nonSave = () => {\n  this.setState({\n    openType: \"\"\n  });\n};\n// ä¼ é€’ç»™FilterPicker\nrender(){\n    return (\n       ...\n       <FilterTitle\n\t\t  titleSelectedStatus={titleSelectedStatus}\n\t\t  onClick={this.onTitleClick}\n\t\t/>\n    )\n}\n\n// åœ¨FilterPickeré‡Œé¢è¿›è¡Œä¸€æ¬¡ä¸­è½¬ï¼Œæœ€åè¿™ä¸ªæŒ‰é’®æ˜¯åœ¨FilterFooteré‡Œé¢\nrender() {\n  let { onCancel ,onSave} = this.props;\n  return (\n    <>\n      {/* é€‰æ‹©å™¨ç»„ä»¶ï¼š */}\n      <PickerView data={province} value={null} cols={3} />\n\n      {/* åº•éƒ¨æŒ‰é’® */}\n      <FilterFooter onCancel={onCancel} onOk={onSave}/>\n    </>\n  );\n}\n\n// åœ¨FilterFooteré‡Œé¢è°ƒç”¨\nfunction FilterFooter({\n  cancelText = 'å–æ¶ˆ',\n  okText = 'ç¡®å®š',\n  onCancel,\n  onOk,\n  className\n}) {\n  return (\n    <Flex className={[styles.root, className || ''].join(' ')}>\n      {/* å–æ¶ˆæŒ‰é’® */}\n      <span\n        className={[styles.btn, styles.cancel].join(' ')}\n        onClick={onCancel}\n      >\n        {cancelText}\n      </span>\n\n      {/* ç¡®å®šæŒ‰é’® */}\n      <span className={[styles.btn, styles.ok].join(' ')} onClick={onOk}>\n        {okText}\n      </span>\n    </Flex>\n  )\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨æ–¹æ³•ä¸­ï¼Œæ ¹æ®openTypeçš„ç±»å‹ï¼Œä»filtersDataä¸­è·å–éœ€è¦çš„æ•°æ®")]),s._v(" "),a("li",[s._v("è®²æ•°æ®é€šè¿‡propsä¼ é€’ç»™FilterPickerç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// æ¸²æŸ“FilterPickerç»„ä»¶çš„æ–¹æ³•\n  renderFilterPicker() {\n    const {\n      openType,\n      filtersData: { area, subway, rentType, price }\n    } = this.state;\n    if (openType !== "area" && openType !== "mode" && openType !== "price")\n      return null;\n    // æ‹¼æ¥æ•°æ®\n    let data = [];\n    // pickerViewæ˜¾ç¤ºçš„åˆ—æ•°\n    let cols = 3\n    switch (openType) {\n      case "area":\n        // åŒºåŸŸæ•°æ®\n        data = [area, subway];\n        break;\n      case "mode":\n        // æ–¹å¼æ•°æ®\n        data = rentType;\n        cols = 1\n        break;\n      case "price":\n        // ç§Ÿé‡‘æ•°æ®\n        data = price;\n        cols =1\n        break;\n    }\n    return (\n      <FilterPicker onCancel={this.onCancel} onSave={this.onSave} data={data} cols={cols}/>\n    );\n  }\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("ul",[a("li",[s._v("FilterPickerç»„ä»¶æ¥æ”¶åˆ°æ•°æ®åï¼Œè®²å…¶ä½œä¸ºPickerViewç»„ä»¶çš„data")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export default class FilterPicker extends Component {\n  render() {\n    let { onCancel, onSave, data ,cols} = this.props;\n    return (\n      <>\n        {/* é€‰æ‹©å™¨ç»„ä»¶ï¼š */}\n        <PickerView data={data} value={null} cols={cols} />\n\n        {/* åº•éƒ¨æŒ‰é’® */}\n        <FilterFooter onCancel={onCancel} onOk={onSave} />\n      </>\n    );\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day07"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day07"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day07")]),s._v(" "),a("p",[s._v("-æ¡ä»¶ç­›é€‰åŠŸèƒ½å®ç°&FilterTitleç»„ä»¶åŠŸèƒ½å®ç°&æˆ¿å±‹åˆ—è¡¨æ•°æ®è·å–")]),s._v(" "),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-æ¡ä»¶ç­›é€‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-æ¡ä»¶ç­›é€‰"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-æ¡ä»¶ç­›é€‰")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-8"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿè®¾ç½®FilterPickerç»„ä»¶ä¸ºå—æ§ç»„ä»¶")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè·å–é€‰ä¸­å€¼ï¼Œå¹¶ä¸”è®¾ç½®é»˜è®¤é€‰ä¸­å€¼")])]),s._v(" "),a("h4",{attrs:{id:"è·å–é€‰ä¸­å€¼-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–é€‰ä¸­å€¼-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è·å–é€‰ä¸­å€¼ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨FilterPickerç»„ä»¶ä¸­ï¼Œæ·»åŠ çŠ¶æ€valueï¼ˆç”¨äºè·å–PickerViewç»„ä»¶çš„é€‰ä¸­å€¼ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  state = {\n    value: null\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("ç»™PickerViewç»„ä»¶æ·»åŠ é…ç½®é¡¹ onChangeï¼Œé€šè¿‡å‚æ•°è·å–åˆ°é€‰ä¸­å€¼ï¼Œå¹¶æ›´æ–°çŠ¶æ€ value")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<PickerView\n  data={data}\n  // æˆ‘ä»¬ä¸€æ—¦ç›‘å¬äº† onChangeäº‹ä»¶ï¼ŒåŒæ­¥äº†valueå€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶æˆäº†å—æ§ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŒæ­¥valueçš„å€¼\n  value={this.state.value}\n  cols={cols}\n  onChange={val => {\n    this.setState({ value: val });\n  }}\n/>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨ç¡®å®šæŒ‰é’®çš„äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œè®² type å’Œ value ä½œä¸ºå‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// Filterç»„ä»¶\n <FilterPicker ... type={openType}/>\n \n// FilterPickerç»„ä»¶\n{/* åº•éƒ¨æŒ‰é’®ï¼Œè¿™ä¸ªtypeç”±å¤–ç•Œè¿›è¡Œçš„ä¼ é€’ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡propsæ¥è¿›è¡Œæ¥æ”¶ */}\n<FilterFooter onCancel={onCancel} onOk={() => onSave(type,this.state.value)} />\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"è®¾ç½®é»˜è®¤é€‰ä¸­å€¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®é»˜è®¤é€‰ä¸­å€¼"}},[s._v("#")]),s._v(" è®¾ç½®é»˜è®¤é€‰ä¸­å€¼")]),s._v(" "),a("p",[s._v("å¦‚æœæ˜¯ä¹‹å‰é€‰ä¸­äº†çš„ï¼Œå½“æˆ‘ä»¬å†æ¬¡æ˜¾ç¤ºFilterPickerçš„æ—¶å€™ï¼Œåº”è¯¥å±•ç¤ºé»˜è®¤é€‰ä¸­é¡¹")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨Filterç»„ä»¶ä¸­ï¼Œæä¾›é€‰ä¸­å€¼çŠ¶æ€ï¼š "),a("strong",[s._v("selectedValues")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// é»˜è®¤é€‰ä¸­çš„çŠ¶æ€\nconst selectedValues = {\n  area: ["area", null],\n  mode: ["null"],\n  price: ["null"],\n  more: []\n};\n...\n  state = {\n    ...\n    // ç­›é€‰é»˜è®¤é€‰ä¸­çš„çŠ¶æ€å€¼\n    selectedValues\n  };\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("é€šè¿‡openTypeè·å–åˆ°å½“å‰ç±»å‹çš„é€‰ä¸­å€¼ï¼ˆdefaultValueï¼‰ï¼Œé€šè¿‡propsä¼ é€’ç»™FilterPickerç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const {\n  ...,\n  selectedValues\n} = this.state;\n// é»˜è®¤é€‰ä¸­å€¼\nlet defaultValue = selectedValues[openType];\n...\n<FilterPicker\n  ...\n  defaultValue={defaultValue}\n/>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨FilterPickerç»„ä»¶ä¸­ï¼Œå°†å½“å‰defaultValueè®¾ç½®ä¸ºçŠ¶æ€valueçš„é»˜è®¤å€¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("state = {\n  value: this.props.defaultValue\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨ç‚¹å‡»ç¡®å®šæŒ‰é’®åï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­æ›´æ–°å½“å‰typeå¯¹åº”çš„selectedValuesçŠ¶æ€å€¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// ä¿å­˜ï¼Œéšè—å¯¹è¯æ¡†\nonSave = (type, value) => {\n  this.setState({\n    openType: '',\n    selectedValues: {\n      ...this.state.selectedValues,\n      [type]: value\n    }\n  });\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜"}},[s._v("#")]),s._v(" é—®é¢˜")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨å‰é¢ä¸‰ä¸ªæ ‡ç­¾ä¹‹é—´æ¥å›åˆ‡æ¢æ—¶å€™ï¼Œé»˜è®¤é€‰ä¸­å€¼ä¸ä¼šç”Ÿæ•ˆï¼Œå½“ç‚¹å‡»ç¡®å®šï¼Œé‡æ–°æ‰“å¼€FilterPickerç»„ä»¶æ—¶å€™ï¼Œæ‰ä¼šç”Ÿæ•ˆ")]),s._v(" "),a("li",[s._v("åˆ†æï¼šä¸¤ç§æ“ä½œæ–¹å¼çš„åŒºåˆ«åœ¨äºæœ‰æ²¡æœ‰é‡æ–°åˆ›å»ºFilterPickerç»„ä»¶ï¼Œé‡æ–°åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šç”Ÿæ•ˆï¼Œä¸é‡æ–°åˆ›å»ºï¼Œä¸ä¼šç”Ÿæ•ˆ")]),s._v(" "),a("li",[s._v("åŸå› ï¼šä¸é‡æ–°åˆ›å»ºFilterPickerç»„ä»¶æ—¶ï¼Œä¸ä¼šå†æ¬¡æ‰§è¡Œstateåˆå§‹åŒ–ï¼Œä¹Ÿå°±æ‹¿ä¸åˆ°æœ€æ–°çš„props")]),s._v(" "),a("li",[s._v("è§£å†³æ–¹å¼ï¼šç»™FilterPickerç»„ä»¶æ·»åŠ keyå€¼ä¸ºopenTypeï¼Œè¿™æ ·ï¼Œåœ¨ä¸åŒæ ‡é¢˜ä¹‹é—´åˆ‡æ¢æ—¶å€™ï¼Œkeyå€¼éƒ½ä¸ç›¸åŒï¼ŒReactå†…éƒ¨ä¼šåœ¨keyä¸åŒæ—¶å€™ï¼Œé‡æ–°åˆ›å»ºè¯¥ç»„ä»¶")])]),s._v(" "),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-å®Œå–„filtertitle-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-å®Œå–„filtertitle-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-å®Œå–„FilterTitleï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-9"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºFilterTitleé«˜äº®æ˜¾ç¤ºçš„é€»è¾‘")]),s._v(" "),a("li",[s._v("å‚ç…§è€å¸ˆä»£ç å®ç°FilterTitleçš„é«˜äº®æ˜¾ç¤º")])]),s._v(" "),a("h4",{attrs:{id:"æ€è·¯-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€è·¯-2"}},[s._v("#")]),s._v(" æ€è·¯")]),s._v(" "),a("ul",[a("li",[s._v("ç‚¹å‡»æ ‡é¢˜æ—¶ï¼Œéå†æ ‡é¢˜é«˜äº®æ•°æ®")]),s._v(" "),a("li",[s._v("å¦‚æœæ˜¯å½“å‰æ ‡é¢˜ï¼Œç›´æ¥è®¾ç½®ä¸ºé«˜äº®")]),s._v(" "),a("li",[s._v("åˆ†åˆ«åˆ¤æ–­æ¯ä¸ªæ ‡é¢˜å¯¹åº”çš„ç­›é€‰æ¡ä»¶æœ‰æ²¡æœ‰é€‰ä¸­å€¼ï¼ˆåˆ¤æ–­æ¯ä¸ªç­›é€‰æ¡ä»¶çš„é€‰ä¸­å€¼ä¸é»˜è®¤å€¼æ˜¯å¦ç›¸åŒï¼Œç›¸åŒè¡¨ç¤ºæ²¡æœ‰é€‰ä¸­å€¼ï¼Œä¸åŒï¼Œè¡¨ç¤ºé€‰ä¸­äº†å€¼ï¼‰")]),s._v(" "),a("li",[a("ul",[a("li",[s._v("selectedVal è¡¨ç¤ºå½“å‰typeçš„é€‰ä¸­å€¼")]),s._v(" "),a("li",[s._v("å¦‚æœtypeä¸ºareaï¼Œæ­¤æ—¶ï¼ŒselectedVal.length !== 2 || selectedVal[0] !== â€˜areaâ€™ï¼Œå°±è¡¨ç¤ºå·²ç»æœ‰é€‰ä¸­å€¼")]),s._v(" "),a("li",[s._v("å¦‚æœ type ä¸º modeï¼Œæ­¤æ—¶ï¼ŒselectedVal[0] !== â€˜nullâ€™ï¼Œå°±è¡¨ç¤ºå·²ç»æœ‰é€‰ä¸­å€¼")]),s._v(" "),a("li",[s._v("å¦‚æœ type ä¸º priceï¼Œæ­¤æ—¶ï¼ŒselectedVal[0] !== â€˜nullâ€™ï¼Œå°±è¡¨ç¤ºæœ‰é€‰ä¸­å€¼")])])]),s._v(" "),a("li",[s._v("å¦‚æœæœ‰ï¼Œå°±è®©è¯¥æ ‡é¢˜ä¿æŒé«˜äº®")]),s._v(" "),a("li",[s._v("å¦‚æœæ²¡æœ‰ï¼Œå°±è®©è¯¥æ ‡é¢˜å–æ¶ˆé«˜äº®")])]),s._v(" "),a("h4",{attrs:{id:"å®ç°æ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æ­¥éª¤"}},[s._v("#")]),s._v(" å®ç°æ­¥éª¤")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨æ ‡é¢˜ç‚¹å‡»äº‹ä»¶ onTitleClickäº‹ä»¶é‡Œé¢ï¼Œè·å–åˆ°ä¸¤ä¸ªçŠ¶æ€ï¼šæ ‡é¢˜é€‰ä¸­çŠ¶æ€å¯¹è±¡å’Œç­›é€‰æ¡ä»¶çš„é€‰ä¸­å€¼å¯¹è±¡")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" const { titleSelectedStatus, selectedValues } = this.state;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("æ ¹æ®å½“å‰æ ‡é¢˜é€‰ä¸­çŠ¶æ€å¯¹è±¡ï¼Œè·å–åˆ°ä¸€ä¸ªæ–°çš„æ ‡é¢˜é€‰ä¸­çŠ¶æ€å¯¹è±¡ï¼ˆnewTitleSelectedStatusï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// åˆ›å»ºæ–°çš„æ ‡é¢˜é€‰ä¸­çŠ¶æ€å¯¹è±¡\nlet newTitleSelectedStatus = { ...titleSelectedStatus };\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("ä½¿ç”¨Object.keys()ï¼Œéå†æ ‡é¢˜é€‰ä¸­çŠ¶æ€å¯¹è±¡")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Object.keys(titleSelectedStatus).forEach(key => {\n     ...\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºå½“å‰æ ‡é¢˜ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥è®©è¯¥æ ‡é¢˜é€‰ä¸­çŠ¶æ€ä¸ºtrueï¼ˆé«˜äº®ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Object.keys(titleSelectedStatus).forEach(key => {\n // keyè¡¨ç¤ºæ•°ç»„ä¸­æ¯ä¸€é¡¹\n if (key === type) {\n   // å½“å‰æ ‡é¢˜\n   newTitleSelectedStatus[type] = true;\n   return;\n }\n ...\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("å¦åˆ™ï¼Œåˆ†åˆ«åˆ¤æ–­æ¯ä¸ªæ ‡é¢˜çš„é€‰ä¸­å€¼æ˜¯å¦ä¸é»˜è®¤å€¼ç›¸åŒ")]),s._v(" "),a("li",[s._v("å¦‚æœä¸åŒï¼Œåˆ™è®¾ç½®è¯¥æ ‡é¢˜çš„é€‰ä¸­çŠ¶æ€ä¸ºtrue")]),s._v(" "),a("li",[s._v("å¦‚æœç›¸åŒï¼Œåˆ™è®¾ç½®è¯¥æ ‡é¢˜çš„é€‰ä¸­çŠ¶æ€ä¸ºfalse")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Object.keys(titleSelectedStatus).forEach(key => {\n    ...\n\t// å…¶ä»–æ ‡é¢˜\n\tlet selectedVal = selectedValues[key];\n\tif (\n\t  (key === "area" && selectedVal.length !== 2) ||\n\t  selectedVal[0] !== "area"\n\t) {\n\t  newTitleSelectedStatus[type] = true;\n\t} else if (key === "more" && selectedVal[0] !== "null") {\n\t  newTitleSelectedStatus[type] = true;\n\t} else if (key === "price" && selectedVal[0] !== "null") {\n\t  newTitleSelectedStatus[type] = true;\n\t} else if (key === "more") {\n\t  // æ›´å¤šé€‰æ‹©\n\t}else {\n\t  newTitleSelectedStatus[type] = false;\n\t}\n});\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("ul",[a("li",[s._v("æ›´æ–°çŠ¶æ€ titleSelectedStatusçš„å€¼ä¸ºï¼š newTitleSelectedStatus")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("this.setState({\n  titleSelectedStatus: newTitleSelectedStatus,\n  openType: type\n});\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-filtermoreç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-filtermoreç»„ä»¶"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-FilterMoreç»„ä»¶")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-10"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿæ¸²æŸ“FilterMoreç»„ä»¶")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç° æ¸…é™¤æŒ‰é’®å’Œç¡®å®šæŒ‰é’® çš„é€»è¾‘")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç° FilterMoreçš„é»˜è®¤é€‰ä¸­")])]),s._v(" "),a("h4",{attrs:{id:"æ¸²æŸ“ç»„ä»¶æ•°æ®-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“ç»„ä»¶æ•°æ®-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æ¸²æŸ“ç»„ä»¶æ•°æ®ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…renderFilterMoreæ–¹æ³•ï¼Œæ¸²æŸ“FilterMoreç»„ä»¶")]),s._v(" "),a("li",[s._v("ä»filtersDataä¸­ï¼Œè·å–æ•°æ®ï¼ˆroomTypeï¼Œorientedï¼Œfloorï¼Œcharacteristicï¼‰ï¼Œé€šè¿‡propsä¼ é€’ç»™FilterMoreç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('renderFilterMore() {\n  // è·å–å¯¹åº”æ•°æ® roomTypeï¼Œorientedï¼Œfloorï¼Œcharacteristic\n  const {\n    openType,\n    filtersData: { roomType, oriented, floor, characteristic }\n  } = this.state;\n  // æŠŠæ•°æ®å°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œæ–¹ä¾¿ä¼ é€’\n  const data = {\n    roomType,\n    oriented,\n    floor,\n    characteristic\n  };\n  if (openType !== "more") {\n    return null;\n  }\n  // ä¼ é€’ç»™å­ç»„ä»¶\n  return <FilterMore data={data}/>;\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("ul",[a("li",[s._v("FilterMoreç»„ä»¶ä¸­ï¼Œé€šè¿‡propsè·å–åˆ°æ•°æ®ï¼Œåˆ†åˆ«å°†æ•°æ®ä¼ é€’ç»™renderFiltersæ–¹æ³•")]),s._v(" "),a("li",[s._v("æ­£åœ¨renderFiltersæ–¹æ³•ä¸­ï¼Œé€šè¿‡å‚æ•°æ¥æ”¶æ•°æ®ï¼Œéå†æ•°æ®ï¼Œæ¸²æŸ“æ ‡ç­¾")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// æ¸²æŸ“æ ‡ç­¾\nrenderFilters(data) {\n  // é«˜äº®ç±»åï¼š styles.tagActive\n  return data.map(item => {\n    return (\n      <span key={item.value} className={[styles.tag].join(" ")}>{item.label}</span>\n    );\n  });\n}\n\nrender() {\n  const {\n    data: { roomType, oriented, floor, characteristic }\n  } = this.props;\n  return (\n    <div className={styles.root}>\n      ...\n      <div className={styles.tags}>\n        <dl className={styles.dl}>\n          <dt className={styles.dt}> æˆ·å‹ </dt>\n          <dd className={styles.dd}> {this.renderFilters(roomType)} </dd>\n          <dt className={styles.dt}> æœå‘ </dt>\n          <dd className={styles.dd}> {this.renderFilters(oriented)} </dd>\n          <dt className={styles.dt}> æ¥¼å±‚ </dt>\n          <dd className={styles.dd}> {this.renderFilters(floor)} </dd>\n          <dt className={styles.dt}> æˆ¿å±‹äº®ç‚¹ </dt>\n          <dd className={styles.dd}>\n          ...\n      </div>\n      ...\n    </div>\n  );\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("h4",{attrs:{id:"è·å–é€‰ä¸­å€¼å¹¶ä¸”é«˜äº®æ˜¾ç¤º-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–é€‰ä¸­å€¼å¹¶ä¸”é«˜äº®æ˜¾ç¤º-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è·å–é€‰ä¸­å€¼å¹¶ä¸”é«˜äº®æ˜¾ç¤ºï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨stateä¸­æ·»åŠ çŠ¶æ€ selectedValues")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  state = {\n    selectedValues: []\n  };\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("ç»™æ ‡ç­¾ç»‘å®šå•å‡»äº‹ä»¶ï¼Œé€šè¿‡å‚æ•°è·å–åˆ°å½“å‰é¡¹çš„value")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<span\n  key={item.value}\n  className={[styles.tag, isSelected ? styles.tagActive : ""].join(" ")}\n  onClick={() => this.onTagClick(item.value)}\n>\n  {item.label}\n</span>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("åˆ¤æ–­selectedValuesä¸­æ˜¯å¦åŒ…å«å½“å‰valueå€¼")]),s._v(" "),a("li",[s._v("å¦‚æœä¸åŒ…å«ï¼Œå°±å°†å½“å‰é¡¹çš„valueæ·»åŠ åˆ°selectedValuesæ•°ç»„ä¸­")]),s._v(" "),a("li",[s._v("å¦‚æœåŒ…å«ï¼Œå°±ä»selectedValuesæ•°ç»„ä¸­ç§»é™¤ï¼ˆä½¿ç”¨æ•°ç»„çš„spliceæ–¹æ³•ï¼Œæ ¹æ®ç´¢å¼•å·åˆ é™¤ï¼‰")]),s._v(" "),a("li",[s._v("åœ¨æ¸²æŸ“æ ‡ç­¾æ—¶ï¼Œåˆ¤æ–­selectedValuesæ•°ç»„ä¸­ï¼Œæ˜¯å¦åŒ…å«å½“å‰é¡¹çš„valueï¼ŒåŒ…å«ï¼Œå°±æ·»åŠ é«˜äº®ç±»")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("onTagClick(value) {\n    const { selectedValues } = this.state;\n    // åˆ›å»ºæ–°æ•°ç»„ï¼Œå°½é‡ä¸è¦ç›´æ¥æ“ä½œåŸæ•°ç»„\n    const newSelectedValues = [...selectedValues];\n    if (selectedValues.indexOf(value) <= -1) {\n      // ä¸åŒ…å«å½“å‰çš„value\n      newSelectedValues.push(value);\n    } else {\n      // è¯´æ˜åŒ…å«ï¼Œå°±éœ€è¦ç§»é™¤\n      const index = newSelectedValues.findIndex(item => item === value);\n      newSelectedValues.splice(index, 1);\n    }\n    this.setState({\n      selectedValues: newSelectedValues\n    });\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"æ¸…é™¤å’Œç¡®å®šæŒ‰é’®çš„é€»è¾‘å¤„ç†-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¸…é™¤å’Œç¡®å®šæŒ‰é’®çš„é€»è¾‘å¤„ç†-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æ¸…é™¤å’Œç¡®å®šæŒ‰é’®çš„é€»è¾‘å¤„ç†ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("è®¾ç½®FilterFooterç»„ä»¶çš„å–æ¶ˆæŒ‰é’®æ–‡å­—ä¸ºï¼š æ¸…é™¤")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<FilterFooter\n  className={styles.footer}\n  cancelText="æ¸…é™¤"\n  onCancel={this.onCancel}\n  onOk={this.onOk}\n/>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("ç‚¹å‡»å–æ¶ˆæŒ‰é’®æ—¶ï¼Œæ¸…ç©ºæ‰€æœ‰é€‰ä¸­çš„é¡¹çš„å€¼ï¼ˆselectedValues:[]ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// å–æ¶ˆç‚¹å‡»äº‹ä»¶\nonCancel = () => {\n  this.setState({\n    selectedValues: []\n  });\n};\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("ç‚¹å‡»ç¡®å®šæŒ‰é’®æ—¶ï¼Œè®²å½“å‰é€‰ä¸­é¡¹çš„å€¼å’Œtypeï¼Œä¼ é€’ç»™Filterçˆ¶ç»„ä»¶")]),s._v(" "),a("li",[s._v("åœ¨Filterç»„ä»¶ä¸­çš„onSaveæ–¹æ³•ä¸­ï¼Œæ¥æ”¶ä¼ é€’è¿‡æ¥çš„é€‰ä¸­å€¼ï¼Œæ›´æ–°çŠ¶æ€selectedValues")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// Filter ç»„ä»¶ï¼Œä¼ é€’typeè·ŸonSave\n <FilterMore data={data} type={openType} onSave={this.onSave} defaultValues={defaultValues}/>;\n \n \n// ç¡®å®šç‚¹å‡»äº‹ä»¶,é€šè¿‡propsæ¥è·å–typeè·ŸonSaveæ–¹æ³•\nonOk = () => {\n  const { type, onSave } = this.props;\n  onSave(type, this.state.selectedValues);\n};\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"è®¾ç½®é»˜è®¤é€‰ä¸­å€¼-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®é»˜è®¤é€‰ä¸­å€¼-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è®¾ç½®é»˜è®¤é€‰ä¸­å€¼ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨æ¸²æŸ“FilterMoreç»„ä»¶æ—¶ï¼Œä»selectedValuesä¸­ï¼Œè·å–åˆ°å½“å‰é€‰ä¸­å€¼more")]),s._v(" "),a("li",[s._v("é€šè¿‡propsè®²é€‰ä¸­å€¼ä¼ é€’ç»™FilterMoreç»„ä»¶")]),s._v(" "),a("li",[s._v("ç»™é®ç½©å±‚ç»‘å®šäº‹ä»¶ï¼Œåœ¨äº‹ä»¶ä¸­ï¼Œè°ƒç”¨çˆ¶ç»„ä»¶çš„onCancelå…³é—­FilterMoreç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// Filterç»„ä»¶\nrenderFilterMore() {\n  ...\n  let defaultValues = selectedValues.more\n  // ä¼ é€’ç»™å­ç»„ä»¶\n  return <FilterMore data={data} type={openType} onSave={this.onSave} defaultValues={defaultValues} onCancel={this.onCancel}/>;\n}\n\n// FilterMoreç»„ä»¶\n {/* é®ç½©å±‚ */} <div className={styles.mask} onClick={this.props.onCancel}/>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨FilterMoreç»„ä»¶ä¸­ï¼Œè®²è·å–åˆ°çš„é€‰ä¸­å€¼ï¼Œè®¾ç½®ä¸ºå­ç»„ä»¶çŠ¶æ€selectedValuesçš„é»˜è®¤å€¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("state = {\n  selectedValues: this.props.defaultValues\n};\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"å®Œå–„filtertitleé«˜äº®åŠŸèƒ½-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®Œå–„filtertitleé«˜äº®åŠŸèƒ½-â˜…â˜…"}},[s._v("#")]),s._v(" å®Œå–„FilterTitleé«˜äº®åŠŸèƒ½ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨Filterç»„ä»¶çš„onTitleClickæ–¹æ³•ä¸­ï¼Œæ·»åŠ typeä¸ºmoreçš„åˆ¤æ–­æ¡ä»¶")]),s._v(" "),a("li",[s._v("å½“é€‰ä¸­å€¼æ•°ç»„é•¿åº¦ä¸ä¸º0çš„æ—¶å€™ï¼Œè¡¨ç¤ºFilterMoreç»„ä»¶ä¸­æœ‰é€‰ä¸­é¡¹ï¼Œæ­¤æ—¶ï¼Œè®¾ç½®é€‰ä¸­çŠ¶æ€é«˜äº®")]),s._v(" "),a("li",[s._v("ç‚¹å‡»ç¡®å®šæŒ‰é’®æ—¶ï¼Œæ ¹æ®å‚æ•°typeå’Œvalueï¼Œåˆ¤æ–­å½“å‰èœå•æ˜¯å¦é«˜äº®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// ä¿å­˜ï¼Œéšè—å¯¹è¯æ¡†\n  onSave = (type, value) => {\n    const { titleSelectedStatus } = this.state;\n    let newTitleSelectedStatus = { ...titleSelectedStatus };\n    let selectedVal = value;\n    if (\n      type === "area" &&\n      (selectedVal.length !== 2 || selectedVal[0] !== "area")\n    ) {\n      newTitleSelectedStatus[type] = true;\n    } else if (type === "mode" && selectedVal[0] !== "null") {\n      newTitleSelectedStatus[type] = true;\n    } else if (type === "price" && selectedVal[0] !== "null") {\n      newTitleSelectedStatus[type] = true;\n    } else if (type === "more" && selectedVal.length !== 0) {\n      // æ›´å¤šé€‰æ‹©\n      newTitleSelectedStatus[type] = true;\n    } else {\n      newTitleSelectedStatus[type] = false;\n    }\n    this.setState({\n      openType: "",\n      titleSelectedStatus: newTitleSelectedStatus,\n      selectedValues: {\n        ...this.state.selectedValues,\n        [type]: value\n      }\n    });\n  };\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨å…³é—­å¯¹è¯æ¡†æ—¶ï¼ˆonCancelï¼‰ï¼Œæ ¹æ®typeå’Œå½“å‰typeçš„é€‰ä¸­å€¼ï¼Œåˆ¤æ–­å½“å‰èœå•æ˜¯å¦é«˜äº®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// å–æ¶ˆ\n  onCancel = type => {\n    const { titleSelectedStatus, selectedValues } = this.state;\n    let newTitleSelectedStatus = { ...titleSelectedStatus };\n    let selectedVal = selectedValues[type];\n    if (\n      type === "area" &&\n      (selectedVal.length !== 2 || selectedVal[0] !== "area")\n    ) {\n      newTitleSelectedStatus[type] = true;\n    } else if (type === "mode" && selectedVal[0] !== "null") {\n      newTitleSelectedStatus[type] = true;\n    } else if (type === "price" && selectedVal[0] !== "null") {\n      newTitleSelectedStatus[type] = true;\n    } else if (type === "more" && selectedVal.length !== 0) {\n      // æ›´å¤šé€‰æ‹©\n      newTitleSelectedStatus[type] = true;\n    } else {\n      newTitleSelectedStatus[type] = false;\n    }\n    // éšè—å¯¹è¯æ¡†\n    this.setState({\n      openType: "",\n      titleSelectedStatus: newTitleSelectedStatus\n    });\n  };\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-è·å–æˆ¿å±‹åˆ—è¡¨æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-è·å–æˆ¿å±‹åˆ—è¡¨æ•°æ®"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-è·å–æˆ¿å±‹åˆ—è¡¨æ•°æ®")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-11"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿå°è£…ç­›é€‰æ¡ä»¶å¯¹è±¡")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè·å–åˆ°æˆ¿å±‹åˆ—è¡¨æ•°æ®")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç°HouseItemç»„ä»¶åœ¨mapé¡µé¢å’Œæˆ¿å±‹åˆ—è¡¨é¡µé¢çš„å¤ç”¨")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿæ¸²æŸ“æˆ¿å±‹åˆ—è¡¨æ•°æ®åœ¨é¡µé¢")])]),s._v(" "),a("h4",{attrs:{id:"ç»„è£…ç­›é€‰æ¡ä»¶-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»„è£…ç­›é€‰æ¡ä»¶-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ç»„è£…ç­›é€‰æ¡ä»¶ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨Filterç»„ä»¶çš„onSaveæ–¹æ³•ä¸­ï¼Œæ ¹æ®æœ€æ–°selectedValuesç»„è£…ç­›é€‰çš„æ¡ä»¶æ•°æ® filtersï¼Œä»¥ä¸‹æ˜¯æ•°æ®æ ¼å¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190618880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-yVHirGTt-1575111902305)(images/æ•°æ®æ ¼å¼.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("è·å–åŒºåŸŸæ•°æ®çš„å‚æ•°åï¼šarea æˆ– subway(é€‰ä¸­å€¼ï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ )")]),s._v(" "),a("li",[s._v("è·å–åŒºåŸŸæ•°æ®å€¼ï¼ˆä»¥æœ€åä¸€ä¸ªvalueä¸ºå‡†ï¼‰")]),s._v(" "),a("li",[s._v("è·å–æ–¹å¼å’Œç§Ÿé‡‘çš„å€¼ï¼ˆé€‰ä¸­å€¼å¾—ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰")]),s._v(" "),a("li",[s._v("è·å–ç­›é€‰ï¼ˆmoreï¼‰çš„å€¼ï¼ˆè®²é€‰ä¸­å€¼æ•°ç»„è½¬æ¢ä¸ºä»¥é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// ç»„æ‹¼æ•°æ®æ ¼å¼\nlet newSelectedValues = {\n  ...selectedValues,\n  [type]: value\n};\nconst { area, mode, price, more } = newSelectedValues;\n\n// ç­›é€‰æ¡ä»¶æ•°æ®\nconst filters = {};\n// åŒºåŸŸ\nconst areaKey = area[0];\nlet areaValue = "null";\nif (area.length === 3) {\n  areaValue = area[2] !== "null" ? area[2] : area[1];\n}\nfilters[areaKey] = areaValue;\n// æ–¹å¼å’Œç§Ÿé‡‘\nfilters.mode = mode[0];\nfilters.price = price[0];\n// more\nfilters.more = more.join(",");\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h4",{attrs:{id:"è·å–æˆ¿å±‹æ•°æ®-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æˆ¿å±‹æ•°æ®-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è·å–æˆ¿å±‹æ•°æ®ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("å°†ç­›é€‰æ¡ä»¶æ•°æ®filtersä¼ é€’ç»™çˆ¶ç»„ä»¶HouseList")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" // ä¿å­˜ï¼Œéšè—å¯¹è¯æ¡†\n  onSave = (type, value) => {\n    ...\n\n    this.props.onFilter(filters)\n    ...\n  };\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("HouseListç»„ä»¶ä¸­ï¼Œåˆ›å»ºæ–¹æ³•onFilterï¼Œé€šè¿‡å‚æ•°æ¥æ”¶filtersæ•°æ®ï¼Œå¹¶å­˜å‚¨åˆ°thisä¸­")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  // æä¾›ç»™Filterç»„ä»¶è°ƒç”¨çš„å‡½æ•°ï¼Œæ¥å—å‚æ•° filters\n  onFilter = filters => {\n    this.filters = filters;\n    this.searchHouseList();\n  };\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»ºæ–¹æ³•searchHouseListï¼ˆç”¨æ¥è·å–æˆ¿å±‹åˆ—è¡¨æ•°æ®ï¼‰")]),s._v(" "),a("li",[s._v("æ ¹æ®æ¥å£ï¼Œè·å–å½“å‰å®šä½åŸå¸‚idå‚æ•°")]),s._v(" "),a("li",[s._v("å°†ç­›é€‰æ¡ä»¶æ•°æ®ä¸åˆ†é¡µæ•°æ®åˆå¹¶åï¼Œä½œä¸ºå€Ÿå£çš„å‚æ•°ï¼Œå‘é€è¯·æ±‚ï¼Œè·å–æˆ¿å±‹æ•°æ®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' // è·å–æˆ¿æºåˆ—è¡¨çš„å‡½æ•°\n  async searchHouseList() {\n    // è·å–åŸå¸‚ä¿¡æ¯\n    let { value } = JSON.parse(localStorage.getItem("localCity"));\n    // è¯·æ±‚æ•°æ®\n    let res = await instance.get("/houses", {\n      cityId: value,\n      ...this.filters,\n      start: 1,\n      end: 20\n    });\n  }\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"è¿›å…¥é¡µé¢æ—¶è·å–æ•°æ®-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›å…¥é¡µé¢æ—¶è·å–æ•°æ®-â˜…â˜…"}},[s._v("#")]),s._v(" è¿›å…¥é¡µé¢æ—¶è·å–æ•°æ®ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨componentDidMounté’©å­å‡½æ•°ä¸­ï¼Œè°ƒç”¨searchHouseListï¼Œæ¥è·å–æˆ¿å±‹åˆ—è¡¨æ•°æ®")]),s._v(" "),a("li",[s._v("ç»™HouseListç»„ä»¶æ·»åŠ å±æ€§ filtersï¼Œå€¼ä¸ºå¯¹è±¡")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  // åˆå§‹åŒ–å±æ€§\n  filters = {};\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("æ·»åŠ ä¸¤ä¸ªçŠ¶æ€ï¼šlistå’Œcountï¼ˆå­˜å‚¨æˆ¿å±‹åˆ—è¡¨æ•°æ®å’Œæ€»æ¡æ•°ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  state = {\n    list: [],\n    count: 0\n  };\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("å°†è·å–åˆ°çš„æˆ¿å±‹æ•°æ®ï¼Œå­˜å‚¨åœ¨stateä¸­")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' // è·å–æˆ¿æºåˆ—è¡¨çš„å‡½æ•°\n  async searchHouseList() {\n    // è·å–åŸå¸‚ä¿¡æ¯\n    let { value } = JSON.parse(localStorage.getItem("localCity"));\n    // è¯·æ±‚æ•°æ®\n    let res = await instance.get("/houses", {\n      cityId: value,\n      ...this.filters,\n      start: 1,\n      end: 20\n    });\n    let { list, count } = res.data.body;\n    this.setState({\n      list: list,\n      count: count\n    });\n  }\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h4",{attrs:{id:"ä½¿ç”¨listç»„ä»¶æ¸²æŸ“æ•°æ®-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨listç»„ä»¶æ¸²æŸ“æ•°æ®-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ä½¿ç”¨Listç»„ä»¶æ¸²æŸ“æ•°æ®ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…HouseItemç»„ä»¶ï¼Œå®ç°mapå’ŒHouseListuemianä¸­ï¼Œæˆ¿å±‹åˆ—è¡¨é¡¹çš„å¤ç”¨")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport styles from './index.module.css'\n\nfunction HouseItem({ src, title, desc, tags, price, onClick }) {\n  return (\n    <div className={styles.house} onClick={onClick}>\n      <div className={styles.imgWrap}>\n        <img className={styles.img} src={src} alt=\"\" />\n      </div>\n      <div className={styles.content}>\n        <h3 className={styles.title}>{title}</h3>\n        <div className={styles.desc}>{desc}</div>\n        <div>\n          {/* ['è¿‘åœ°é“', 'éšæ—¶çœ‹æˆ¿'] */}\n          {tags.map((tag, index) => {\n            const tagClass = 'tag' + (index + 1)\n            return (\n              <span\n                className={[styles.tag, styles[tagClass]].join(' ')}\n                key={tag}\n              >\n                {tag}\n              </span>\n            )\n          })}\n        </div>\n        <div className={styles.price}>\n          <span className={styles.priceNum}>{price}</span> å…ƒ/æœˆ\n        </div>\n      </div>\n    </div>\n  )\n}\n\nHouseItem.propTypes = {\n  src: PropTypes.string,\n  title: PropTypes.string,\n  desc: PropTypes.string,\n  tags: PropTypes.array.isRequired,\n  price: PropTypes.number,\n  onClick: PropTypes.func\n}\n\nexport default HouseItem\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br")])]),a("ul",[a("li",[s._v("ä½¿ç”¨HouseItemç»„ä»¶æ”¹é€ Mapç»„ä»¶çš„æˆ¿å±‹åˆ—è¡¨é¡¹")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("renderHousesList() {\n    return this.state.housesList.map(item => (\n        <HouseItem\n            key={item.houseCode}\n            src={BASE_URL + item.houseImg}\n            title={item.title}\n            desc={item.desc}\n            tags={item.tags}\n            price={item.price}\n        ></HouseItem>\n    )\n    )\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("ä½¿ç”¨react-virtualizedçš„Listç»„ä»¶æ¸²æŸ“æˆ¿å±‹åˆ—è¡¨ï¼ˆå‚è€ƒCityListç»„ä»¶çš„ä½¿ç”¨ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ¸²æŸ“æ¯ä¸€è¡Œçš„å†…å®¹\nrenderHouseList = ({\n  key, // Unique key within array of rows\n  index, // ç´¢å¼•å·\n  style // é‡ç‚¹å±æ€§ï¼šä¸€å®šè¦ç»™æ¯ä¸€ä¸ªè¡Œæ•°æ·»åŠ è¯¥æ ·å¼\n}) => {\n  // å½“å‰è¿™ä¸€è¡Œçš„\n  const { list } = this.state;\n  const house = list[index];\n  return (\n    <HouseItem\n      key={key}\n      style={style}\n      src={BASE_URL + house.houseImg}\n      title={house.title}\n      desc={house.desc}\n      tags={house.tags}\n      price={house.price}\n    />\n  );\n};\nrender(){\n    return (\n      <div>\n         ...\n          {/* æˆ¿å±‹åˆ—è¡¨ */}\n        <div className={styles.houseItems}>\n          <List\n            // ç»„ä»¶çš„å®½åº¦\n            width={300}\n            // ç»„ä»¶çš„é«˜åº¦\n            height={300}\n            rowCount={this.state.count} // Liståˆ—è¡¨é¡¹æ€»æ¡ç›®æ•°\n            // æ¯è¡Œçš„é«˜åº¦\n            rowHeight={120} // æ¯ä¸€è¡Œé«˜åº¦\n            rowRenderer={this.renderHouseList}\n          />\n        </div>\n      </div>\n    )\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day08"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day08"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day08")]),s._v(" "),a("p",[s._v("-æˆ¿å±‹åˆ—è¡¨æ»šåŠ¨&åŠ è½½æ›´å¤š&å¸é¡¶åŠŸèƒ½&bugå®šä½&react-spring")]),s._v(" "),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-æˆ¿å±‹åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-æˆ¿å±‹åˆ—è¡¨"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-æˆ¿å±‹åˆ—è¡¨")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-12"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿä½¿ç”¨windowScrollerç»„ä»¶è§£å†³æ•´ä¸ªé¡µé¢æ— æ³•æ»šåŠ¨çš„é—®é¢˜")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿä½¿ç”¨InfiniteLoaderç»„ä»¶æ¥å®ç°åŠ è½½æ›´å¤šé€»è¾‘")])]),s._v(" "),a("h4",{attrs:{id:"ä½¿ç”¨windowscroller-è·Ÿéšé¡µé¢æ»šåŠ¨-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨windowscroller-è·Ÿéšé¡µé¢æ»šåŠ¨-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ä½¿ç”¨"),a("code",[s._v("WindowScroller")]),s._v(" è·Ÿéšé¡µé¢æ»šåŠ¨ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("**é»˜è®¤ï¼š**Listç»„ä»¶åªè®©ç»„ä»¶è‡ªèº«å‡ºç°æ»šåŠ¨æ¡ï¼Œæ— æ³•è®©æ•´ä¸ªé¡µé¢æ»šåŠ¨ï¼Œä¹Ÿå°±æ— æ³•å®ç°æ ‡é¢˜å¸é¡¶åŠŸèƒ½")]),s._v(" "),a("li",[s._v("**è§£å†³æ–¹å¼ï¼š**ä½¿ç”¨WindowScrolleré«˜é˜¶ç»„ä»¶ï¼Œè®©Listç»„ä»¶è·Ÿéšé¡µé¢æ»šåŠ¨ï¼ˆä¸ºListç»„ä»¶æä¾›çŠ¶æ€ï¼ŒåŒæ—¶è¿˜éœ€è¦è®¾ç½®Listç»„ä»¶çš„autoHeightå±æ€§ï¼‰")]),s._v(" "),a("li",[s._v("æ³¨æ„ï¼šWindowScrolleré«˜é˜¶ç»„ä»¶åªèƒ½æä¾›heightï¼Œæ— æ³•æä¾›width")]),s._v(" "),a("li",[s._v("**è§£å†³æ–¹å¼ï¼š**åœ¨WindowScrollerç»„ä»¶ä¸­ä½¿ç”¨AutoSizeré«˜é˜¶ç»„ä»¶æ¥ä¸ºListç»„ä»¶æä¾›width")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190706140.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-O3U36MH9-1575112006302)(images/WindowScroller.png)]"}})]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<WindowScroller>\n  {({ height, isScrolling, scrollTop }) => (\n    <AutoSizer>\n      {({ width }) => (\n        <List\n          autoHeight // è®¾ç½®é«˜åº¦ä¸º WindowScroller æœ€ç»ˆæ¸²æŸ“çš„åˆ—è¡¨é«˜åº¦\n          // ç»„ä»¶çš„å®½åº¦\n          width={width} // è§†å£å®½åº¦\n          // ç»„ä»¶çš„é«˜åº¦\n          height={height} // è§†å£é«˜åº¦\n          rowCount={this.state.count} // Liståˆ—è¡¨é¡¹æ€»æ¡ç›®æ•°\n          // æ¯è¡Œçš„é«˜åº¦\n          rowHeight={120} // æ¯ä¸€è¡Œé«˜åº¦\n          rowRenderer={this.renderHouseList}\n          isScrolling={isScrolling}\n          scrollTop={scrollTop}\n        />\n      )}\n    </AutoSizer>\n  )}\n</WindowScroller>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"infiniteloader-ç»„ä»¶-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#infiniteloader-ç»„ä»¶-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" "),a("code",[s._v("InfiniteLoader")]),s._v(" ç»„ä»¶ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("æ»šåŠ¨æˆ¿å±‹åˆ—è¡¨æ—¶å€™ï¼ŒåŠ¨æ€åŠ è½½æ›´å¤šæˆ¿å±‹æ•°æ®")]),s._v(" "),a("li",[s._v("ä½¿ç”¨"),a("code",[s._v("InfiniteLoader")]),s._v(" ç»„ä»¶ï¼Œæ¥å®ç°æ— é™æ»šåŠ¨åˆ—è¡¨ï¼Œä»è€ŒåŠ è½½æ›´å¤šæˆ¿å±‹æ•°æ®")]),s._v(" "),a("li",[s._v("æ ¹æ® "),a("code",[s._v("InfiniteLoader")]),s._v(" æ–‡æ¡£ç¤ºä¾‹ï¼Œåœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç»„ä»¶")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190716211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-D8h33kDP-1575112006303)(images/InfiniteLoader.png)]"}})]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<InfiniteLoader\n  isRowLoaded={this.isRowLoaded}\n  loadMoreRows={this.loadMoreRows}\n  rowCount={count}\n>\n  {({ onRowsRendered, registerChild }) => (\n    <WindowScroller>\n      {({ height, isScrolling, scrollTop }) => (\n        <AutoSizer>\n          {({ width }) => (\n            <List\n              onRowsRendered={onRowsRendered}\n              ref={registerChild}\n              autoHeight // è®¾ç½®é«˜åº¦ä¸º WindowScroller æœ€ç»ˆæ¸²æŸ“çš„åˆ—è¡¨é«˜åº¦\n              // ç»„ä»¶çš„å®½åº¦\n              width={width} // è§†å£å®½åº¦\n              // ç»„ä»¶çš„é«˜åº¦\n              height={height} // è§†å£é«˜åº¦\n              rowCount={count} // Liståˆ—è¡¨é¡¹æ€»æ¡ç›®æ•°\n              // æ¯è¡Œçš„é«˜åº¦\n              rowHeight={120} // æ¯ä¸€è¡Œé«˜åº¦\n              rowRenderer={this.renderHouseList}\n              isScrolling={isScrolling}\n              scrollTop={scrollTop}\n            />\n          )}\n        </AutoSizer>\n      )}\n    </WindowScroller>\n  )}\n</InfiniteLoader>\n // åˆ¤æ–­æ¯ä¸€è¡Œæ•°æ®æ˜¯å¦åŠ è½½å®Œæ¯•\n  isRowLoaded = ({ index }) => {\n    return !!this.state.list[index];\n  };\n  // ç”¨æ¥è·å–æ›´å¤šæˆ¿å±‹åˆ—è¡¨æ•°æ®\n  // æ³¨æ„ï¼Œè¯¥æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¹¶ä¸”ï¼Œè¿™ä¸ªå¯¹è±¡åº”è¯¥åœ¨æ•°æ®åŠ è½½å®Œæˆæ—¶ï¼Œæ¥è°ƒç”¨ resolveè®© Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºå·²å®Œæˆ\n  loadMoreRows = ({ startIndex, stopIndex }) => {\n    return new Promise(resolve => {\n       ...\n    });\n  };\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br")])]),a("h3",{attrs:{id:"åŠ è½½æ›´å¤šæˆ¿å±‹åˆ—è¡¨æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ è½½æ›´å¤šæˆ¿å±‹åˆ—è¡¨æ•°æ®"}},[s._v("#")]),s._v(" åŠ è½½æ›´å¤šæˆ¿å±‹åˆ—è¡¨æ•°æ®")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨loadMoreRowsæ–¹æ³•ä¸­ï¼Œæ ¹æ®èµ·å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ï¼Œå‘é€è¯·æ±‚ï¼Œè·å–æ›´å¤šæˆ¿å±‹æ•°æ®")]),s._v(" "),a("li",[s._v("è·å–åˆ°æœ€æ–°çš„æ•°æ®åï¼Œä¸å½“å‰listä¸­çš„æ•°æ®åˆå¹¶ï¼Œå†æ›´æ–°stateï¼Œå¹¶è°ƒç”¨Promiseçš„resolve")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('loadMoreRows = ({ startIndex, stopIndex }) => {\n    return new Promise(resolve => {\n      instance\n        .get("/houses", {\n          params: {\n            cityId: value,\n            ...this.filters,\n            start: startIndex,\n            end: stopIndex\n          }\n        })\n        .then(res => {\n          this.setState({\n            list: [...this.state.list, ...res.data.body.list]\n          });\n\n          // åŠ è½½æ•°æ®å®Œæˆæ—¶ï¼Œè°ƒç”¨resolveå³å¯\n          resolve();\n        });\n    });\n  };\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨renderHouseListæ–¹æ³•ä¸­ï¼Œåˆ¤æ–­houseæ˜¯å¦å­˜åœ¨")]),s._v(" "),a("li",[s._v("ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œå°±æ¸²æŸ“ä¸€ä¸ªloadingå…ƒç´ ")]),s._v(" "),a("li",[s._v("å­˜åœ¨çš„æ—¶å€™ï¼Œå†æ¸²æŸ“HouseItemç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ¸²æŸ“æ¯ä¸€è¡Œçš„å†…å®¹\n  renderHouseList = ({\n    key, // Unique key within array of rows\n    index, // ç´¢å¼•å·\n    style // é‡ç‚¹å±æ€§ï¼šä¸€å®šè¦ç»™æ¯ä¸€ä¸ªè¡Œæ•°æ·»åŠ è¯¥æ ·å¼\n  }) => {\n    // å½“å‰è¿™ä¸€è¡Œçš„\n    const { list } = this.state;\n    const house = list[index];\n    // å¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦æ¸²æŸ“loadingå…ƒç´ å ä½\n    if (!house) {\n      return (\n        <div key={key} style={style}>\n          <p className={styles.loading}></p>\n        </div>\n      );\n    }\n    return (\n      ...\n    );\n  };\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-å¸é¡¶åŠŸèƒ½-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-å¸é¡¶åŠŸèƒ½-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-å¸é¡¶åŠŸèƒ½ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-13"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿå®Œæˆå¸é¡¶çš„åŠŸèƒ½")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå°è£…é€šç”¨çš„Stickyç»„ä»¶")])]),s._v(" "),a("h4",{attrs:{id:"å®ç°æ€è·¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æ€è·¯"}},[s._v("#")]),s._v(" å®ç°æ€è·¯")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨é¡µé¢æ»šåŠ¨çš„æ—¶å€™ï¼Œåˆ¤æ–­ç­›é€‰æ ä¸Šè¾¹æ˜¯å¦è¿˜åœ¨å¯è§†åŒºåŸŸå†…")]),s._v(" "),a("li",[s._v("å¦‚æœåœ¨ï¼Œä¸éœ€è¦å¸é¡¶")]),s._v(" "),a("li",[s._v("å¦‚æœä¸åœ¨ï¼Œå°±å¸é¡¶")]),s._v(" "),a("li",[s._v("å¸é¡¶ä¹‹åï¼Œå…ƒç´ è„±æ ‡ï¼Œæˆ¿å±‹åˆ—è¡¨ä¼šçªç„¶å¾€ä¸Šè°ƒåŠ¨ç­›é€‰æ çš„é«˜åº¦ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªè·Ÿç­›é€‰æ ç›¸åŒçš„å ä½å…ƒç´ ï¼Œåœ¨ç­›é€‰æ è„±æ ‡åï¼Œä»£æ›¿å®ƒæ’‘èµ·é«˜åº¦")])]),s._v(" "),a("h4",{attrs:{id:"å®ç°æ­¥éª¤-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æ­¥éª¤-2"}},[s._v("#")]),s._v(" å®ç°æ­¥éª¤")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…Stickyç»„ä»¶")]),s._v(" "),a("li",[s._v("åœ¨HouseListé¡µé¢ä¸­ï¼Œå¯¼å…¥Stickyç»„ä»¶")]),s._v(" "),a("li",[s._v("ä½¿ç”¨Stickyç»„ä»¶åŒ…è£¹è¦å®ç°å¸é¡¶åŠŸèƒ½çš„Filterç»„ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Sticky>\n  <Filter onFilter={this.onFilter} />\n</Sticky>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨Stickyç»„ä»¶ä¸­ï¼Œåˆ›å»ºä¸¤ä¸ªrefå¯¹è±¡ï¼ˆplaceholderï¼Œcontentï¼‰ï¼Œåˆ†åˆ«æŒ‡å‘å ä½å…ƒç´ å’Œå†…å®¹å…ƒç´ ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class Sticky extends Component {\n  // åˆ›å»ºrefå¯¹è±¡\n  placeholder = createRef()\n  content = createRef()\n  ...\n  render() {\n   return (\n     <div>\n       {/* å ä½å…ƒç´  */}\n       <div ref={this.placeholder} />\n       {/* å†…å®¹å…ƒç´  */}\n       <div ref={this.content}>{this.props.children}</div>\n     </div>\n   )\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨ç»„ä»¶ä¸­ï¼Œç›‘å¬æµè§ˆå™¨çš„scrolläº‹ä»¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// ç›‘å¬ scroll äº‹ä»¶\ncomponentDidMount() {\n  window.addEventListener('scroll', this.handleScroll)\n}\ncomponentWillUnmount() {\n  window.removeEventListener('scroll', this.handleScroll)\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨scrolläº‹ä»¶ä¸­ï¼Œé€šè¿‡getBoundingClientRect()æ–¹æ³•å¾—åˆ°ç­›é€‰æ å ä½å…ƒç´ å½“å‰ä½ç½®")]),s._v(" "),a("li",[s._v("åˆ¤æ–­topæ˜¯å¦å°äº0ï¼ˆæ˜¯å¦åœ¨å¯è§†åŒºå†…ï¼‰")]),s._v(" "),a("li",[s._v("å¦‚æœå°äºï¼Œå°±æ·»åŠ éœ€è¦å¸é¡¶æ ·å¼ï¼ˆfixedï¼‰ï¼ŒåŒæ—¶è®¾ç½®å ä½å…ƒç´ é«˜åº¦")]),s._v(" "),a("li",[s._v("å¦åˆ™ï¼Œå°±ç§»é™¤å¸é¡¶æ ·å¼ï¼ŒåŒæ—¶è®©å ä½å…ƒç´ é«˜åº¦ä¸º0")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// scroll äº‹ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åº\nhandleScroll = () => {\n  // è·å–DOMå¯¹è±¡\n  const placeholderEl = this.placeholder.current\n  const contentEl = this.content.current\n\n  const { top } = placeholderEl.getBoundingClientRect()\n  if (top < 0) {\n    // å¸é¡¶\n    contentEl.classList.add(styles.fixed)\n    placeholderEl.style.height = '40px'\n  } else {\n    // å–æ¶ˆå¸é¡¶\n    contentEl.classList.remove(styles.fixed)\n    placeholderEl.style.height = '0px'\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h4",{attrs:{id:"é€šç”¨æ€§ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€šç”¨æ€§ä¼˜åŒ–"}},[s._v("#")]),s._v(" é€šç”¨æ€§ä¼˜åŒ–")]),s._v(" "),a("ul",[a("li",[s._v("ç°åœ¨Stickyç»„ä»¶ä¸­å ä½å…ƒç´ çš„é«˜åº¦æ˜¯å†™æ­»çš„ï¼Œè¿™æ ·å°±ä¸é€šç”¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé«˜åº¦é€šè¿‡å‚æ•°æ¥è¿›è¡Œä¼ é€’ï¼Œç»„ä»¶å†…éƒ¨é€šè¿‡propså°±å¯ä»¥æ¥è¿›è¡Œè·å–äº†")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// HouseListç»„ä»¶\n<Sticky height={40}>\n  <Filter onFilter={this.onFilter} />\n</Sticky>\n\n// Sticky ç»„ä»¶\n  handleScroll = () => {\n    const { height } = this.props;\n    ...\n    const { top } = placeholderEl.getBoundingClientRect();\n    if (top < 0) {\n      // å¸é¡¶\n      contentEl.classList.add(styles.fixed);\n      placeholderEl.style.height = `${height}px`;\n    } else {\n      // å–æ¶ˆå¸é¡¶\n      contentEl.classList.remove(styles.fixed);\n      placeholderEl.style.height = "0px";\n    }\n  };\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h3",{attrs:{id:"åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-ä¼˜åŒ–-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-ä¼˜åŒ–-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—-ä¼˜åŒ–ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-14"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("å­¦ä¹ åœ¨å·²æœ‰ä»£ç ä¸Šå¯»æ‰¾bugçš„æ€è·¯ï¼ˆå®šä½bugåŸå› ï¼Œæ€è€ƒè§£å†³åŠæ³•ï¼‰")])]),s._v(" "),a("h4",{attrs:{id:"åŠ è½½æç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ è½½æç¤º"}},[s._v("#")]),s._v(" åŠ è½½æç¤º")]),s._v(" "),a("ul",[a("li",[s._v("å®ç°åŠ è½½æˆ¿æºæ•°æ®æ—¶ï¼šåŠ è½½ä¸­ã€åŠ è½½å®Œæˆçš„æç¤ºï¼ˆéœ€è¦è§£å†³ï¼šæ²¡æœ‰æˆ¿æºæ•°æ®æ—¶ï¼Œä¸å¼¹æç¤ºæ¡†ï¼‰")]),s._v(" "),a("li",[s._v("åˆ¤æ–­ä¸€ä¸‹countæ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0ï¼Œå°±ä¸åŠ è½½æç¤ºä¿¡æ¯")]),s._v(" "),a("li",[s._v("æ‰¾ä¸åˆ°æˆ¿æºæ•°æ®æ—¶å€™çš„æç¤ºï¼ˆéœ€è¦è§£å†³ï¼šè¿›å…¥é¡µé¢å°±å±•ç¤ºè¯¥æç¤ºçš„é—®é¢˜ï¼‰")]),s._v(" "),a("li",[s._v("åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå˜é‡æ¥è¿›è¡Œè®°å½•ï¼Œç„¶ååªè¦è¿›è¡Œäº†æ•°æ®è¯·æ±‚ï¼Œå°±æŠŠè¿™ä¸ªæ ‡è¯†æ›´æ”¹")])]),s._v(" "),a("h3",{attrs:{id:"æ¡ä»¶ç­›é€‰æ ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ä»¶ç­›é€‰æ ä¼˜åŒ–"}},[s._v("#")]),s._v(" æ¡ä»¶ç­›é€‰æ ä¼˜åŒ–")]),s._v(" "),a("ul",[a("li",[s._v("ç‚¹å‡»æ¡ä»¶ç­›é€‰æ ï¼Œå±•ç¤ºFilterPickerç»„ä»¶æ—¶ï¼Œæ ·å¼é”™ä¹±é—®é¢˜ï¼ˆéœ€è¦è§£å†³ï¼šæ ·å¼é—®é¢˜ï¼‰")]),s._v(" "),a("li",[s._v("æŠŠFilterPickerç»„ä»¶ä¿®æ”¹æˆç»å¯¹å®šä½ï¼Œè„±æ ‡äº†ï¼Œå°±ä¸ä¼šæŒ¤ä¸‹é¢çš„ç»“æ„äº†")]),s._v(" "),a("li",[s._v("ä½¿ç”¨æ¡ä»¶ç­›é€‰æŸ¥è¯¢æ•°æ®æ—¶ï¼Œé¡µé¢æ²¡æœ‰å›åˆ°é¡¶éƒ¨ï¼ˆéœ€è¦è§£å†³ï¼šæ¯æ¬¡é‡æ–°å›åˆ°é¡µé¢é¡¶éƒ¨ï¼‰")]),s._v(" "),a("li",[s._v("åœ¨ç‚¹å‡»æ¡ä»¶æŸ¥è¯¢ç¡®å®šæŒ‰é’®çš„æ—¶å€™ï¼Œåˆ©ç”¨window.scroll(0 ,0) æ¥å›åˆ°é¡µé¢é¡¶éƒ¨")]),s._v(" "),a("li",[s._v("ç‚¹å‡»æ¡ä»¶ç­›é€‰æ ï¼Œå±•ç¤ºå¯¹è¯æ¡†åï¼Œé¡µé¢è¿˜ä¼šæ»šåŠ¨ï¼ˆéœ€è¦è§£å†³ï¼šå±•ç¤ºå¯¹è¯æ¡†åé¡µé¢ä¸æ»šåŠ¨ï¼‰")]),s._v(" "),a("li",[s._v("å±•ç¤ºå¯¹è¯æ¡†çš„æ—¶å€™ï¼Œç»™bodyæ·»åŠ  overflow: hidden çš„æ ·å¼ï¼Œè¿™æ ·é¡µé¢å°±ä¸èƒ½è¿›è¡Œæ»šåŠ¨ï¼Œç­‰åˆ°å¯¹è¯æ¡†æ¶ˆå¤±çš„æ—¶å€™ï¼Œå–æ¶ˆbodyçš„ overflow: hidden æ ·å¼")])]),s._v(" "),a("h3",{attrs:{id:"åˆ‡æ¢åŸå¸‚æ˜¾ç¤ºæˆ¿æºä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ‡æ¢åŸå¸‚æ˜¾ç¤ºæˆ¿æºä¼˜åŒ–"}},[s._v("#")]),s._v(" åˆ‡æ¢åŸå¸‚æ˜¾ç¤ºæˆ¿æºä¼˜åŒ–")]),s._v(" "),a("ul",[a("li",[s._v("åˆ‡æ¢åŸå¸‚æˆ–ï¼Œè¯¥é¡µé¢æ— æ³•å±•ç¤ºå½“å‰å®šä½åŸå¸‚åç§°å’Œå½“å‰åŸå¸‚æˆ¿æºæ•°æ®ï¼Œåˆ·æ–°é¡µé¢åæ‰ä¼šç”Ÿæ•ˆï¼ˆéœ€è¦è§£å†³ï¼šåˆ‡æ¢åŸå¸‚åç«‹å³ç”Ÿæ•ˆï¼‰\n"),a("ul",[a("li",[s._v("åœ¨ç»„ä»¶çš„ componentDidMountæ„é€ å‡½æ•°ä¸­ï¼Œè¿›è¡Œè·å–å½“å‰å®šä½åŸå¸‚åç§°")])])])]),s._v(" "),a("h3",{attrs:{id:"react-springåŠ¨ç”»åº“-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-springåŠ¨ç”»åº“-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" react-springåŠ¨ç”»åº“ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-15"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("çŸ¥é“react-springç»„ä»¶åº“çš„ä¼˜åŠ¿")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§å®˜æ–¹æ–‡æ¡£ï¼Œä½¿ç”¨react-springè¿›è¡Œç®€å•çš„é€æ˜åº¦å˜åŒ–çš„åŠ¨ç”»")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç°é®ç½©å±‚åŠ¨ç”»æ•ˆæœ")])]),s._v(" "),a("h4",{attrs:{id:"æ¦‚è¿°-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°-3"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åœºæ™¯ï¼šå±•ç¤ºç­›é€‰å¯¹è¯æ¡†çš„æ—¶å€™ï¼Œå®ç°åŠ¨ç”»æ•ˆæœï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ")])]),s._v(" "),a("li",[a("p",[s._v("react-springæ˜¯åŸºäºspring-physicsï¼ˆå¼¹ç°§ç‰©ç†ï¼‰çš„reactåŠ¨ç”»åº“ï¼ŒåŠ¨ç”»æ•ˆæœæ›´åŠ æµç•…ã€è‡ªç„¶")])]),s._v(" "),a("li",[a("p",[s._v("ä¼˜åŠ¿ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å‡ ä¹å¯ä»¥å®ç°ä»»æ„UIåŠ¨ç”»æ•ˆæœ")]),s._v(" "),a("li",[s._v("ç»„ä»¶å¼ä½¿ç”¨æ–¹å¼ï¼ˆrender-propsæ¨¡å¼ï¼‰ï¼Œç®€å•æ˜“ç”¨ï¼Œç¬¦åˆreactçš„å£°æ˜å¼ç‰¹æ€§ï¼Œæ€§èƒ½é«˜")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/react-spring/react-spring",target:"_blank",rel:"noopener noreferrer"}},[s._v("githubåœ°å€"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://www.react-spring.io/docs/props/spring",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1)])])]),s._v(" "),a("h4",{attrs:{id:"åŸºæœ¬ä½¿ç”¨-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬ä½¿ç”¨-2"}},[s._v("#")]),s._v(" åŸºæœ¬ä½¿ç”¨")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£…ï¼š yarn add react-spring")]),s._v(" "),a("li",[s._v("æ‰“å¼€Springç»„ä»¶æ–‡æ¡£")]),s._v(" "),a("li",[s._v("å¯¼å…¥Springæ–‡æ¡£ï¼Œä½¿ç”¨Springç»„ä»¶åŒ…è£¹è¦å®ç°åŠ¨ç”»æ•ˆæœçš„é®ç½©å±‚div")]),s._v(" "),a("li",[s._v("é€šè¿‡render-propsæ¨¡å¼ï¼Œè®²å‚æ•°propsè®¾ç½®ä¸ºé®ç½©å±‚divçš„style")]),s._v(" "),a("li",[s._v("ç»™Springç»„ä»¶æ·»åŠ fromå±æ€§ï¼ŒæŒ‡å®šï¼šç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶çš„åŠ¨ç”»çŠ¶æ€")]),s._v(" "),a("li",[s._v("ç»™Springç»„ä»¶æ·»åŠ toå±æ€§ï¼ŒæŒ‡å®šï¼šç»„ä»¶è¦æ›´æ–°çš„æ–°åŠ¨ç”»çŠ¶æ€")]),s._v(" "),a("li",[s._v("propså°±æ˜¯é€æ˜åº¦æœ‰0~1ä¸­å˜åŒ–çš„å€¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190743765.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-lgEJpUau-1575112006305)(images/spring.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"å®ç°é®ç½©å±‚åŠ¨ç”»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°é®ç½©å±‚åŠ¨ç”»"}},[s._v("#")]),s._v(" å®ç°é®ç½©å±‚åŠ¨ç”»")]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºæ–¹æ³• renderMaskæ¥æ¸²æŸ“é®ç½©å±‚ div")]),s._v(" "),a("li",[s._v("ä¿®æ”¹æ¸²æŸ“é®ç½©å±‚çš„é€»è¾‘ï¼Œä¿è¯Springç»„ä»¶ä¸€ç›´éƒ½è¢«æ¸²æŸ“ï¼ˆSpringç»„ä»¶è¢«é”€æ¯äº†ï¼Œå°±æ— æ³•å®ç°åŠ¨ç”»æ•ˆæœï¼‰")]),s._v(" "),a("li",[s._v("ä¿®æ”¹toå±æ€§çš„å€¼ï¼Œåœ¨é®ç½©å±‚éšè—æ—¶ä¸º0ï¼Œåœ¨é®ç½©å±‚å±•ç¤ºä¸º1")]),s._v(" "),a("li",[s._v("åœ¨render-propsçš„å‡½æ•°å†…éƒ¨ï¼Œåˆ¤æ–­props.opacityæ˜¯å¦ç­‰äº0")]),s._v(" "),a("li",[s._v("å¦‚æœç­‰äº0ï¼Œå°±è¿”å›nullï¼Œè§£å†³é®ç½©å±‚é®æŒ¡é¡µé¢å¯¼è‡´é¡¶éƒ¨ç‚¹å‡»äº‹ä»¶å¤±æ•ˆ")]),s._v(" "),a("li",[s._v("å¦‚æœä¸ç­‰äº0ï¼Œæ¸²æŸ“é®ç½©å±‚div")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("renderMask() {\n    const { openType } = this.state\n\n    const isHide = openType === 'more' || openType === ''\n\n    return (\n      <Spring from={{ opacity: 0 }} to={{ opacity: isHide ? 0 : 1 }}>\n        {props => {\n          // è¯´æ˜é®ç½©å±‚å·²ç»å®ŒæˆåŠ¨ç”»æ•ˆæœï¼Œéšè—äº†\n          if (props.opacity === 0) {\n            return null\n          }\n\n          return (\n            <div\n              style={props}\n              className={styles.mask}\n              onClick={() => this.onCancel(openType)}\n            />\n          )\n        }}\n      </Spring>\n    )\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day09"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day09"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day09")]),s._v(" "),a("p",[s._v("-æˆ¿å±‹è¯¦æƒ…&è·¯ç”±é…ç½®&ç™»å½•åŠŸèƒ½&formikè¡¨å•æ ¡éªŒ")]),s._v(" "),a("h3",{attrs:{id:"æˆ¿å±‹è¯¦æƒ…æ¨¡å—-å‡†å¤‡å·¥ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æˆ¿å±‹è¯¦æƒ…æ¨¡å—-å‡†å¤‡å·¥ä½œ"}},[s._v("#")]),s._v(" æˆ¿å±‹è¯¦æƒ…æ¨¡å—-å‡†å¤‡å·¥ä½œ")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-16"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("çœ‹æ‡‚æ¨¡æ¿HouseDetailçš„ç»“æ„")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè·å–åˆ°æ•°æ®ï¼Œæ¸²æŸ“åˆ°ç»„ä»¶ä¸Š")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿé…ç½®é€šç”¨è·¯ç”±è§„åˆ™ï¼Œå¹¶ä¸”è·å–è·¯ç”±å‚æ•°")])]),s._v(" "),a("h4",{attrs:{id:"æ¨¡æ¿è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡æ¿è¯´æ˜"}},[s._v("#")]),s._v(" æ¨¡æ¿è¯´æ˜")]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºæˆ¿å±‹è¯¦æƒ…é¡µé¢HouseDetail")]),s._v(" "),a("li",[s._v("ä¿®æ”¹NavHeaderç»„ä»¶ï¼ˆæ·»åŠ äº†classNameå’ŒrightContentä¸¤ä¸ªpropsï¼‰")]),s._v(" "),a("li",[s._v("åˆ›å»ºäº†HousePackageç»„ä»¶ï¼ˆæˆ¿å±‹é…å¥—ï¼‰")]),s._v(" "),a("li",[s._v("è¿™äº›æ¨¡æ¿å·²ç»æä¾›å¥½ï¼Œå¯ä»¥ç›´æ¥æ¥ä½¿ç”¨")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ·»åŠ  className å’Œ rightContentï¼ˆå¯¼èˆªæ å³ä¾§å†…å®¹ï¼‰ å±æ€§\nfunction NavHeader({\n  children,\n  history,\n  onLeftClick,\n  className,\n  rightContent\n}) {\n  // é»˜è®¤ç‚¹å‡»è¡Œä¸º\n  const defaultHandler = () => history.go(-1)\n\n  return (\n    <NavBar\n      className={[styles.navBar, className || ''].join(' ')}\n      mode=\"light\"\n      icon={<i className=\"iconfont icon-back\" />}\n      onLeftClick={onLeftClick || defaultHandler}\n      rightContent={rightContent}\n    >\n      {children}\n    </NavBar>\n  )\n}\n\n// æ·»åŠ propsæ ¡éªŒ\nNavHeader.propTypes = {\n  ...\n  rightContent: PropTypes.array\n}\n\n// withRouter(NavHeader) å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶\nexport default withRouter(NavHeader)\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h4",{attrs:{id:"è·¯ç”±å‚æ•°-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±å‚æ•°-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è·¯ç”±å‚æ•°ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("æˆ¿æºæœ‰å¤šä¸ªï¼Œé‚£ä¹ˆURLè·¯å¾„ä¹Ÿå°±æœ‰å¤šä¸ªï¼Œé‚£ä¹ˆéœ€è¦å¤šå°‘ä¸ªè·¯ç”±è§„åˆ™æ¥åŒ¹é…å‘¢ï¼Ÿä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªï¼Ÿ")]),s._v(" "),a("li",[s._v("ä½¿ç”¨ ä¸€ä¸ª è·¯ç”±è§„åˆ™åŒ¹é…ä¸åŒçš„URLè·¯å¾„ï¼ŒåŒæ—¶Iè·å–åˆ°URLä¸­ä¸åŒçš„å†…å®¹ï¼Œåˆ©ç”¨è·¯ç”±å‚æ•°æ¥è§£å†³")]),s._v(" "),a("li",[s._v("è®©ä¸€ä¸ªè·¯ç”±è§„åˆ™ï¼ŒåŒæ—¶åŒ¹é…å¤šä¸ªç¬¦åˆè¯¥è§„åˆ™çš„URLè·¯å¾„")]),s._v(" "),a("li",[s._v("è¯­æ³•ï¼š/detail/:id ï¼Œå…¶ä¸­:id å°±æ˜¯è·¯ç”±å‚æ•°")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190830117.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-h5ZduoEs-1575112083806)(images/è·¯ç”±å‚æ•°.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("è·å–è·¯ç”±å‚æ•°ï¼š props.match.params")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190840914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-DHctc3v2-1575112083807)(images/è·å–è·¯ç”±å‚æ•°.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"å±•ç¤ºæˆ¿å±‹è¯¦æƒ…-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å±•ç¤ºæˆ¿å±‹è¯¦æƒ…-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" å±•ç¤ºæˆ¿å±‹è¯¦æƒ…ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨æ‰¾æˆ¿é¡µé¢ä¸­ï¼Œç»™æ¯ä¸€ä¸ªæˆ¿æºåˆ—è¡¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨ç‚¹å‡»æ—¶è·³è½¬åˆ°æˆ¿å±‹è¯¦æƒ…é¡µé¢")]),s._v(" "),a("li",[s._v("åœ¨å•å‡»äº‹ä»¶ä¸­ï¼Œè·å–åˆ°å½“å‰æˆ¿å±‹id")]),s._v(" "),a("li",[s._v("æ ¹æ®æˆ¿å±‹è¯¦æƒ…çš„è·¯ç”±åœ°å€ï¼Œè°ƒç”¨history.push() å®ç°è·¯ç”±è·³è½¬")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<HouseItem\n  key={key}\n  onClick={() => this.props.history.push(`/detail/${house.houseCode}`)}\n  // æ³¨æ„ï¼šè¯¥ç»„ä»¶ä¸­åº”è¯¥æ¥æ”¶ styleï¼Œç„¶åç»™ç»„ä»¶å…ƒç´ è®¾ç½®æ ·å¼ï¼ï¼ï¼\n  style={style}\n  src={BASE_URL + house.houseImg}\n  title={house.title}\n  desc={house.desc}\n  tags={house.tags}\n  price={house.price}\n/>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("å°è£…getHouseDetailæ–¹æ³•ï¼Œåœ¨componentDidMountä¸­è°ƒç”¨è¯¥æ–¹æ³•")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("componentDidMount() {\n    // è·å–æˆ¿å±‹æ•°æ®\n    this.getHouseDetail()\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨æ–¹æ³•ä¸­ï¼Œé€šè¿‡è·¯ç”±å‚æ•°è·å–åˆ°å½“å‰æˆ¿å±‹id")]),s._v(" "),a("li",[s._v("ä½¿ç”¨APIå‘é€è¯·æ±‚ï¼Œè·å–æˆ¿å±‹æ•°æ®ï¼Œä¿å­˜åˆ°stateä¸­")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getHouseDetail() {\n  const { id } = this.props.match.params\n\n  // å¼€å¯loading\n  this.setState({\n    isLoading: true\n  })\n\n  const res = await API.get(`/houses/${id}`)\n\n  this.setState({\n    houseInfo: res.data.body,\n    isLoading: false\n  })\n\n  const { community, coord } = res.data.body\n\n  // æ¸²æŸ“åœ°å›¾\n  this.renderMap(community, coord)\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("ä½¿ç”¨æˆ¿å±‹æ•°æ®ï¼Œæ¸²æŸ“é¡µé¢")]),s._v(" "),a("ul",[a("li",[s._v("è§£æ„å‡ºéœ€è¦çš„æ•°æ®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const {\n  isLoading,\n  houseInfo: {\n    community,\n    title,\n    price,\n    roomType,\n    size,\n    floor,\n    oriented,\n    supporting,\n    description\n  }\n} = this.state\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("æ¸²æŸ“å°åŒºåç§°")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{/* å¯¼èˆªæ  */}\n<NavHeader\n  className={styles.navHeader}\n  rightContent={[<i key="share" className="iconfont icon-share" />]}\n>\n  {community}\n</NavHeader>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("æ¸²æŸ“è½®æ’­å›¾")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// æ¸²æŸ“è½®æ’­å›¾ç»“æ„\nrenderSwipers() {\n  const {\n    houseInfo: { houseImg }\n  } = this.state\n\n  return houseImg.map(item => (\n    <a key={item} href="http://itcast.cn">\n      <img src={BASE_URL + item} alt="" />\n    </a>\n  ))\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("æ¸²æŸ“æ ‡ç­¾")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ¸²æŸ“æ ‡ç­¾\nrenderTags() {\n  const {\n    houseInfo: { tags }\n  } = this.state\n\n  return tags.map((item, index) => {\n    // å¦‚æœæ ‡ç­¾æ•°é‡è¶…è¿‡3ä¸ªï¼Œåé¢çš„æ ‡ç­¾å°±éƒ½å±•ç¤ºä½ç¬¬ä¸‰ä¸ªæ ‡ç­¾çš„æ ·å¼\n    let tagClass = ''\n    if (index > 2) {\n      tagClass = 'tag3'\n    } else {\n      tagClass = 'tag' + (index + 1)\n    }\n\n    return (\n      <span key={item} className={[styles.tag, styles[tagClass]].join(' ')}>\n        {item}\n      </span>\n    )\n  })\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("æ¸²æŸ“ä»·æ ¼ï¼Œæˆ¿å‹ï¼Œé¢ç§¯ç­‰")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Flex className={styles.infoPrice}>\n  <Flex.Item className={styles.infoPriceItem}>\n    <div>\n      {price}\n      <span className={styles.month}>/æœˆ</span>\n    </div>\n    <div>ç§Ÿé‡‘</div>\n  </Flex.Item>\n  <Flex.Item className={styles.infoPriceItem}>\n    <div>{roomType}</div>\n    <div>æˆ¿å‹</div>\n  </Flex.Item>\n  <Flex.Item className={styles.infoPriceItem}>\n    <div>{size}å¹³ç±³</div>\n    <div>é¢ç§¯</div>\n  </Flex.Item>\n</Flex>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("æ¸²æŸ“è£…ä¿®ï¼Œæ¥¼å±‚ï¼Œæœå‘ç­‰")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Flex className={styles.infoBasic} align=\"start\">\n   <Flex.Item>\n     <div>\n       <span className={styles.title}>è£…ä¿®ï¼š</span>\n       ç²¾è£…\n     </div>\n     <div>\n       <span className={styles.title}>æ¥¼å±‚ï¼š</span>\n       {floor}\n     </div>\n   </Flex.Item>\n   <Flex.Item>\n     <div>\n       <span className={styles.title}>æœå‘ï¼š</span>\n       {oriented.join('ã€')}\n     </div>\n     <div>\n       <span className={styles.title}>ç±»å‹ï¼š</span>æ™®é€šä½å®…\n     </div>\n   </Flex.Item>\n </Flex>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("æ¸²æŸ“åœ°å›¾")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ¸²æŸ“åœ°å›¾\nrenderMap(community, coord) {\n  const { latitude, longitude } = coord\n\n  const map = new BMap.Map('map')\n  const point = new BMap.Point(longitude, latitude)\n  map.centerAndZoom(point, 17)\n\n  const label = new BMap.Label('', {\n    position: point,\n    offset: new BMap.Size(0, -36)\n  })\n\n  label.setStyle(labelStyle)\n  label.setContent(`\n    <span>${community}</span>\n    <div class=\"${styles.mapArrow}\"></div>\n  `)\n  map.addOverlay(label)\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("æ¸²æŸ“æˆ¿å±‹é…å¥—")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" {/* æˆ¿å±‹é…å¥— */}\n <div className={styles.about}>\n   <div className={styles.houseTitle}>æˆ¿å±‹é…å¥—</div>\n   {/* åˆ¤æ–­æ˜¯å¦æœ‰æ•°æ® */}\n   {supporting.length === 0 ? (\n     <div className={styles.titleEmpty}>æš‚æ— æ•°æ®</div>\n   ) : (\n     <HousePackage list={supporting} />\n   )}\n </div>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("æ¸²æŸ“æˆ¿å±‹æ¦‚å†µ")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div className={styles.set}>\n  <div className={styles.houseTitle}>æˆ¿æºæ¦‚å†µ</div>\n  <div>\n    <div className={styles.contact}>\n      <div className={styles.user}>\n        <img src={BASE_URL + '/img/avatar.png'} alt=\"å¤´åƒ\" />\n        <div className={styles.useInfo}>\n          <div>ç‹å¥³å£«</div>\n          <div className={styles.userAuth}>\n            <i className=\"iconfont icon-auth\" />\n            å·²è®¤è¯æˆ¿ä¸»\n          </div>\n        </div>\n      </div>\n      <span className={styles.userMsg}>å‘æ¶ˆæ¯</span>\n    </div>\n\n    <div className={styles.descText}>\n      {description || 'æš‚æ— æˆ¿å±‹æè¿°'}\n    </div>\n  </div>\n</div>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("æ¸²æŸ“æ¨èï¼Œå¯ä»¥å¤ç”¨ HouseItemç»„ä»¶")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div className={styles.recommend}>\n  <div className={styles.houseTitle}>çŒœä½ å–œæ¬¢</div>\n  <div className={styles.items}>\n    {recommendHouses.map(item => (\n      <HouseItem {...item} key={item.id} />\n    ))}\n  </div>\n</div>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸­-å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸­-å°ç»“"}},[s._v("#")]),s._v(" å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨Webï¼ˆä¸­ï¼‰å°ç»“")]),s._v(" "),a("ul",[a("li",[s._v("åœ°å›¾æ‰¾æˆ¿æ¨¡å—ï¼šç™¾åº¦åœ°å›¾APIï¼Œåœ°å›¾è¦†ç›–ç‰©ï¼ŒCSS Modulesè§£å†³æ ·å¼è¦†ç›–é—®é¢˜ï¼Œè„šæ‰‹æ¶ç¯å¢ƒå˜é‡ï¼Œaxioså…¬å…±URLé…ç½®")]),s._v(" "),a("li",[s._v("åˆ—è¡¨æ‰¾æˆ¿æ¨¡å—ï¼šæ¡ä»¶ç­›é€‰ç»„ä»¶å°è£…ï¼ˆå˜åŒ–ç‚¹ï¼‰ï¼Œæˆ¿æºåˆ—è¡¨ï¼Œreact-virtualizedï¼ˆInfiniteLoaderï¼ŒWindowScrollerï¼‰ï¼Œreact-springåŠ¨ç”»åº“")]),s._v(" "),a("li",[s._v("æˆ¿å±‹è¯¦æƒ…æ¨¡å—ï¼šè·¯ç”±å‚æ•°ï¼ˆ/:id å’Œ props.match.paramsï¼‰ï¼Œå±•ç¤ºæˆ¿å±‹è¯¦æƒ…")])]),s._v(" "),a("h3",{attrs:{id:"ç™»å½•æ¨¡å—-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç™»å½•æ¨¡å—-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ç™»å½•æ¨¡å—ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-17"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿçœ‹æ‡‚ç™»å½•é¡µé¢çš„æ¨¡æ¿ç»“æ„(/Login/index.js)")]),s._v(" "),a("li",[s._v("èƒ½å¤ŸæŠŠæ–‡æœ¬æ¡†å’Œå¯†ç æ¡†è®¾ç½®ä¸ºå—æ§ç»„ä»¶")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿç»™formè¡¨å•ç»‘å®šonSubmitäº‹ä»¶ï¼Œå–æ¶ˆé»˜è®¤è¡Œä¸º")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè·å–ç”¨æˆ·åå’Œå¯†ç è¯·æ±‚æœåŠ¡å™¨ï¼Œä¿å­˜token")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºtokençš„ä½œç”¨")])]),s._v(" "),a("h4",{attrs:{id:"åŠŸèƒ½åˆ†æ-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ-4"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("ç”¨æˆ·ç™»å½•")]),s._v(" "),a("li",[s._v("æˆ‘çš„é¡µé¢")]),s._v(" "),a("li",[s._v("å°è£…è·¯ç”±è®¿é—®æ§åˆ¶ç»„ä»¶")])]),s._v(" "),a("h4",{attrs:{id:"ç”¨æˆ·ç™»å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æˆ·ç™»å½•"}},[s._v("#")]),s._v(" ç”¨æˆ·ç™»å½•")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/2019113019091325.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-F6Kke93L-1575112083810)(images/ç™»å½•é¡µé¢.jpg)]"}})]),s._v(" "),a("p",[s._v("å¯¹åº”ç»“æ„:")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<div className={styles.root}>\n  {/* é¡¶éƒ¨å¯¼èˆª */}\n  <NavHeader className={styles.navHeader}>è´¦å·ç™»å½•</NavHeader>\n  <WhiteSpace size="xl" />\n\n  {/* ç™»å½•è¡¨å• */}\n  <WingBlank>\n    <form>\n      <div className={styles.formItem}>\n        <input\n          className={styles.input}\n          name="username"\n          placeholder="è¯·è¾“å…¥è´¦å·"\n        />\n      </div>\n      {/* é•¿åº¦ä¸º5åˆ°8ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ */}\n      {/* <div className={styles.error}>è´¦å·ä¸ºå¿…å¡«é¡¹</div> */}\n      <div className={styles.formItem}>\n        <input\n          className={styles.input}\n          name="password"\n          type="password"\n          placeholder="è¯·è¾“å…¥å¯†ç "\n        />\n      </div>\n      {/* é•¿åº¦ä¸º5åˆ°12ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ */}\n      {/* <div className={styles.error}>è´¦å·ä¸ºå¿…å¡«é¡¹</div> */}\n      <div className={styles.formSubmit}>\n        <button className={styles.submit} type="submit">\n          ç™» å½•\n        </button>\n      </div>\n    </form>\n    <Flex className={styles.backHome}>\n      <Flex.Item>\n        <Link to="/registe">è¿˜æ²¡æœ‰è´¦å·ï¼Œå»æ³¨å†Œ~</Link>\n      </Flex.Item>\n    </Flex>\n  </WingBlank>\n</div>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("p",[s._v("åŠŸèƒ½å®ç°ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ·»åŠ çŠ¶æ€ï¼šusernameå’Œpassword")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  state = {\n    username: '',\n    password: ''\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("ä½¿ç”¨å—æ§ç»„ä»¶æ–¹å¼è·å–è¡¨å•å…ƒç´ å€¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('getUserName = e => {\n  this.setState({\n    username: e.target.value\n  })\n}\n\ngetPassword = e => {\n  this.setState({\n    password: e.target.value\n  })\n}\nrender() {\n    const { username, password } = this.state\n\n    return (\n      <div className={styles.root}>\n        ...\n\n        {/* ç™»å½•è¡¨å• */}\n        <WingBlank>\n          <form onSubmit={this.handleSubmit}>\n            <div className={styles.formItem}>\n              <input\n                className={styles.input}\n                value={username}\n                onChange={this.getUserName}\n                name="username"\n                placeholder="è¯·è¾“å…¥è´¦å·"\n              />\n            </div>\n            {/* é•¿åº¦ä¸º5åˆ°8ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ */}\n            {/* <div className={styles.error}>è´¦å·ä¸ºå¿…å¡«é¡¹</div> */}\n            <div className={styles.formItem}>\n              <input\n                className={styles.input}\n                value={password}\n                onChange={this.getPassword}\n                name="password"\n                type="password"\n                placeholder="è¯·è¾“å…¥å¯†ç "\n              />\n            </div>\n            ...\n      </div>\n    )\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br")])]),a("ul",[a("li",[s._v("ç»™formè¡¨å•æ·»åŠ  onSubmit")]),s._v(" "),a("li",[s._v("åˆ›å»ºæ–¹æ³• handleSubmitï¼Œå®ç°è¡¨å•æäº¤")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// è¡¨å•æäº¤äº‹ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åº\nhandleSubmit = async e => {\n  // é˜»æ­¢è¡¨å•æäº¤æ—¶çš„é»˜è®¤è¡Œä¸º\n  e.preventDefault()\n  ...\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨æ–¹æ³•ä¸­ï¼Œé€šè¿‡usernameå’Œpasswordè·å–åˆ°è´¦å·å’Œå¯†ç ")]),s._v(" "),a("li",[s._v("ä½¿ç”¨APIè°ƒç”¨ç™»å½•æ¥å£ï¼Œå°†usernameå’Œpasswordä½œä¸ºå‚æ•°")]),s._v(" "),a("li",[s._v("åˆ¤æ–­è¿”å›å€¼statusä¸º200æ—¶å€™ï¼Œè¡¨ç¤ºç™»å½•æˆåŠŸ")]),s._v(" "),a("li",[s._v("ç™»å½•æˆåŠŸåï¼Œå°†tokenä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ä¸­ï¼ˆhkzf_tokenï¼‰")]),s._v(" "),a("li",[s._v("è¿”å›ç™»å½•å‰çš„é¡µé¢")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// è¡¨å•æäº¤äº‹ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åº\nhandleSubmit = async e => {\n  // é˜»æ­¢è¡¨å•æäº¤æ—¶çš„é»˜è®¤è¡Œä¸º\n  e.preventDefault()\n\n  // è·å–è´¦å·å’Œå¯†ç \n  const { username, password } = this.state\n\n  // console.log('è¡¨å•æäº¤äº†', username, password)\n  // å‘é€è¯·æ±‚\n  const res = await API.post('/user/login', {\n    username,\n    password\n  })\n\n  console.log('ç™»å½•ç»“æœï¼š', res)\n  const { status, body, description } = res.data\n\n  if (status === 200) {\n    // ç™»å½•æˆåŠŸ\n    localStorage.setItem('hkzf_token', body.token)\n    this.props.history.go(-1)\n  } else {\n    // ç™»å½•å¤±è´¥\n    Toast.info(description, 2, null, false)\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("h3",{attrs:{id:"è¡¨å•éªŒè¯è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¡¨å•éªŒè¯è¯´æ˜"}},[s._v("#")]),s._v(" è¡¨å•éªŒè¯è¯´æ˜")]),s._v(" "),a("ul",[a("li",[s._v("è¡¨å•æäº¤å‰ï¼Œéœ€è¦å…ˆè¿›æ€§è¡¨å•éªŒè¯ï¼ŒéªŒè¯é€šè¿‡åå†æäº¤è¡¨å•")]),s._v(" "),a("li",[s._v("æ–¹å¼ä¸€ï¼šantd-mobile ç»„ä»¶åº“çš„æ–¹å¼ï¼ˆéœ€è¦InputItemæ–‡æœ¬è¾“å…¥ç»„ä»¶ï¼‰")]),s._v(" "),a("li",[s._v("æ¨èï¼šä½¿ç”¨æ›´é€šç”¨çš„ formikï¼ŒReactä¸­ä¸“é—¨ç”¨æ¥è¿›è¡Œè¡¨å•å¤„ç†å’Œè¡¨å•æ ¡éªŒçš„åº“")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190934914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-gGb3kQJK-1575112083814)(images/è¡¨å•éªŒè¯.png)]"}})]),s._v(" "),a("h3",{attrs:{id:"formik"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#formik"}},[s._v("#")]),s._v(" formik")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-18"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("çŸ¥é“formikçš„ä½œç”¨")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§æ–‡æ¡£æ¥å®ç°ç®€å•çš„è¡¨å•æ ¡éªŒ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿç»™ç™»å½•åŠŸèƒ½æ·»åŠ è¡¨å•æ ¡éªŒ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿä½¿ç”¨formikä¸­æä¾›çš„ç»„ä»¶ï¼šForm, Field, ErrorMessageï¼Œæ¥å¯¹ç™»å½•æ¨¡å—è¿›è¡Œä¼˜åŒ–")])]),s._v(" "),a("h4",{attrs:{id:"ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»"}},[s._v("#")]),s._v(" ä»‹ç»")]),s._v(" "),a("ul",[a("li",[s._v("Githubåœ°å€ï¼šformikæ–‡æ¡£")]),s._v(" "),a("li",[s._v("åœºæ™¯ï¼šè¡¨å•å¤„ç†ï¼Œè¡¨å•éªŒè¯")]),s._v(" "),a("li",[s._v("ä¼˜åŠ¿ï¼šè½»æ¾å¤„ç†Reactä¸­çš„å¤æ‚è¡¨å•ï¼ŒåŒ…æ‹¬ï¼šè·å–è¡¨å•å…ƒç´ çš„å€¼ï¼Œè¡¨å•éªŒè¯å’Œé”™è¯¯ä¿¡æ¯ï¼Œå¤„ç†è¡¨å•æäº¤ï¼Œå¹¶ä¸”å°†è¿™äº›å†…å®¹æ”¾åœ¨ä¸€èµ·ç»Ÿä¸€å¤„ç†ï¼Œæœ‰åˆ©äºä»£ç é˜…è¯»ï¼Œé‡æ„ï¼Œæµ‹è¯•ç­‰")]),s._v(" "),a("li",[s._v("ä½¿ç”¨ä¸¤ç§æ–¹å¼ï¼š1. é«˜é˜¶ç»„ä»¶ï¼ˆwithFormikï¼‰ 2. render-propsï¼ˆ<Formik render={() => {}} />ï¼‰")])]),s._v(" "),a("h3",{attrs:{id:"formikæ¥å®ç°è¡¨å•æ ¡éªŒ-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#formikæ¥å®ç°è¡¨å•æ ¡éªŒ-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" formikæ¥å®ç°è¡¨å•æ ¡éªŒï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"é‡æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„"}},[s._v("#")]),s._v(" é‡æ„")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£…ï¼š yarn add formik")]),s._v(" "),a("li",[s._v("å¯¼å…¥ withFormikï¼Œä½¿ç”¨withFormit é«˜é˜¶ç»„ä»¶åŒ…è£¹Loginç»„ä»¶")]),s._v(" "),a("li",[s._v("ä¸ºwithFormitæä¾›é…ç½®å¯¹è±¡ï¼š mapPropsToValues / handleSubmit")]),s._v(" "),a("li",[s._v("åœ¨Loginç»„ä»¶ä¸­ï¼Œé€šè¿‡propsè·å–åˆ°valuesï¼ˆè¡¨å•å…ƒç´ å€¼å¯¹è±¡ï¼‰ï¼ŒhandleSubmitï¼ŒhandleChange")]),s._v(" "),a("li",[s._v("ä½¿ç”¨valuesæä¾›çš„å€¼ï¼Œè®¾ç½®ä¸ºè¡¨å•å…ƒç´ çš„valueï¼Œä½¿ç”¨handleChangeè®¾ç½®ä¸ºè¡¨å•å…ƒç´ çš„onChange")]),s._v(" "),a("li",[s._v("ä½¿ç”¨handleSubmitè®¾ç½®ä¸ºè¡¨å•çš„onSubmit")]),s._v(" "),a("li",[s._v("åœ¨handleSubmitä¸­ï¼Œé€šè¿‡valuesè·å–åˆ°è¡¨å•å…ƒç´ å€¼")]),s._v(" "),a("li",[s._v("åœ¨handleSubmitä¸­ï¼Œå®Œæˆç™»å½•é€»è¾‘")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130190953938.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-O7eld3iA-1575112083815)(images/formitç»„ä»¶ä½¿ç”¨.png)]"}})]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// Loginç»„ä»¶ä¸­\nrender() {\n  // const { username, password } = this.state\n\n  // é€šè¿‡ props è·å–é«˜é˜¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„å±æ€§\n  const { values, handleSubmit, handleChange } = this.props\n\n  return (\n    <div className={styles.root}>\n      {/* é¡¶éƒ¨å¯¼èˆª */}\n      <NavHeader className={styles.navHeader}>è´¦å·ç™»å½•</NavHeader>\n      <WhiteSpace size="xl" />\n\n      {/* ç™»å½•è¡¨å• */}\n      <WingBlank>\n        <form onSubmit={handleSubmit}>\n          <div className={styles.formItem}>\n            <input\n              className={styles.input}\n              value={values.username}\n              onChange={handleChange}\n              name="username"\n              placeholder="è¯·è¾“å…¥è´¦å·"\n            />\n          </div>\n          {/* é•¿åº¦ä¸º5åˆ°8ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ */}\n          {/* <div className={styles.error}>è´¦å·ä¸ºå¿…å¡«é¡¹</div> */}\n          <div className={styles.formItem}>\n            <input\n              className={styles.input}\n              value={values.password}\n              onChange={handleChange}\n              name="password"\n              type="password"\n              placeholder="è¯·è¾“å…¥å¯†ç "\n            />\n          </div>\n          {/* é•¿åº¦ä¸º5åˆ°12ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ */}\n          {/* <div className={styles.error}>è´¦å·ä¸ºå¿…å¡«é¡¹</div> */}\n          <div className={styles.formSubmit}>\n            <button className={styles.submit} type="submit">\n              ç™» å½•\n            </button>\n          </div>\n        </form>\n        <Flex className={styles.backHome}>\n          <Flex.Item>\n            <Link to="/registe">è¿˜æ²¡æœ‰è´¦å·ï¼Œå»æ³¨å†Œ~</Link>\n          </Flex.Item>\n        </Flex>\n      </WingBlank>\n    </div>\n  )\n}\n\n// ä½¿ç”¨ withFormik é«˜é˜¶ç»„ä»¶åŒ…è£… Login ç»„ä»¶ï¼Œä¸º Login ç»„ä»¶æä¾›å±æ€§å’Œæ–¹æ³•\nLogin = withFormik({\n  // æä¾›çŠ¶æ€ï¼š\n  mapPropsToValues: () => ({ username: \'\', password: \'\' }),\n  // è¡¨å•çš„æäº¤äº‹ä»¶\n  handleSubmit: async (values, { props }) => {\n    // è·å–è´¦å·å’Œå¯†ç \n    const { username, password } = values\n\n    // å‘é€è¯·æ±‚\n    const res = await API.post(\'/user/login\', {\n      username,\n      password\n    })\n\n    console.log(\'ç™»å½•ç»“æœï¼š\', res)\n    const { status, body, description } = res.data\n\n    if (status === 200) {\n      // ç™»å½•æˆåŠŸ\n      localStorage.setItem(\'hkzf_token\', body.token)\n\n      // æ³¨æ„ï¼šæ— æ³•åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œé€šè¿‡ this æ¥è·å–åˆ°è·¯ç”±ä¿¡æ¯\n      // æ‰€ä»¥ï¼Œéœ€è¦é€šè¿‡ ç¬¬äºŒä¸ªå¯¹è±¡å‚æ•°ä¸­è·å–åˆ° props æ¥ä½¿ç”¨ props\n      props.history.go(-1)\n    } else {\n      // ç™»å½•å¤±è´¥\n      Toast.info(description, 2, null, false)\n    }\n  }\n})(Login)\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br")])]),a("h4",{attrs:{id:"ä¸¤ç§è¡¨å•éªŒè¯æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤ç§è¡¨å•éªŒè¯æ–¹å¼"}},[s._v("#")]),s._v(" ä¸¤ç§è¡¨å•éªŒè¯æ–¹å¼")]),s._v(" "),a("p",[s._v("ä¸¤ç§æ–¹å¼")]),s._v(" "),a("ul",[a("li",[s._v("é€šè¿‡validate é…ç½®æ‰‹åŠ¨æ ¡éªŒ")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191019928.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Cpdbd8f2-1575112083817)(images/validate.png)]"}})]),s._v(" "),a("p",[s._v("é€šè¿‡ validationSchema é…ç½®é¡¹é…åˆYupæ¥æ ¡éªŒ")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191033249.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-nWKqpJwp-1575112083818)(images/validationSchema.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("æ¨èï¼š validationSchemaé…åˆYupçš„æ–¹å¼è¿›è¡Œè¡¨å•æ ¡éªŒ")])]),s._v(" "),a("h4",{attrs:{id:"ç»™ç™»å½•åŠŸèƒ½æ·»åŠ è¡¨å•éªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»™ç™»å½•åŠŸèƒ½æ·»åŠ è¡¨å•éªŒè¯"}},[s._v("#")]),s._v(" ç»™ç™»å½•åŠŸèƒ½æ·»åŠ è¡¨å•éªŒè¯")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£…ï¼š yarn add yup ï¼ˆ"),a("a",{attrs:{href:"https://github.com/jquense/yup",target:"_blank",rel:"noopener noreferrer"}},[s._v("Yup æ–‡æ¡£"),a("OutboundLink")],1),s._v("ï¼‰ï¼Œå¯¼å…¥Yup")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// å¯¼å…¥Yup\nimport * as Yup from 'yup'\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨ withFormik ä¸­æ·»åŠ é…ç½®é¡¹ validationSchemaï¼Œä½¿ç”¨ Yup æ·»åŠ è¡¨å•æ ¡éªŒè§„åˆ™")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191050562.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-kv5wGwE4-1575112083819)(images/è¡¨å•æ ¡éªŒè§„åˆ™.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("åœ¨ Login ç»„ä»¶ä¸­ï¼Œé€šè¿‡ props è·å–åˆ° errorsï¼ˆé”™è¯¯ä¿¡æ¯ï¼‰å’Œ touchedï¼ˆæ˜¯å¦è®¿é—®è¿‡ï¼Œæ³¨æ„ï¼šéœ€è¦ç»™è¡¨å•å…ƒç´ æ·»åŠ  handleBlur å¤„ç†å¤±ç„¦ç‚¹äº‹ä»¶æ‰ç”Ÿæ•ˆï¼ï¼‰")]),s._v(" "),a("li",[s._v("åœ¨è¡¨å•å…ƒç´ ä¸­é€šè¿‡è¿™ä¸¤ä¸ªå¯¹è±¡å±•ç¤ºè¡¨å•æ ¡éªŒé”™è¯¯ä¿¡")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191106724.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-sDCiUDgD-1575112083821)(images/è¡¨å•æ ¡éªŒ-é”™è¯¯.png)]"}})]),s._v(" "),a("p",[s._v("ç¤ºä¾‹ä»£ç ï¼š")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// ä½¿ç”¨ withFormik é«˜é˜¶ç»„ä»¶åŒ…è£… Login ç»„ä»¶ï¼Œä¸º Login ç»„ä»¶æä¾›å±æ€§å’Œæ–¹æ³•\nLogin = withFormik({\n  ...\n  // æ·»åŠ è¡¨å•æ ¡éªŒè§„åˆ™\n  validationSchema: Yup.object().shape({\n    username: Yup.string()\n      .required('è´¦å·ä¸ºå¿…å¡«é¡¹')\n      .matches(REG_UNAME, 'é•¿åº¦ä¸º5åˆ°8ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿'),\n    password: Yup.string()\n      .required('å¯†ç ä¸ºå¿…å¡«é¡¹')\n      .matches(REG_PWD, 'é•¿åº¦ä¸º5åˆ°12ä½ï¼Œåªèƒ½å‡ºç°æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿')\n  }),\n  ...\n})(Login)\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("åœ¨ç»“æ„ä¸­éœ€è¦æ¸²æŸ“é”™è¯¯ä¿¡æ¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{/* ç™»å½•è¡¨å• */}\n<WingBlank>\n  <form onSubmit={handleSubmit}>\n    ...  ç”¨æˆ·åçš„é”™è¯¯æç¤º\n    {errors.username && touched.username && (\n      <div className={styles.error}>{errors.username}</div>\n    )}\n    ... å¯†ç æ¡†çš„é”™è¯¯æç¤º\n    {errors.password && touched.password && (\n      <div className={styles.error}>{errors.password}</div>\n    )}\n    ...\n</WingBlank>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"ç®€å•å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®€å•å¤„ç†"}},[s._v("#")]),s._v(" ç®€å•å¤„ç†")]),s._v(" "),a("ul",[a("li",[s._v("å¯¼å…¥ Formç»„ä»¶ï¼Œæ›¿æ¢formå…ƒç´ ï¼Œå»æ‰onSubmit")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191121473.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-BhWrDyQZ-1575112083822)(images/formç»„ä»¶.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("å¯¼å…¥Fieldç»„ä»¶ï¼Œæ›¿æ¢inputè¡¨å•å…ƒç´ ï¼Œå»æ‰onChangeï¼ŒonBlurï¼Œvalue")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191141556.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-KZpJpist-1575112083823)(images/field.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("å¯¼å…¥ ErrorMessage ç»„ä»¶ï¼Œæ›¿æ¢åŸæ¥çš„é”™è¯¯æ¶ˆæ¯é€»è¾‘ä»£ç ")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191151604.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-5pOIR3IO-1575112083824)(images/ErrorMessage.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("å»æ‰æ‰€æœ‰ props")])]),s._v(" "),a("p",[s._v("ç¤ºä¾‹ä»£ç ï¼š")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// å¯¼å…¥withFormik\nimport { withFormik, Form, Field, ErrorMessage } from \'formik\'\n\n<Form>\n  {/* è´¦å· */}\n  <div className={styles.formItem}>\n    <Field\n      className={styles.input}\n      name="username"\n      placeholder="è¯·è¾“å…¥è´¦å·"\n    />\n  </div>\n  <ErrorMessage\n    className={styles.error}\n    name="username"\n    component="div"\n  />\n  {/* å¯†ç  */}\n  <div className={styles.formItem}>\n    <Field\n      className={styles.input}\n      name="password"\n      type="password"\n      placeholder="è¯·è¾“å…¥å¯†ç "\n    />\n  </div>\n  <ErrorMessage\n    className={styles.error}\n    name="password"\n    component="div"\n  />\n  <div className={styles.formSubmit}>\n    <button className={styles.submit} type="submit">\n      ç™» å½•\n    </button>\n  </div>\n</Form>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day10"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day10")]),s._v(" "),a("p",[s._v("-æ£€æµ‹æ˜¯å¦ç™»&é€€å‡º&axiosæ‹¦æˆªå™¨&é‰´æƒè·¯ç”±&æ”¶è—æ¨¡å—")]),s._v(" "),a("h3",{attrs:{id:"æˆ‘çš„é¡µé¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘çš„é¡µé¢"}},[s._v("#")]),s._v(" æˆ‘çš„é¡µé¢")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-19"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("æˆ‘çš„é¡µé¢èƒ½å¤Ÿå®ç°åˆ¤æ–­ç”¨æˆ·ç™»å½•çŠ¶æ€æ¥æ˜¾ç¤ºä¸åŒçš„æ•ˆæœ")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç°é€€å‡ºç™»å½•åŠŸèƒ½")])]),s._v(" "),a("h4",{attrs:{id:"ç»“æ„å’Œæ ·å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“æ„å’Œæ ·å¼"}},[s._v("#")]),s._v(" ç»“æ„å’Œæ ·å¼")]),s._v(" "),a("ul",[a("li",[s._v("å¯¹åº”çš„ç»“æ„æ ·å¼å¯ä»¥ç›´æ¥æ‹¿è¿‡æ¥ç”¨ï¼Œæˆ‘ä»¬æœ€ä¸»è¦è¦å®ç°é‡Œé¢çš„ä»£ç é€»è¾‘ï¼Œæ–‡ä»¶åœ¨ pages/Profile/index")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('render() {\n    return (\n      <div className={styles.root}>\n        {/* ä¸ªäººä¿¡æ¯ */}\n        <div className={styles.title}>\n          <img\n            className={styles.bg}\n            src={BASE_URL + \'/img/profile/bg.png\'}\n            alt="èƒŒæ™¯å›¾"\n          />\n          <div className={styles.info}>\n            <div className={styles.myIcon}>\n              <img\n                className={styles.avatar}\n                src={avatar || DEFAULT_AVATAR}\n                alt="icon"\n              />\n            </div>\n            <div className={styles.user}>\n              <div className={styles.name}>{nickname || \'æ¸¸å®¢\'}</div>\n              {/* ç™»å½•åå±•ç¤ºï¼š */}\n              {isLogin ? (\n                <>\n                  <div className={styles.auth}>\n                    <span onClick={this.logout}>é€€å‡º</span>\n                  </div>\n                  <div className={styles.edit}>\n                    ç¼–è¾‘ä¸ªäººèµ„æ–™\n                    <span className={styles.arrow}>\n                      <i className="iconfont icon-arrow" />\n                    </span>\n                  </div>\n                </>\n              ) : (\n                <div className={styles.edit}>\n                  <Button\n                    type="primary"\n                    size="small"\n                    inline\n                    onClick={() => history.push(\'/login\')}\n                  >\n                    å»ç™»å½•\n                  </Button>\n                </div>\n              )}\n              {/* æœªç™»å½•å±•ç¤ºï¼š */}\n            </div>\n          </div>\n        </div>\n        {/* ä¹å®«æ ¼èœå• */}\n        <Grid\n          data={menus}\n          // åˆ—æ•°\n          columnNum={3}\n          // ä¸éœ€è¦åˆ†å‰²çº¿\n          hasLine={false}\n          // æ¸²æŸ“æ¯ä¸€é¡¹\n          renderItem={item =>\n            item.to ? (\n              <Link to={item.to}>\n                <div className={styles.menuItem}>\n                  <i className={`iconfont ${item.iconfont}`} />\n                  <span>{item.name}</span>\n                </div>\n              </Link>\n            ) : (\n              <div className={styles.menuItem}>\n                <i className={`iconfont ${item.iconfont}`} />\n                <span>{item.name}</span>\n              </div>\n            )\n          }\n        />\n        {/* åŠ å…¥æˆ‘ä»¬ */}\n        <div className={styles.ad}>\n          <img src={BASE_URL + \'/img/profile/join.png\'} alt="" />\n        </div>\n      </div>\n    )\n  }\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br")])]),a("h4",{attrs:{id:"åŠŸèƒ½åˆ†æ-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ-5"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("åˆ¤æ–­æ˜¯å¦ç™»å½•ï¼ˆæœ¬åœ°ç¼“å­˜ä¸­æ˜¯å¦æœ‰tokenä¿¡æ¯ï¼Œç›´æ¥è°ƒç”¨isAuth() æ–¹æ³•å³å¯ï¼Œè¿™é‡Œåœ¨utils/auth.jsæ–‡ä»¶ä¸­å·²ç»å°è£…å¥½äº†ï¼‰")]),s._v(" "),a("li",[s._v("å¦‚æœç™»å½•äº†ï¼Œå°±å‘é€è¯·æ±‚è·å–ä¸ªäººèµ„æ–™ï¼Œå¹¶ä¸”åœ¨é¡µé¢ä¸­å±•ç¤ºä¸ªäººèµ„æ–™")]),s._v(" "),a("li",[s._v("å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™ä¸è·å–ä¸ªäººèµ„æ–™ï¼Œåªåœ¨é¡µé¢ä¸­å±•ç¤ºæœªç™»å½•ä¿¡æ¯")]),s._v(" "),a("li",[s._v("åœ¨é¡µé¢ä¸­å±•ç¤ºç™»å½•æˆ–æœªç™»å½•ä¿¡æ¯ï¼Œå°±è¦é€šè¿‡stateå˜åŒ–æ¥ä½“ç°ï¼Œå› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªæ ‡ç¤ºæ˜¯å¦ç™»å½•çš„çŠ¶æ€")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191538974.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-eoLDgk6k-1575112340073)(images/æˆ‘çš„é¡µé¢åŠŸèƒ½åˆ†æ.png)]"}})]),s._v(" "),a("h3",{attrs:{id:"åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†æ­¥éª¤-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†æ­¥éª¤-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†æ­¥éª¤ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨stateä¸­æ·»åŠ ä¸¤ä¸ªçŠ¶æ€ï¼šisLoginï¼ˆæ˜¯å¦ç™»å½•ï¼‰å’ŒuserInfoï¼ˆç”¨æˆ·ä¿¡æ¯ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  state = {\n    // æ˜¯å¦ç™»å½•\n    isLogin: isAuth(),\n    // ç”¨æˆ·ä¿¡æ¯\n    userInfo: {\n      avatar: '',\n      nickname: ''\n    }\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("ä»utilsä¸­å¯¼å…¥isAuthï¼ˆç™»å½•çŠ¶æ€ï¼‰ã€getTokenï¼ˆè·å–tokenï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { BASE_URL, isAuth, getToken, API } from '../../utils'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»ºæ–¹æ³•getUserInfoï¼Œç”¨æˆ·æ¥è·å–ä¸ªäººèµ„æ–™")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getUserInfo() {\n    ...\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨æ–¹æ³•ä¸­ï¼Œé€šè¿‡isLoginåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if (!this.state.isLogin) {\n    // æœªç™»å½•\n    return\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™ä¸å‘é€è¯·æ±‚ï¼Œæ¸²æŸ“æœªç™»å½•ä¿¡æ¯")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// å¯¹ç”¨ç»“æ„ä½¿ç”¨çŠ¶æ€æ¥åˆ¤æ–­æ˜¾ç¤ºç™»å½•è¿˜æ˜¯æœªç™»å½•UI\n {/* ç™»å½•åå±•ç¤ºï¼š */}\n{isLogin ? (\n  <>\n    <div className={styles.auth}>\n      <span onClick={this.logout}>é€€å‡º</span>\n    </div>\n    <div className={styles.edit}>\n      ç¼–è¾‘ä¸ªäººèµ„æ–™\n      <span className={styles.arrow}>\n        <i className="iconfont icon-arrow" />\n      </span>\n    </div>\n  </>\n) : (\n  <div className={styles.edit}>\n    <Button\n      type="primary"\n      size="small"\n      inline\n      onClick={() => history.push(\'/login\')}\n    >\n      å»ç™»å½•\n    </Button>\n  </div>\n)}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("ul",[a("li",[s._v("å¦‚æœå·²ç™»å½•ï¼Œå°±æ ¹æ®æ¥å£å‘é€è¯·æ±‚ï¼Œè·å–ç”¨æˆ·ä¸ªäººèµ„æ–™")]),s._v(" "),a("li",[s._v("æ¸²æŸ“ä¸ªäººèµ„æ–™æ•°æ®")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async getUserInfo() {\n  if (!this.state.isLogin) {\n    // æœªç™»å½•\n    return\n  }\n\n  // å‘é€è¯·æ±‚ï¼Œè·å–ä¸ªäººèµ„æ–™\n  const res = await API.get('/user', {\n    headers: {\n      authorization: getToken()\n    }\n  })\n\n  if (res.data.status === 200) {\n    // è¯·æ±‚æˆåŠŸ\n    const { avatar, nickname } = res.data.body\n    this.setState({\n      userInfo: {\n        avatar: BASE_URL + avatar,\n        nickname\n      }\n    })\n  }\n}\n\n\n// renderæ–¹æ³•ä¸­ \nrender(){\n    const { history } = this.props\n\n    const {\n      isLogin,\n      userInfo: { avatar, nickname }\n    } = this.state\n    return (\n      <div className={styles.root}>\n        {/* ä¸ªäººä¿¡æ¯ */}\n        <div className={styles.title}>\n          <img\n            className={styles.bg}\n            src={BASE_URL + '/img/profile/bg.png'}\n            alt=\"èƒŒæ™¯å›¾\"\n          />\n          <div className={styles.info}>\n            <div className={styles.myIcon}>\n              <img\n                className={styles.avatar}\n                src={avatar || DEFAULT_AVATAR}\n                alt=\"icon\"\n              />\n            </div>\n            <div className={styles.user}>\n              <div className={styles.name}>{nickname || 'æ¸¸å®¢'}</div>\n              ...\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br")])]),a("h3",{attrs:{id:"é€€å‡ºåŠŸèƒ½-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€€å‡ºåŠŸèƒ½-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é€€å‡ºåŠŸèƒ½ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("ç‚¹å‡»é€€å‡ºæŒ‰é’®ï¼Œå¼¹å‡ºå¯¹è¯æ¡†ï¼Œæç¤ºæ˜¯å¦ç¡®å®šé€€å‡º")]),s._v(" "),a("li",[s._v("ç»™é€€å‡ºæŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œåˆ›å»ºæ–¹æ³•logoutä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°")]),s._v(" "),a("li",[s._v("å¯¼å…¥Modalå¯¹è¯æ¡†ç»„ä»¶ï¼ˆå¼¹å‡ºæ¨¡æ€æ¡†ï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import {..., Modal } from 'antd-mobile'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨æ–¹æ³•ä¸­ï¼Œæ‹·è´Modalç»„ä»¶æ–‡ä»¶é«˜ä¸­ç¡®è®¤å¯¹è¯æ¡†çš„ç¤ºä¾‹ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const alert = Modal.alert\nalert('Delete', 'Are you sure?', [\n      { text: 'Cancel',onPress: () => console.log('cancel) },\n      { text: 'Ok', onPress: () => console.log('ok')}\n])\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("ä¿®æ”¹å¯¹è¯æ¡†çš„æ–‡å­—æç¤º")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("alert('æç¤º', 'æ˜¯å¦ç¡®å®šé€€å‡º?', [\n      { text: 'å–æ¶ˆ'},\n      { text: 'é€€å‡º', onPress: () => console.log('ok')}\n])\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨é€€å‡ºæŒ‰é’®çš„äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œå…ˆè°ƒç”¨é€€å‡ºæ¥å£ï¼ˆè®©æœåŠ¡å™¨ç«¯é€€å‡ºï¼‰ï¼Œå†ç§»é™¤æœ¬åœ°tokenï¼ˆæœ¬åœ°é€€å‡ºï¼‰")]),s._v(" "),a("li",[s._v("æŠŠç™»å½•çŠ¶æ€isLoginè®¾ç½®ä¸ºfalse")]),s._v(" "),a("li",[s._v("æ¸…ç©ºç”¨æˆ·çŠ¶æ€å¯¹è±¡")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n  text: 'é€€å‡º',\n  onPress: async () => {\n    // è°ƒç”¨é€€å‡ºæ¥å£\n    await API.post('/user/logout', null, {\n      headers: {\n        authorization: getToken()\n      }\n    })\n\n    // ç§»é™¤æœ¬åœ°token\n    removeToken()\n\n    // å¤„ç†çŠ¶æ€\n    this.setState({\n      isLogin: false,\n      userInfo: {\n        avatar: '',\n        nickname: ''\n      }\n    })\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h3",{attrs:{id:"ç™»å½•è®¿é—®æ§åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç™»å½•è®¿é—®æ§åˆ¶"}},[s._v("#")]),s._v(" ç™»å½•è®¿é—®æ§åˆ¶")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-20"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("ç†è§£è®¿é—®æ§åˆ¶ä¸­çš„ä¸¤ç§åŠŸèƒ½å’Œä¸¤ç§é¡µé¢")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºå¤„ç†ä¸¤ç§åŠŸèƒ½ç”¨ä»€ä¹ˆæ–¹å¼æ¥å®ç°")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå†™å‡º axiosè¯·æ±‚æ‹¦æˆªå™¨ä¸å“åº”æ‹¦æˆªå™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¯´å‡ºè¿™ä¸¤ç§æ‹¦æˆªå™¨åˆ†åˆ«åœ¨ä»€ä¹ˆæ—¶å€™è§¦å‘ï¼Œæœ‰ä»€ä¹ˆä½œç”¨")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºå¤„ç†ä¸¤ç§é¡µé¢ç”¨ä»€ä¹ˆæ–¹å¼æ¥å®ç°")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè¯´å‡ºAuthRoute é‰´æƒè·¯ç”±ç»„ä»¶å®ç°æ€è·¯")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§å®˜ç½‘è‡ªå·±å°è£…AuthRoute é‰´æƒè·¯ç”±ç»„ä»¶")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç°ä¿®æ”¹ç™»å½•æˆåŠŸåçš„è·³è½¬")])]),s._v(" "),a("h4",{attrs:{id:"æ¦‚è¿°-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°-4"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("p",[s._v("é¡¹ç›®ä¸­çš„ä¸¤ç§ç±»å‹çš„åŠŸèƒ½å’Œä¸¤ç§ç±»å‹çš„é¡µé¢ï¼š")]),s._v(" "),a("p",[s._v("ä¸¤ç§åŠŸèƒ½ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ç™»å½•åæ‰èƒ½è¿›è¡Œæ“ä½œï¼ˆæ¯”å¦‚ï¼šè·å–ä¸ªäººèµ„æ–™ï¼‰")]),s._v(" "),a("li",[s._v("ä¸éœ€è¦ç™»å½•å°±å¯ä»¥æ“ä½œï¼ˆæ¯”å¦‚ï¼šè·å–æˆ¿å±‹åˆ—è¡¨ï¼‰")])]),s._v(" "),a("p",[s._v("ä¸¤ç§é¡µé¢ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ï¼ˆæ¯”å¦‚ï¼šå‘å¸ƒæˆ¿æºé¡µï¼‰")]),s._v(" "),a("li",[s._v("ä¸éœ€è¦ç™»å½•å³å¯è®¿é—®ï¼ˆæ¯”å¦‚ï¼šé¦–é¡µï¼‰")])]),s._v(" "),a("p",[s._v("å¯¹äºéœ€è¦ç™»å½•æ‰èƒ½æ“ä½œçš„åŠŸèƒ½ä½¿ç”¨ "),a("strong",[s._v("axios æ‹¦æˆªå™¨")]),s._v(" è¿›è¡Œå¤„ç†ï¼ˆæ¯”å¦‚ï¼šç»Ÿä¸€æ·»åŠ è¯·æ±‚å¤´ authorizationç­‰ï¼‰")]),s._v(" "),a("p",[s._v("å¯¹äºéœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„é¡µé¢ä½¿ç”¨ "),a("strong",[s._v("è·¯ç”±æ§åˆ¶")])]),s._v(" "),a("h3",{attrs:{id:"åŠŸèƒ½å¤„ç†-ä½¿ç”¨axiosæ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†token-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½å¤„ç†-ä½¿ç”¨axiosæ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†token-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åŠŸèƒ½å¤„ç†-ä½¿ç”¨axiosæ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†tokenï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨api.js ä¸­ï¼Œæ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ (API.interceptors.request.user())")]),s._v(" "),a("li",[s._v("è·å–åˆ°å½“å‰è¯·æ±‚çš„æ¥å£è·¯å¾„ï¼ˆurlï¼‰")]),s._v(" "),a("li",[s._v("åˆ¤æ–­æ¥å£è·¯å¾„ï¼Œæ˜¯å¦æ˜¯ä»¥/user å¼€å¤´ï¼Œå¹¶ä¸”ä¸æ˜¯ç™»å½•æˆ–æ³¨å†Œæ¥å£ï¼ˆåªç»™éœ€è¦çš„æ¥å£æ·»åŠ è¯·æ±‚å¤´ï¼‰")]),s._v(" "),a("li",[s._v("å¦‚æœæ˜¯ï¼Œå°±æ·»åŠ è¯·æ±‚å¤´Authorization")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨\nAPI.interceptors.request.use(config => {\n  const { url } = config\n  // åˆ¤æ–­è¯·æ±‚urlè·¯å¾„\n  if (\n    url.startsWith('/user') &&\n    !url.startsWith('/user/login') &&\n    !url.startsWith('/user/registered')\n  ) {\n    // æ·»åŠ è¯·æ±‚å¤´\n    config.headers.Authorization = getToken()\n  }\n  return config\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("æ·»åŠ å“åº”æ‹¦æˆªå™¨ (API.interceptors.response.use())")]),s._v(" "),a("li",[s._v("åˆ¤æ–­è¿”å›å€¼ä¸­çš„çŠ¶æ€ç ")]),s._v(" "),a("li",[s._v("å¦‚æœæ˜¯400ï¼Œæ ‡ç¤ºtokenè¶…æ—¶æˆ–å¼‚å¸¸ï¼Œç›´æ¥ç§»é™¤token")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// æ·»åŠ å“åº”æ‹¦æˆªå™¨\nAPI.interceptors.response.use(response => {\n  const { status } = response.data\n  if (status === 400) {\n    // æ­¤æ—¶ï¼Œè¯´æ˜ token å¤±æ•ˆï¼Œç›´æ¥ç§»é™¤ token å³å¯\n    removeToken()\n  }\n  return response\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"é¡µé¢å¤„ç†-authrouteé‰´æƒè·¯ç”±ç»„ä»¶-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡µé¢å¤„ç†-authrouteé‰´æƒè·¯ç”±ç»„ä»¶-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" é¡µé¢å¤„ç†-AuthRouteé‰´æƒè·¯ç”±ç»„ä»¶ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"å®ç°åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°åŸç†"}},[s._v("#")]),s._v(" å®ç°åŸç†")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("é™åˆ¶æŸä¸ªé¡µé¢åªèƒ½åœ¨ç™»é™†çš„æƒ…å†µä¸‹è®¿é—®ï¼Œä½†æ˜¯åœ¨Reactè·¯ç”±ä¸­å¹¶æ²¡æœ‰ç›´æ¥æä¾›è¯¥ç»„ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨å°è£…ï¼Œæ¥å®ç°ç™»é™†è®¿é—®æ§åˆ¶ï¼ˆç±»ä¼¼ä¸Vueè·¯ç”±çš„å¯¼èˆªå®ˆå«ï¼‰")])]),s._v(" "),a("li",[a("p",[s._v("å‚æ•° react-router-domçš„é‰´æƒæ–‡æ¡£")])]),s._v(" "),a("li",[a("p",[s._v("AuthRoute ç»„ä»¶å®é™…ä¸Šå°±æ˜¯å¯¹åŸæ¥Routeç»„ä»¶åšäº†ä¸€æ¬¡åŒ…è£…ï¼Œæ¥å®ç°ä¸€äº›é¢å¤–çš„åŠŸèƒ½")])])]),s._v(" "),a("p",[s._v("ä½¿ç”¨\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191612467.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-N6aFHAEw-1575112340075)(images/ä½¿ç”¨.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("renderæ–¹æ³•ï¼šrender propsæ¨¡å¼ï¼ŒæŒ‡å®šè¯¥è·¯ç”±è¦æ¸²æŸ“çš„ç»„ä»¶å†…å®¹")]),s._v(" "),a("li",[s._v("Redirectç»„ä»¶ï¼šé‡å®šå‘ç»„ä»¶ï¼Œé€šè¿‡toå±æ€§ï¼ŒæŒ‡å®šè¦è·³è½¬çš„è·¯ç”±ä¿¡æ¯")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// å®˜ç½‘å°è£…çš„æ ¸å¿ƒé€»è¾‘ä»£ç \n// ...rest  æŠŠä¹‹å‰çš„ç»„ä»¶ä¸­ä¼ é€’çš„å±æ€§åŸå°ä¸åŠ¨ä¼ é€’è¿‡æ¥\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      // renderæ–¹æ³•ï¼š render propsæ¨¡å¼ï¼ŒæŒ‡å®šè¯¥è·¯ç”±è¦æ¸²æŸ“çš„ç»„ä»¶å†…å®¹\n      render={props =>\n        // åˆ¤æ–­æ˜¯å¦ç™»é™†ï¼Œå¦‚æœç™»é™†ï¼Œè·³è½¬é…ç½®çš„componentï¼Œå¦‚æœæ²¡æœ‰ç™»é™†ï¼Œåˆ©ç”¨ Redirectç»„ä»¶æ¥è¿›è¡Œé‡å®šå‘\n        fakeAuth.isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: "/login",\n              // æŠŠå½“å‰çš„é¡µé¢è·¯å¾„ä¿å­˜èµ·æ¥ï¼Œæ–¹ä¾¿ç”¨æˆ·ç™»å½•åèƒ½å¤Ÿè·³å›å½“å‰é¡µé¢\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"å°è£…authrouteé‰´æƒè·¯ç”±ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°è£…authrouteé‰´æƒè·¯ç”±ç»„ä»¶"}},[s._v("#")]),s._v(" å°è£…AuthRouteé‰´æƒè·¯ç”±ç»„ä»¶")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨componentsç›®å½•ä¸­åˆ›å»ºAuthRoute/index.js æ–‡ä»¶")]),s._v(" "),a("li",[s._v("åˆ›å»ºç»„ä»¶AuthRouteå¹¶å¯¼å‡º")]),s._v(" "),a("li",[s._v("åœ¨AuthRouteç»„ä»¶ä¸­è¿”å›Routeç»„ä»¶ï¼ˆåœ¨RouteåŸºç¡€ä¸Šåšäº†ä¸€å±‚åŒ…è£…ï¼Œç”¨äºå®ç°è‡ªå®šä¹‰åŠŸèƒ½ï¼‰")]),s._v(" "),a("li",[s._v("ç»™Routeç»„ä»¶ï¼Œæ·»åŠ renderæ–¹æ³•ï¼ŒæŒ‡å®šæ”¹ç»„ä»¶è¦æ¸²æŸ“çš„å†…å®¹ï¼ˆç±»ä¼¼ä¸componentå±æ€§ï¼‰")]),s._v(" "),a("li",[s._v("åœ¨renderæ–¹æ³•ä¸­ï¼Œè°ƒç”¨isAuth() åˆ¤æ–­æ˜¯å¦ç™»é™†")]),s._v(" "),a("li",[s._v("å¦‚æœç™»é™†äº†ï¼Œå°±æ¸²æŸ“å½“å‰ç»„ä»¶ï¼ˆé€šè¿‡å‚æ•°componentè·å–åˆ°è¦æ¸²æŸ“çš„ç»„ä»¶ï¼Œéœ€è¦é‡å‘½åï¼‰")]),s._v(" "),a("li",[s._v("å¦‚æœæ²¡æœ‰ç™»é™†ï¼Œå°±é‡å®šå‘åˆ°ç™»é™†é¡µé¢ï¼Œå¹¶ä¸”æŒ‡å®šç™»é™†æˆåŠŸåè…°è·³è½¬çš„é¡µé¢è·¯å¾„")]),s._v(" "),a("li",[s._v("å°†AuthRouteç»„ä»¶æ¥æ”¶åˆ°çš„propsåŸæ ·ä¼ é€’ç»™Routeç»„ä»¶ï¼ˆä¿è¯ä¸Routeç»„ä»¶ä½¿ç”¨æ–¹å¼ç›¸åŒï¼‰")]),s._v(" "),a("li",[s._v("ä½¿ç”¨AuthRouteç»„ä»¶é…ç½®è·¯ç”±è§„åˆ™ï¼ŒéªŒè¯æ˜¯å¦å®ç°é¡µé¢çš„ç™»é™†è®¿é—®æ§åˆ¶")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const AuthRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        const isLogin = isAuth()\n\n        if (isLogin) {\n          // å·²ç™»å½•\n          // å°† props ä¼ é€’ç»™ç»„ä»¶ï¼Œç»„ä»¶ä¸­æ‰èƒ½è·å–åˆ°è·¯ç”±ç›¸å…³ä¿¡æ¯\n          return <Component {...props} />\n        } else {\n          // æœªç™»å½•\n          return (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: {\n                  from: props.location\n                }\n              }}\n            />\n          )\n        }\n      }}\n    />\n  )\n}\nexport default AuthRoute\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h3",{attrs:{id:"ä¿®æ”¹ç™»å½•æˆåŠŸè·³è½¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹ç™»å½•æˆåŠŸè·³è½¬"}},[s._v("#")]),s._v(" ä¿®æ”¹ç™»å½•æˆåŠŸè·³è½¬")]),s._v(" "),a("ul",[a("li",[s._v("ç™»é™†æˆåŠŸåï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦è·³è½¬åˆ°ç”¨æˆ·æƒ³è¦è®¿é—®çš„é¡µé¢ï¼ˆåˆ¤æ–­props.location.state æ˜¯å¦æœ‰å€¼ï¼‰")]),s._v(" "),a("li",[s._v("å¦‚æœä¸éœ€è¦ï¼Œåˆ™ç›´æ¥è°ƒç”¨history.go(-1) è¿”å›ä¸Šä¸€é¡µ")]),s._v(" "),a("li",[s._v("å¦‚æœéœ€è¦ï¼Œå°±è·³è½¬åˆ°from.pathname æŒ‡å®šçš„é¡µé¢ï¼ˆæ¨èä½¿ç”¨replaceæ–¹æ³•æ¨¡å¼ï¼Œä¸æ˜¯pushï¼‰")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" // è¡¨å•çš„æäº¤äº‹ä»¶\n  handleSubmit: async (values, { props }) => {\n    ...\n    if (status === 200) {\n      // ç™»å½•æˆåŠŸ\n      localStorage.setItem('hkzf_token', body.token)\n\n      /* \n        1 ç™»å½•æˆåŠŸåï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦è·³è½¬åˆ°ç”¨æˆ·æƒ³è¦è®¿é—®çš„é¡µé¢ï¼ˆåˆ¤æ–­ props.location.state æ˜¯å¦æœ‰å€¼ï¼‰ã€‚\n        2 å¦‚æœä¸éœ€è¦ï¼ˆæ²¡æœ‰å€¼ï¼‰ï¼Œåˆ™ç›´æ¥è°ƒç”¨ history.go(-1) è¿”å›ä¸Šä¸€é¡µã€‚\n        3 å¦‚æœéœ€è¦ï¼Œå°±è·³è½¬åˆ° from.pathname æŒ‡å®šçš„é¡µé¢ï¼ˆæ¨èä½¿ç”¨ replace æ–¹æ³•æ¨¡å¼ï¼Œè€Œä¸æ˜¯ pushï¼‰ã€‚\n      */\n      if (!props.location.state) {\n        // æ­¤æ—¶ï¼Œè¡¨ç¤ºæ˜¯ç›´æ¥è¿›å…¥åˆ°äº†è¯¥é¡µé¢ï¼Œç›´æ¥è°ƒç”¨ go(-1) å³å¯\n        props.history.go(-1)\n      } else {\n        // replace: [home, map]\n        props.history.replace(props.location.state.from.pathname)\n      }\n    } else {\n      // ç™»å½•å¤±è´¥\n      Toast.info(description, 2, null, false)\n    }\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"æˆ‘çš„æ”¶è—æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘çš„æ”¶è—æ¨¡å—"}},[s._v("#")]),s._v(" æˆ‘çš„æ”¶è—æ¨¡å—")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-21"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿå®ç°æ£€æµ‹æˆ¿æºæ˜¯å¦æ”¶è—")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®ç°æ”¶è—æˆ¿æºåŠŸèƒ½")])]),s._v(" "),a("h4",{attrs:{id:"åŠŸèƒ½åˆ†æ-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½åˆ†æ-6"}},[s._v("#")]),s._v(" åŠŸèƒ½åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("æ”¶è—æˆ¿æº")]),s._v(" "),a("li",[s._v("åŠŸèƒ½ï¼š\n"),a("ul",[a("li",[s._v("æ£€æŸ¥æˆ¿æºæ˜¯å¦æ”¶è—")]),s._v(" "),a("li",[s._v("æ”¶è—æˆ¿æº")])])])]),s._v(" "),a("h4",{attrs:{id:"æ£€æŸ¥æˆ¿æºæ˜¯å¦æ”¶è—-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ£€æŸ¥æˆ¿æºæ˜¯å¦æ”¶è—-â˜…â˜…"}},[s._v("#")]),s._v(" æ£€æŸ¥æˆ¿æºæ˜¯å¦æ”¶è—ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨stateä¸­æ·»åŠ çŠ¶æ€ï¼ŒisFavoriteï¼ˆè¡¨ç¤ºæ˜¯å¦æ”¶è—ï¼‰ï¼Œé»˜è®¤å€¼æ˜¯false")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("state= {\n    // è¡¨ç¤ºæˆ¿æºæ˜¯å¦æ”¶è—\n    isFavorite: false\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("åˆ›å»ºæ–¹æ³• checkFavoriteï¼Œåœ¨è¿›å…¥æˆ¿æºè¯¦æƒ…é¡µé¢æ—¶è°ƒç”¨è¯¥æ–¹æ³•")]),s._v(" "),a("li",[s._v("å…ˆè°ƒç”¨isAuthæ–¹æ³•ï¼Œæ¥åˆ¤æ–­æ˜¯å¦ç™»é™†")]),s._v(" "),a("li",[s._v("å¦‚æœæœªç™»å½•ï¼Œç›´æ¥returnï¼Œä¸å†æ£€æŸ¥æ˜¯å¦æ”¶è—")]),s._v(" "),a("li",[s._v("å¦‚æœå·²ç™»é™†ï¼Œä»è·¯ç”±å‚æ•°ä¸­ï¼Œè·å–å½“å‰æˆ¿å±‹id")]),s._v(" "),a("li",[s._v("ä½¿ç”¨APIè°ƒç”¨æ¥å£ï¼ŒæŸ¥è¯¢è¯¥æˆ¿æºæ˜¯å¦æ”¶è—")]),s._v(" "),a("li",[s._v("å¦‚æœè¿”å›çŠ¶æ€ç ä¸º200ï¼Œå°±æ›´æ–°isFavoriteï¼›å¦åˆ™ï¼Œä¸åšä»»ä½•å¤„ç†")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("async checkFavorite() {\n    const isLogin = isAuth()\n\n    if (!isLogin) {\n      // æ²¡æœ‰ç™»å½•\n      return\n    }\n\n    // å·²ç™»å½•\n    const { id } = this.props.match.params\n    const res = await API.get(`/user/favorites/${id}`)\n\n    const { status, body } = res.data\n    if (status === 200) {\n      // è¡¨ç¤ºè¯·æ±‚å·²ç»æˆåŠŸï¼Œéœ€è¦æ›´æ–° isFavorite çš„å€¼\n      this.setState({\n        isFavorite: body.isFavorite\n      })\n    }\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ul",[a("li",[s._v("åœ¨é¡µé¢ç»“æ„ä¸­ï¼Œé€šè¿‡çŠ¶æ€isFavoriteä¿®æ”¹æ”¶è—æŒ‰é’®çš„æ–‡å­—å’Œå›¾ç‰‡å†…å®¹")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{/* åº•éƒ¨æ”¶è—æŒ‰é’® */}\n<Flex className={styles.fixedBottom}>\n  <Flex.Item>\n    <img\n      src={\n        BASE_URL + (isFavorite ? '/img/star.png' : '/img/unstar.png')\n      }\n      className={styles.favoriteImg}\n      alt=\"æ”¶è—\"\n    />\n    <span className={styles.favorite}>\n      {isFavorite ? 'å·²æ”¶è—' : 'æ”¶è—'}\n    </span>\n  </Flex.Item>\n  <Flex.Item>åœ¨çº¿å’¨è¯¢</Flex.Item>\n  <Flex.Item>\n    <a href=\"tel:400-618-4000\" className={styles.telephone}>\n      ç”µè¯é¢„çº¦\n    </a>\n  </Flex.Item>\n</Flex>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h4",{attrs:{id:"æ”¶è—æˆ¿æº-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶è—æˆ¿æº-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æ”¶è—æˆ¿æºï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("ç»™æ”¶è—æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œåˆ›å»ºæ–¹æ³•handleFavoriteä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åº")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("handleFavorite = async () => {\n    ...\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("è°ƒç”¨isAuthæ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦ç™»é™†")]),s._v(" "),a("li",[s._v("å¦‚æœæœªç™»å½•ï¼Œåˆ™ä½¿ç”¨Modal.alert æç¤ºç”¨æˆ·æ˜¯å¦å»ç™»é™†")]),s._v(" "),a("li",[s._v("å¦‚æœç‚¹å‡»å–æ¶ˆï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œ")]),s._v(" "),a("li",[s._v("å¦‚æœç‚¹å‡»å»ç™»é™†ï¼Œå°±è·³è½¬åˆ°ç™»é™†é¡µé¢ï¼ŒåŒæ—¶ä¼ é€’state(ç™»é™†åï¼Œå†å›åˆ°æˆ¿æºæ”¶è—é¡µé¢)")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const isLogin = isAuth()\nconst { history, location, match } = this.props\n\nif (!isLogin) {\n  // æœªç™»å½•\n  return alert('æç¤º', 'ç™»å½•åæ‰èƒ½æ”¶è—æˆ¿æºï¼Œæ˜¯å¦å»ç™»å½•?', [\n    { text: 'å–æ¶ˆ' },\n    {\n      text: 'å»ç™»å½•',\n      onPress: () => history.push('/login', { from: location })\n    }\n  ])\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("æ ¹æ®isFavoriteåˆ¤æ–­ï¼Œå½“å‰æˆ¿æºæ˜¯å¦æ”¶è—")]),s._v(" "),a("li",[s._v("å¦‚æœæœªæ”¶è—ï¼Œå°±è°ƒç”¨æ·»åŠ æ”¶è—æ¥å£ï¼Œæ·»åŠ æ”¶è—")]),s._v(" "),a("li",[s._v("å¦‚æœæ”¶è—äº†ï¼Œå°±è°ƒç”¨åˆ é™¤æ¥å£ï¼Œåˆ é™¤æ”¶è—")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if (isFavorite) {\n  // å·²æ”¶è—ï¼Œåº”è¯¥åˆ é™¤æ”¶è—\n  const res = await API.delete(`/user/favorites/${id}`)\n  // console.log(res)\n  this.setState({\n    isFavorite: false\n  })\n\n  if (res.data.status === 200) {\n    // æç¤ºç”¨æˆ·å–æ¶ˆæ”¶è—\n    Toast.info('å·²å–æ¶ˆæ”¶è—', 1, null, false)\n  } else {\n    // token è¶…æ—¶\n    Toast.info('ç™»å½•è¶…æ—¶ï¼Œè¯·é‡æ–°ç™»å½•', 2, null, false)\n  }\n} else {\n  // æœªæ”¶è—ï¼Œåº”è¯¥æ·»åŠ æ”¶è—\n  const res = await API.post(`/user/favorites/${id}`)\n  // console.log(res)\n  if (res.data.status === 200) {\n    // æç¤ºç”¨æˆ·æ”¶è—æˆåŠŸ\n    Toast.info('å·²æ”¶è—', 1, null, false)\n    this.setState({\n      isFavorite: true\n    })\n  } else {\n    // token è¶…æ—¶\n    Toast.info('ç™»å½•è¶…æ—¶ï¼Œè¯·é‡æ–°ç™»å½•', 2, null, false)\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("ul",[a("li",[s._v("å®Œæ•´é€»è¾‘ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("handleFavorite = async () => {\n    const isLogin = isAuth()\n    const { history, location, match } = this.props\n\n    if (!isLogin) {\n      // æœªç™»å½•\n      return alert('æç¤º', 'ç™»å½•åæ‰èƒ½æ”¶è—æˆ¿æºï¼Œæ˜¯å¦å»ç™»å½•?', [\n        { text: 'å–æ¶ˆ' },\n        {\n          text: 'å»ç™»å½•',\n          onPress: () => history.push('/login', { from: location })\n        }\n      ])\n    }\n\n    // å·²ç™»å½•\n    const { isFavorite } = this.state\n    const { id } = match.params\n\n    if (isFavorite) {\n      // å·²æ”¶è—ï¼Œåº”è¯¥åˆ é™¤æ”¶è—\n      const res = await API.delete(`/user/favorites/${id}`)\n      // console.log(res)\n      this.setState({\n        isFavorite: false\n      })\n\n      if (res.data.status === 200) {\n        // æç¤ºç”¨æˆ·å–æ¶ˆæ”¶è—\n        Toast.info('å·²å–æ¶ˆæ”¶è—', 1, null, false)\n      } else {\n        // token è¶…æ—¶\n        Toast.info('ç™»å½•è¶…æ—¶ï¼Œè¯·é‡æ–°ç™»å½•', 2, null, false)\n      }\n    } else {\n      // æœªæ”¶è—ï¼Œåº”è¯¥æ·»åŠ æ”¶è—\n      const res = await API.post(`/user/favorites/${id}`)\n      // console.log(res)\n      if (res.data.status === 200) {\n        // æç¤ºç”¨æˆ·æ”¶è—æˆåŠŸ\n        Toast.info('å·²æ”¶è—', 1, null, false)\n        this.setState({\n          isFavorite: true\n        })\n      } else {\n        // token è¶…æ—¶\n        Toast.info('ç™»å½•è¶…æ—¶ï¼Œè¯·é‡æ–°ç™»å½•', 2, null, false)\n      }\n    }\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br")])]),a("h2",{attrs:{id:"reactå¥½ç§Ÿå®¢é¡¹ç›®day11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactå¥½ç§Ÿå®¢é¡¹ç›®day11"}},[s._v("#")]),s._v(" reactå¥½ç§Ÿå®¢é¡¹ç›®Day11")]),s._v(" "),a("p",[s._v("-å‘å¸ƒæˆ¿æºæ¨¡å—(jsè¾“å…¥æ¡†é˜²æŠ–&å›¾ç‰‡ä¸Šä¼ )&é¡¹ç›®æ‰“åŒ…&é¡¹ç›®ä¼˜åŒ–(æŒ‰éœ€åŠ è½½&è·¯ç”±ä»£ç åˆ†å‰²)")]),s._v(" "),a("ul",[a("li",[s._v("å¦‚ä½•è§£å†³JS æ–‡æœ¬è¾“å…¥æ¡†é˜²æŠ–ï¼ˆç”¨æˆ·è¾“å…¥è¿‡å¿«å¯¼è‡´è¯·æ±‚æœåŠ¡å™¨çš„å‹åŠ›è¿‡å¤§ï¼‰")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®Œæˆæœç´¢æ¨¡å—")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿè·å–å‘å¸ƒæˆ¿æºçš„ç›¸å…³ä¿¡æ¯")]),s._v(" "),a("li",[s._v("èƒ½å¤ŸçŸ¥é“å›¾ç‰‡ä¸Šä¼ çš„æµç¨‹")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®Œæˆå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®Œæˆæˆ¿æºå‘å¸ƒåŠŸèƒ½")])]),s._v(" "),a("h3",{attrs:{id:"å‰æœŸå‡†å¤‡å·¥ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰æœŸå‡†å¤‡å·¥ä½œ"}},[s._v("#")]),s._v(" å‰æœŸå‡†å¤‡å·¥ä½œ")]),s._v(" "),a("h4",{attrs:{id:"åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½"}},[s._v("#")]),s._v(" åŠŸèƒ½")]),s._v(" "),a("ul",[a("li",[s._v("è·å–æˆ¿æºçš„å°åŒºä¿¡æ¯ï¼Œæˆ¿æºå›¾ç‰‡ä¸Šä¼ ï¼Œæˆ¿æºå‘å¸ƒç­‰")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130191921650.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-d0yllDAe-1575112741215)(images/å‘å¸ƒæˆ¿æº.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"æ¨¡æ¿æ”¹åŠ¨è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡æ¿æ”¹åŠ¨è¯´æ˜"}},[s._v("#")]),s._v(" æ¨¡æ¿æ”¹åŠ¨è¯´æ˜")]),s._v(" "),a("ul",[a("li",[s._v("ä¿®æ”¹é¦–é¡µï¼ˆIndexï¼‰å»å‡ºç§Ÿé“¾æ¥ä¸ºï¼š /rent/add")]),s._v(" "),a("li",[s._v("ä¿®æ”¹å…¬å…±ç»„ä»¶NoHouseçš„childrenå±æ€§æ ¡éªŒä¸ºï¼š nodeï¼ˆä»»ä½•å¯ä»¥æ¸²æŸ“çš„å†…å®¹ï¼‰")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/2019113019194854.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-wTlhzzyO-1575112741216)(images/noHouse.jpg)]"}})]),s._v(" "),a("ul",[a("li",[s._v("ä¿®æ”¹å…¬å…±ç»„ä»¶HousePackageï¼Œæ·»åŠ onSelectçš„é»˜è®¤å€¼")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130192000867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-MuCgqTDd-1575112741220)(images/onSelect.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("æ·»åŠ utils/city.jsï¼Œå°è£…å½“å‰å®šä½åŸå¸‚ localStorageçš„æ“ä½œ")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130192015688.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-oUpPCXcv-1575112741223)(images/city.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("åˆ›å»ºäº†ä¸‰ä¸ªé¡µé¢ç»„ä»¶ï¼šRentï¼ˆå·²å‘å¸ƒæˆ¿æºåˆ—è¡¨ï¼‰ã€Rent/Addï¼ˆå‘å¸ƒæˆ¿æºï¼‰ã€Rent/Searchï¼ˆå…³é”®è¯æœç´¢æ ¡åŒºä¿¡æ¯ï¼‰")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130192033706.png",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-GZfe1Qn6-1575112741227)(images/rent.png)]"}})]),s._v(" "),a("ul",[a("li",[s._v("Rent æ¨¡æ¿ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React, { Component } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nimport { API, BASE_URL } from '../../utils'\n\nimport NavHeader from '../../components/NavHeader'\nimport HouseItem from '../../components/HouseItem'\nimport NoHouse from '../../components/NoHouse'\n\nimport styles from './index.module.css'\n\nexport default class Rent extends Component {\n  state = {\n    // å‡ºç§Ÿæˆ¿å±‹åˆ—è¡¨\n    list: []\n  }\n\n  // è·å–å·²å‘å¸ƒæˆ¿æºçš„åˆ—è¡¨æ•°æ®\n  async getHouseList() {\n    const res = await API.get('/user/houses')\n\n    const { status, body } = res.data\n    if (status === 200) {\n      this.setState({\n        list: body\n      })\n    } else {\n      const { history, location } = this.props\n      history.replace('/login', {\n        from: location\n      })\n    }\n  }\n\n  componentDidMount() {\n    this.getHouseList()\n  }\n\n  renderHouseItem() {\n    const { list } = this.state\n    const { history } = this.props\n\n    return list.map(item => {\n      return (\n        <HouseItem\n          key={item.houseCode}\n          onClick={() => history.push(`/detail/${item.houseCode}`)}\n          src={BASE_URL + item.houseImg}\n          title={item.title}\n          desc={item.desc}\n          tags={item.tags}\n          price={item.price}\n        />\n      )\n    })\n  }\n\n  renderRentList() {\n    const { list } = this.state\n    const hasHouses = list.length > 0\n\n    if (!hasHouses) {\n      return (\n        <NoHouse>\n          æ‚¨è¿˜æ²¡æœ‰æˆ¿æºï¼Œ\n          <Link to=\"/rent/add\" className={styles.link}>\n            å»å‘å¸ƒæˆ¿æº\n          </Link>\n          å§~\n        </NoHouse>\n      )\n    }\n\n    return <div className={styles.houses}>{this.renderHouseItem()}</div>\n  }\n\n  render() {\n    const { history } = this.props\n\n    return (\n      <div className={styles.root}>\n        <NavHeader onLeftClick={() => history.go(-1)}>æˆ¿å±‹ç®¡ç†</NavHeader>\n\n        {this.renderRentList()}\n      </div>\n    )\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br")])]),a("h4",{attrs:{id:"ä¸‰ä¸ªè·¯ç”±è§„åˆ™é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ä¸ªè·¯ç”±è§„åˆ™é…ç½®"}},[s._v("#")]),s._v(" ä¸‰ä¸ªè·¯ç”±è§„åˆ™é…ç½®")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨App.js ä¸­å¯¼å…¥Rentå·²å‘å¸ƒæˆ¿æºåˆ—è¡¨é¡µé¢")]),s._v(" "),a("li",[s._v("åœ¨App.js ä¸­å¯¼å…¥AuthRouteç»„ä»¶")]),s._v(" "),a("li",[s._v("ä½¿ç”¨AuthRouteç»„ä»¶ï¼Œé…ç½®è·¯ç”±è§„åˆ™")]),s._v(" "),a("li",[s._v("ä½¿ç”¨åŒæ ·æ–¹å¼ï¼Œé…ç½®Rent/Add æˆ¿æºå‘å¸ƒé¡µé¢ï¼ŒRent/Search å…³é”®è¯æœç´¢å°åŒºä¿¡æ¯é¡µé¢")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{/* é…ç½®ç™»å½•åï¼Œæ‰èƒ½è®¿é—®çš„é¡µé¢ */}\n<AuthRoute exact path="/rent" component={Rent} />\n<AuthRoute path="/rent/add" component={RentAdd} />\n<AuthRoute path="/rent/search" component={RentSearch} />\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"æœç´¢æ¨¡å—-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœç´¢æ¨¡å—-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" æœç´¢æ¨¡å—ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"å…³é”®è¯æœç´¢å°åŒºä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³é”®è¯æœç´¢å°åŒºä¿¡æ¯"}},[s._v("#")]),s._v(" å…³é”®è¯æœç´¢å°åŒºä¿¡æ¯")]),s._v(" "),a("ul",[a("li",[s._v("è·å–SearchBar æœç´¢æ ç»„ä»¶çš„å€¼")]),s._v(" "),a("li",[s._v("åœ¨æœç´¢æ çš„changeäº‹ä»¶ä¸­ï¼Œåˆ¤æ–­å½“å‰å€¼æ˜¯å¦ä¸ºç©º")]),s._v(" "),a("li",[s._v("å¦‚æœä¸ºç©ºï¼Œç›´æ¥returnï¼Œä¸åšä»»ä½•å¤„ç†")]),s._v(" "),a("li",[s._v("å¦‚æœä¸ä¸ºç©ºï¼Œå°±æ ¹æ®å½“å‰è¾“å…¥çš„å€¼ä»¥åŠå½“å‰åŸå¸‚idï¼Œè·å–è¯¥å…³é”®è¯å¯¹åº”çš„å°åŒºä¿¡æ¯")]),s._v(" "),a("li",[s._v("**é—®é¢˜ï¼š**æœç´¢æ ä¸­æ¯è¾“å…¥ä¸€ä¸ªå€¼ï¼Œå°±å‘ä¸€æ¬¡è¯·æ±‚ï¼Œè¿™æ ·å¯¹æœåŠ¡å™¨å‹åŠ›æ¯”è¾ƒå¤§ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½")]),s._v(" "),a("li",[s._v("**è§£å†³æ–¹å¼ï¼š**ä½¿ç”¨å®šæ—¶å™¨æ¥è¿›è¡Œå»¶è¿Ÿæ‰§è¡Œï¼ˆå…³é”®è¯ï¼šJSæ–‡æœ¬æ¡†è¾“å…¥ é˜²æŠ–ï¼‰")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130192158194.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU4MzcwOA==,size_16,color_FFFFFF,t_70",alt:"[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-OtWoClFE-1575112741229)(images/è¾“å…¥æ¡†é˜²æŠ–.png)]"}})]),s._v(" "),a("h4",{attrs:{id:"å®ç°æ­¥éª¤-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æ­¥éª¤-3"}},[s._v("#")]),s._v(" å®ç°æ­¥éª¤")]),s._v(" "),a("ul",[a("li",[s._v("ç»™SearchBarç»„ä»¶ï¼Œæ·»åŠ onChangeé…ç½®é¡¹ï¼Œè·å–æ–‡æœ¬æ¡†çš„å€¼")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<div className={styles.root}>\n  {/* æœç´¢æ¡† */}\n  <SearchBar\n    placeholder="è¯·è¾“å…¥å°åŒºæˆ–åœ°å€"\n    value={searchTxt}\n    onChange={this.handleSearchTxt}\n    showCancelButton={true}\n    onCancel={() => history.go(-1)}\n  />\n\n  {/* æœç´¢æç¤ºåˆ—è¡¨ */}\n  <ul className={styles.tips}>{this.renderTips()}</ul>\n</div>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("åˆ¤æ–­å½“å‰æ–‡æœ¬æ¡†çš„å€¼æ˜¯å¦ä¸ºç©º")]),s._v(" "),a("li",[s._v("å¦‚æœä¸ºç©ºï¼Œæ¸…ç©ºåˆ—è¡¨ï¼Œç„¶åreturnï¼Œä¸å†å‘é€è¯·æ±‚")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("handleSearchTxt = value => {\n    this.setState({ searchTxt: value })\n    if (!value) {\n      // æ–‡æœ¬æ¡†çš„å€¼ä¸ºç©º\n      return this.setState({\n        tipsList: []\n      })\n    }\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("å¦‚æœä¸ä¸ºç©ºï¼Œä½¿ç”¨APIå‘é€è¯·æ±‚ï¼Œè·å–å°åŒºæ•°æ®")]),s._v(" "),a("li",[s._v("ä½¿ç”¨å®šæ—¶å™¨æ¥å»¶è¿Ÿæœç´¢ï¼Œæå‡æ€§èƒ½")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("handleSearchTxt = value => {\n    this.setState({ searchTxt: value })\n\n    if (!value) {\n      // æ–‡æœ¬æ¡†çš„å€¼ä¸ºç©º\n      return this.setState({\n        tipsList: []\n      })\n    }\n\n    // æ¸…é™¤ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨\n    clearTimeout(this.timerId)\n\n    this.timerId = setTimeout(async () => {\n      // è·å–å°åŒºæ•°æ®\n      const res = await API.get('/area/community', {\n        params: {\n          name: value,\n          id: this.cityId\n        }\n      })\n      this.setState({\n        tipsList: res.data.body\n      })\n    }, 500)\n  }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h3",{attrs:{id:"è·å–æˆ¿æºæ•°æ®åˆ†æ-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æˆ¿æºæ•°æ®åˆ†æ-â˜…â˜…"}},[s._v("#")]),s._v(" è·å–æˆ¿æºæ•°æ®åˆ†æï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("InputItemã€TextareaItemã€Pickerç»„ä»¶ï¼Œéƒ½ä½¿ç”¨onChangeé…ç½®é¡¹ï¼Œæ¥è·å–å½“å‰å€¼")]),s._v(" "),a("li",[s._v("å¤„ç†æ–¹å¼ï¼šå°è£…ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•° getValue æ¥ç»Ÿä¸€è·å–ä¸‰ç§ç»„ä»¶çš„å€¼")]),s._v(" "),a("li",[s._v("åˆ›å»ºæ–¹æ³•getValueä½œä¸ºä¸‰ä¸ªç»„ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°")]),s._v(" "),a("li",[s._v("è¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š1. name å½“å‰çŠ¶æ€åï¼›2. value å½“å‰è¾“å…¥å€¼æˆ–è€…é€‰ä¸­å€¼")]),s._v(" "),a("li",[s._v("åˆ†åˆ«ç»™ InputItem/TextareaItem/Picker ç»„ä»¶ï¼Œæ·»åŠ onChangeé…ç½®é¡¹")]),s._v(" "),a("li",[s._v("åˆ†åˆ«è°ƒç”¨ getValue å¹¶ä¼ é€’ name å’Œ value ä¸¤ä¸ªå‚æ•°ï¼ˆæ³¨æ„ï¼šPickerç»„ä»¶é€‰ä¸­å€¼ä¸ºæ•°ç»„ï¼Œè€Œæ¥å£éœ€è¦å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ï¼Œå–ç´¢å¼•å·ä¸º 0 çš„å€¼å³å¯ï¼‰")])]),s._v(" "),a("p",[s._v("ç¤ºä¾‹ä»£ç ï¼š")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  /* \n    è·å–è¡¨å•æ•°æ®ï¼š\n  */\n  getValue = (name, value) => {\n    this.setState({\n      [name]: value\n    })\n  }\n  \n  // ç»™ç›¸åº”ç»„ä»¶æ·»åŠ  onChange äº‹ä»¶ï¼Œä¼ é€’ name å’Œvalue\n  \n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"è·å–æˆ¿å±‹é…ç½®æ•°æ®-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æˆ¿å±‹é…ç½®æ•°æ®-â˜…â˜…"}},[s._v("#")]),s._v(" è·å–æˆ¿å±‹é…ç½®æ•°æ®ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("ç»™HousePackge ç»„ä»¶ï¼Œ æ·»åŠ  onSelect å±æ€§")]),s._v(" "),a("li",[s._v("åœ¨onSelect å¤„ç†æ–¹æ³•ä¸­ï¼Œé€šè¿‡å‚æ•°è·å–åˆ°å½“å‰é€‰ä¸­é¡¹çš„å€¼")]),s._v(" "),a("li",[s._v("æ ¹æ®å‘å¸ƒæˆ¿æºæ¥å£çš„å‚æ•°è¯´æ˜ï¼Œå°†è·å–åˆ°çš„æ•°ç»„ç±»å‹çš„é€‰ä¸­å€¼ï¼Œè½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç±»å‹")]),s._v(" "),a("li",[s._v("è°ƒç”¨setState æ›´æ–°çŠ¶æ€")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/* \n  è·å–æˆ¿å±‹é…ç½®æ•°æ®\n*/\nhandleSupporting = selected => {\n  this.setState({\n    supporting: selected.join('|')\n  })\n}\n  \n...\n<HousePackge select onSelect={this.handleSupporting} />\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"å›¾ç‰‡ä¸Šä¼ -â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å›¾ç‰‡ä¸Šä¼ -â˜…â˜…â˜…"}},[s._v("#")]),s._v(" å›¾ç‰‡ä¸Šä¼ ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("h4",{attrs:{id:"åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æ"}},[s._v("#")]),s._v(" åˆ†æ")]),s._v(" "),a("ul",[a("li",[s._v("æ ¹æ®å‘å¸ƒæˆ¿æºæ¥å£ï¼Œæœ€ç»ˆéœ€è¦çš„æ˜¯æˆ¿å±‹å›¾ç‰‡çš„è·¯å¾„")]),s._v(" "),a("li",[s._v("ä¸¤ä¸ªæ­¥éª¤ï¼š 1- è·å–æˆ¿å±‹å›¾ç‰‡ï¼› 2- ä¸Šä¼ å›¾ç‰‡è·å–åˆ°å›¾ç‰‡çš„è·¯å¾„")]),s._v(" "),a("li",[s._v("å¦‚ä½•è·å–æˆ¿å±‹å›¾ç‰‡ï¼Ÿ ImagePickerå›¾ç‰‡é€‰æ‹©å™¨ç»„ä»¶ï¼Œé€šè¿‡onChangeé…ç½®é¡¹æ¥è·å–")]),s._v(" "),a("li",[s._v("å¦‚ä½•ä¸Šä¼ æˆ¿å±‹å›¾ç‰‡ï¼Ÿ æ ¹æ®å›¾ç‰‡ä¸Šä¼ æ¥å£ï¼Œå°†å›¾ç‰‡è½¬åŒ–ä¸ºFormDataæ•°æ®åå†ä¸Šä¼ ï¼Œç”±æ¥å£è¿”å›å›¾ç‰‡è·¯å¾„")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  handleHouseImg = (files, type, index) => {\n    // files å›¾ç‰‡æ–‡ä»¶çš„æ•°ç»„ï¼› type æ“ä½œç±»å‹ï¼šæ·»åŠ ï¼Œç§»é™¤ï¼ˆå¦‚æœæ˜¯ç§»é™¤ï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªå‚æ•°ä»£è¡¨å°±æ˜¯ç§»é™¤çš„å›¾ç‰‡çš„ç´¢å¼•ï¼‰\n    console.log(files, type, index)\n    this.setState({\n      tempSlides: files\n    })\n  }\n  ...\n   <ImagePicker\n     files={tempSlides}\n     onChange={this.handleHouseImg}\n     multiple={true}\n     className={styles.imgpicker}\n   />\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h4",{attrs:{id:"ä¸Šä¼ æˆ¿å±‹å›¾ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸Šä¼ æˆ¿å±‹å›¾ç‰‡"}},[s._v("#")]),s._v(" ä¸Šä¼ æˆ¿å±‹å›¾ç‰‡")]),s._v(" "),a("p",[s._v("å›¾ç‰‡å·²ç»å¯ä»¥é€šè¿‡ ImagePicker çš„ onChange äº‹ä»¶æ¥è·å–åˆ°äº†ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦æŠŠå›¾ç‰‡è¿›è¡Œä¸Šä¼ ï¼Œç„¶åè·å–åˆ°æœåŠ¡å™¨è¿”å›çš„æˆåŠŸä¸Šä¼ å›¾ç‰‡çš„è·¯å¾„")]),s._v(" "),a("ul",[a("li",[s._v("ç»™æäº¤æŒ‰é’®ï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶")]),s._v(" "),a("li",[s._v("åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æˆ¿å±‹å›¾ç‰‡")]),s._v(" "),a("li",[s._v("å¦‚æœæ²¡æœ‰ï¼Œä¸åšä»»ä½•å¤„ç†")]),s._v(" "),a("li",[s._v("å¦‚æœæœ‰ï¼Œå°±åˆ›å»ºFormDataçš„ç¤ºä¾‹å¯¹è±¡ï¼ˆformï¼‰")]),s._v(" "),a("li",[s._v("éå†tempSlidesæ•°ç»„ï¼Œåˆ†åˆ«å°†æ¯ä¸€ä¸ªå›¾ç‰‡å›¾ç‰‡å¯¹è±¡ï¼Œæ·»åŠ åˆ°formä¸­ï¼ˆé”®ä¸ºï¼šfileï¼Œæ ¹æ®æ¥å£æ–‡æ¡£è·å–ï¼‰")]),s._v(" "),a("li",[s._v("è°ƒç”¨å›¾ç‰‡ä¸Šä¼ æ¥å£ï¼Œä¼ é€’formå‚æ•°ï¼Œå¹¶è®¾ç½®è¯·æ±‚å¤´ Content-Type ä¸º multipart/form-data")]),s._v(" "),a("li",[s._v("é€šè¿‡æ¥å£è¿”å›å€¼è·å–åˆ°å›¾ç‰‡è·¯å¾„")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// ä¸Šä¼ å›¾ç‰‡\naddHouse = async() => {\n    const { tempSlides } = this.state\n    let houseImg = ''\n\n    if (tempSlides.length > 0) {\n        // å·²ç»æœ‰ä¸Šä¼ çš„å›¾ç‰‡äº†\n        const form = new FormData()\n        tempSlides.forEach(item => form.append('file', item.file))\n\n        const res = await API.post('/houses/image', form, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n\n        // console.log(res)\n        houseImg = res.data.body.join('|')\n    }\n}\n...\n<Flex.Item className={styles.confirm} onClick={this.addHouse}>\n  æäº¤\n</Flex.Item>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h4",{attrs:{id:"å‘å¸ƒæˆ¿æº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘å¸ƒæˆ¿æº"}},[s._v("#")]),s._v(" å‘å¸ƒæˆ¿æº")]),s._v(" "),a("p",[s._v("åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥è·å–åˆ°å‘å¸ƒæˆ¿æºçš„æ‰€æœ‰ä¿¡æ¯äº†ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦æŠŠæ•°æ®ä¼ é€’ç»™æœåŠ¡å™¨")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨ addHouse æ–¹æ³•ä¸­ï¼Œ ä»state é‡Œé¢è·å–åˆ°æ‰€æœ‰çš„æˆ¿å±‹æ•°æ®")]),s._v(" "),a("li",[s._v("ä½¿ç”¨API è°ƒç”¨å‘å¸ƒæˆ¿æºæ¥å£ï¼Œä¼ é€’æ‰€æœ‰æˆ¿å±‹æ•°æ®")]),s._v(" "),a("li",[s._v("æ ¹æ®æ¥å£è¿”å›å€¼ä¸­çš„çŠ¶æ€ç ï¼Œåˆ¤æ–­æ˜¯å¦å‘å¸ƒæˆåŠŸ")]),s._v(" "),a("li",[s._v("å¦‚æœçŠ¶æ€ç æ˜¯200ï¼Œæ ‡ç¤ºå‘å¸ƒæˆåŠŸï¼Œå°±æç¤ºï¼šå‘å¸ƒæˆåŠŸï¼Œå¹¶è·³è½¬åˆ°å·²å‘å¸ƒçš„æˆ¿æºé¡µé¢")]),s._v(" "),a("li",[s._v("å¦åˆ™ï¼Œå°±æç¤ºï¼šæœåŠ¡å™¨å·æ‡’äº†ï¼Œè¯·ç¨åå†è¯•")])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("addHouse = async () => {\n  const {\n    tempSlides,\n    title,\n    description,\n    oriented,\n    supporting,\n    price,\n    roomType,\n    size,\n    floor,\n    community\n  } = this.state\n  let houseImg = ''\n\n  // ä¸Šä¼ æˆ¿å±‹å›¾ç‰‡ï¼š\n  if (tempSlides.length > 0) {\n    // å·²ç»æœ‰ä¸Šä¼ çš„å›¾ç‰‡äº†\n    const form = new FormData()\n    tempSlides.forEach(item => form.append('file', item.file))\n\n    const res = await API.post('/houses/image', form, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    houseImg = res.data.body.join('|')\n  }\n\n  // å‘å¸ƒæˆ¿æº\n  const res = await API.post('/user/houses', {\n    title,\n    description,\n    oriented,\n    supporting,\n    price,\n    roomType,\n    size,\n    floor,\n    community: community.id,\n    houseImg\n  })\n\n  if (res.data.status === 200) {\n    // å‘å¸ƒæˆåŠŸ\n    Toast.info('å‘å¸ƒæˆåŠŸ', 1, null, false)\n    this.props.history.push('/rent')\n  } else {\n    Toast.info('æœåŠ¡å™¨å·æ‡’äº†ï¼Œè¯·ç¨åå†è¯•~', 2, null, false)\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br")])]),a("h3",{attrs:{id:"é¡¹ç›®æ‰“åŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¹ç›®æ‰“åŒ…"}},[s._v("#")]),s._v(" é¡¹ç›®æ‰“åŒ…")]),s._v(" "),a("h4",{attrs:{id:"ç›®æ ‡-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡-22"}},[s._v("#")]),s._v(" ç›®æ ‡")]),s._v(" "),a("ul",[a("li",[s._v("èƒ½å¤Ÿé…ç½®ç”Ÿäº§ç¯å¢ƒçš„ç¯å¢ƒå˜é‡")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå®Œæˆç®€æ˜“çš„æ‰“åŒ…")]),s._v(" "),a("li",[s._v("çŸ¥é“reactä¸­å¦‚æœè¦é…ç½®webpackçš„ä¸¤ç§æ–¹å¼")]),s._v(" "),a("li",[s._v("çŸ¥é“ antd-mobile æŒ‰éœ€åŠ è½½çš„å¥½å¤„")]),s._v(" "),a("li",[s._v("çŸ¥é“è·¯ç”±ä»£ç åˆ†å‰²çš„å¥½å¤„")]),s._v(" "),a("li",[s._v("èƒ½å¤Ÿå‚ç…§ç¬”è®°æ¥è¿›è¡Œ æŒ‰éœ€åŠ è½½é…ç½®å’Œä»£ç åˆ†å‰²é…ç½®ï¼Œç„¶åæ‰“åŒ…")]),s._v(" "),a("li",[s._v("èƒ½å¤ŸçŸ¥é“å¦‚ä½•è§£å†³reactä¸­è·¨åŸŸé—®é¢˜")])]),s._v(" "),a("h4",{attrs:{id:"ç®€æ˜“æ‰“åŒ…-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®€æ˜“æ‰“åŒ…-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" ç®€æ˜“æ‰“åŒ…ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("æ‰“å¼€ create-react-app è„šæ‰‹æ¶çš„ "),a("a",{attrs:{href:"https://facebook.github.io/create-react-app/docs/deployment",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ‰“åŒ…æ–‡æ¡£è¯´æ˜"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("åœ¨æ ¹ç›®å½•åˆ›å»º .env.production æ–‡ä»¶ï¼Œé…ç½®ç”Ÿäº§ç¯å¢ƒçš„æ¥å£åŸºç¡€è·¯å¾„")])]),s._v(" "),a("li",[a("p",[s._v("åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œæ‰“å¼€ç»ˆç«¯")])]),s._v(" "),a("li",[a("p",[s._v("è¾“å…¥å‘½ä»¤ï¼š yarn buildï¼Œè¿›è¡Œé¡¹ç›®æ‰“åŒ…ï¼Œç”Ÿæˆbuildæ–‡ä»¶å¤¹ï¼ˆæ‰“åŒ…å¥½çš„é¡¹ç›®å†…å®¹ï¼‰")])]),s._v(" "),a("li",[a("p",[s._v("å°†buildç›®å½•ä¸­çš„æ–‡ä»¶å†…å®¹ï¼Œéƒ¨ç½²åˆ°éƒ½æœåŠ¡å™¨ä¸­å³å¯")])]),s._v(" "),a("li",[a("p",[s._v("ä¹Ÿå¯ä»¥é€šè¿‡ç»ˆç«¯ä¸­çš„æç¤ºï¼Œä½¿ç”¨ serve-s build æ¥æœ¬åœ°æŸ¥çœ‹ï¼ˆéœ€è¦å…¨å±€å®‰è£…å·¥å…·åŒ… serveï¼‰")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("å¦‚æœå‡ºç°ä»¥ä¸‹æç¤ºï¼Œå°±ä»£è¡¨æ‰“åŒ…æˆåŠŸï¼Œåœ¨æ ¹ç›®å½•ä¸­å°±ä¼šç”Ÿæˆä¸€ä¸ªbuildæ–‡ä»¶å¤¹")])])])]),s._v(" "),a("h4",{attrs:{id:"è„šæ‰‹æ¶çš„é…ç½®è¯´æ˜-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è„šæ‰‹æ¶çš„é…ç½®è¯´æ˜-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" è„šæ‰‹æ¶çš„é…ç½®è¯´æ˜ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("p",[s._v("create-react-app ä¸­éšè—äº† webpackçš„é…ç½®ï¼Œéšè—åœ¨react-scriptsåŒ…ä¸­")]),s._v(" "),a("p",[s._v("ä¸¤ç§æ–¹å¼æ¥ä¿®æ”¹")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("è¿è¡Œå‘½ä»¤ npm run eject é‡Šæ”¾ webpacké…ç½®ï¼ˆæ³¨æ„ï¼šä¸å¯é€†ï¼‰")])]),s._v(" "),a("li",[a("p",[s._v("å¦‚æœæ‚¨å¯¹æ„å»ºå·¥å…·å’Œé…ç½®é€‰æ‹©ä¸æ»¡æ„ï¼Œæ‚¨å¯ä»¥ejectéšæ—¶è¿›è¡Œã€‚æ­¤å‘½ä»¤å°†ä»é¡¹ç›®ä¸­åˆ é™¤å•ä¸ªæ„å»ºä¾èµ–é¡¹ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("ç›¸åï¼Œå®ƒä¼šå°†æ‰€æœ‰é…ç½®æ–‡ä»¶å’Œä¼ é€’ä¾èµ–é¡¹ï¼ˆWebpackï¼ŒBabelï¼ŒESLintç­‰ï¼‰ä½œä¸ºä¾èµ–é¡¹å¤åˆ¶åˆ°é¡¹ç›®ä¸­package.jsonã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œä¾èµ–å…³ç³»å’Œå¼€å‘ä¾èµ–å…³ç³»ä¹‹é—´çš„åŒºåˆ«å¯¹äºç”Ÿæˆé™æ€åŒ…çš„å‰ç«¯åº”ç”¨ç¨‹åºæ¥è¯´æ˜¯éå¸¸éšæ„çš„ã€‚æ­¤å¤–ï¼Œå®ƒæ›¾ç»å¯¼è‡´æŸäº›æ‰˜ç®¡å¹³å°å‡ºç°é—®é¢˜ï¼Œè¿™äº›æ‰˜ç®¡å¹³å°æ²¡æœ‰å®‰è£…å¼€å‘ä¾èµ–é¡¹ï¼ˆå› æ­¤æ— æ³•åœ¨æœåŠ¡å™¨ä¸Šæ„å»ºé¡¹ç›®æˆ–åœ¨éƒ¨ç½²ä¹‹å‰å¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼‰ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±é‡æ–°æ’åˆ—ä¾èµ–é¡¹package.jsonã€‚")])]),s._v(" "),a("li",[a("p",[s._v("é™¤äº†ejectä»ç„¶å¯ä»¥ä½¿ç”¨æ‰€æœ‰å‘½ä»¤ï¼Œä½†å®ƒä»¬å°†æŒ‡å‘å¤åˆ¶çš„è„šæœ¬ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è°ƒæ•´å®ƒä»¬ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä½ æ˜¯ç‹¬ç«‹çš„ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("ä½ ä¸å¿…ä½¿ç”¨ejectã€‚ç­–åˆ’çš„åŠŸèƒ½é›†é€‚ç”¨äºä¸­å°å‹éƒ¨ç½²ï¼Œæ‚¨ä¸åº”è§‰å¾—æœ‰ä¹‰åŠ¡ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœæ‚¨å‡†å¤‡å¥½å®ƒæ—¶æ— æ³•è‡ªå®šä¹‰æ­¤å·¥å…·å°†æ— ç”¨")])]),s._v(" "),a("li",[a("p",[s._v("é€šè¿‡ç¬¬ä¸‰æ–¹åŒ…é‡å†™ webpacké…ç½®ï¼ˆæ¯”å¦‚ï¼šreact-app-rewired ç­‰ï¼‰")])])]),s._v(" "),a("h4",{attrs:{id:"antd-mobile-æŒ‰éœ€åŠ è½½-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#antd-mobile-æŒ‰éœ€åŠ è½½-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" antd-mobile æŒ‰éœ€åŠ è½½ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("æ‰“å¼€ antd-mobile åœ¨create-react-appä¸­çš„ä½¿ç”¨æ–‡æ¡£")])]),s._v(" "),a("li",[a("p",[s._v("å®‰è£… yarn add react-app-rewired customize-craï¼ˆç”¨äºè„šæ‰‹æ¶é‡å†™é…ç½®ï¼‰")])]),s._v(" "),a("li",[a("p",[s._v("ä¿®æ”¹package.json ä¸­çš„ scripts")])]),s._v(" "),a("li",[a("p",[s._v("åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ï¼š config-overrides.js(ç”¨äºè¦†ç›–è„šæ‰‹æ¶é»˜è®¤é…ç½®)")])]),s._v(" "),a("li",[a("p",[s._v("å®‰è£… yarn add babel-plugin-import æ’ä»¶ï¼ˆç”¨äºæŒ‰éœ€åŠ è½½ç»„ä»¶ä»£ç å’Œæ ·å¼ï¼‰")])]),s._v(" "),a("li",[a("p",[s._v("ä¿®æ”¹ config-overrides.js æ–‡ä»¶ï¼Œé…ç½®æŒ‰éœ€åŠ è½½åŠŸèƒ½")])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const { override, fixBabelImports } = require('customize-cra');\nmodule.exports = override(\n  fixBabelImports('import', {\n    libraryName: 'antd-mobile',\n    style: 'css',\n  }),\n);\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("é‡å¯é¡¹ç›®ï¼ˆyarn startï¼‰")]),s._v(" "),a("p",[s._v("ç§»é™¤index.js ä¸­å¯¼å…¥çš„ antd-mobileæ ·å¼æ–‡ä»¶")]),s._v(" "),a("p",[s._v("å°†index.css ç§»åŠ¨åˆ°Appåé¢ï¼Œè®©index.css ä¸­çš„é¡µé¢èƒŒæ™¯ç”Ÿæ•ˆ")]),s._v(" "),a("p",[s._v("æ‰“å®ŒåŒ…åï¼Œä½ ä¼šå‘ç°ï¼Œä¸¤æ¬¡æ‰“åŒ…çš„ä½“ç§¯ä¼šæœ‰å˜åŒ–ï¼Œè¿™æ ·è¾¾åˆ°äº†ä¸€ä¸ªä»£ç ä½“ç§¯ä¼˜åŒ–çš„å±‚é¢")]),s._v(" "),a("h4",{attrs:{id:"åŸºäºè·¯ç”±ä»£ç åˆ†å‰²-â˜…â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºè·¯ç”±ä»£ç åˆ†å‰²-â˜…â˜…â˜…"}},[s._v("#")]),s._v(" åŸºäºè·¯ç”±ä»£ç åˆ†å‰²ï¼ˆâ˜…â˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("ç›®çš„ï¼šå°†ä»£ç æŒ‰ç…§è·¯ç”±è¿›è¡Œåˆ†å‰²ï¼Œåªåœ¨è®¿é—®è¯¥è·¯ç”±çš„æ—¶å€™æ‰åŠ è½½è¯¥ç»„ä»¶å†…å®¹ï¼Œæé«˜é¦–å±åŠ è½½é€Ÿåº¦")]),s._v(" "),a("li",[s._v("å¦‚ä½•å®ç°ï¼Ÿ React.lazy() æ–¹æ³• + import() æ–¹æ³•ã€Suspenseç»„ä»¶ï¼ˆReact Code-Splittingæ–‡æ¡£ï¼‰")]),s._v(" "),a("li",[s._v("React.lazy() ä½œç”¨ï¼š å¤„ç†åŠ¨æ€å¯¼å…¥çš„ç»„ä»¶ï¼Œè®©å…¶åƒæ™®é€šç»„ä»¶ä¸€æ ·ä½¿ç”¨")]),s._v(" "),a("li",[s._v("import(â€˜ç»„ä»¶è·¯å¾„â€™)ï¼Œä½œç”¨ï¼šå‘Šè¯‰webpackï¼Œè¿™æ˜¯ä¸€ä¸ªä»£ç åˆ†å‰²ç‚¹ï¼Œè¿›è¡Œä»£ç åˆ†å‰²")]),s._v(" "),a("li",[s._v("Suspenseç»„ä»¶ï¼šç”¨æ¥åœ¨åŠ¨æ€ç»„ä»¶åŠ è½½å®Œæˆä¹‹å‰ï¼Œæ˜¾ç¤ºä¸€äº›loadingå†…å®¹ï¼Œéœ€è¦åŒ…è£¹åŠ¨æ€ç»„ä»¶å†…å®¹")])]),s._v(" "),a("h4",{attrs:{id:"å…¶ä»–æ€§èƒ½ä¼˜åŒ–-â˜…â˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–æ€§èƒ½ä¼˜åŒ–-â˜…â˜…"}},[s._v("#")]),s._v(" å…¶ä»–æ€§èƒ½ä¼˜åŒ–ï¼ˆâ˜…â˜…ï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("React.js ä¼˜åŒ–æ€§èƒ½"),a("a",{attrs:{href:"https://reactjs.org/docs/docs/optimizing-performance.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ–‡æ¡£"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("react-virtualizedåªåŠ è½½ç”¨åˆ°çš„ç»„ä»¶ "),a("a",{attrs:{href:"https://github.com/bvaughn/react-virtualized#getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ–‡æ¡£"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("è„šæ‰‹æ¶é…ç½® è§£å†³è·¨åŸŸé—®é¢˜\n"),a("ul",[a("li",[s._v("å®‰è£… http-proxy-middleware")])])])]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ npm install http-proxy-middleware --save\n$ # or\n$ yarn add http-proxy-middleware\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("åˆ›å»º"),a("code",[s._v("src/setupProxy.js")]),s._v("å¹¶æ”¾ç½®ä»¥ä¸‹å†…å®¹")]),s._v(" "),a("div",{staticClass:"language-react line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const proxy = require('http-proxy-middleware');\n\nmodule.exports = function(app) {\n  app.use(proxy('/api', { target: 'http://localhost:5000/' }));\n};\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("**æ³¨æ„ï¼š**æ— éœ€åœ¨ä»»ä½•ä½ç½®å¯¼å…¥æ­¤æ–‡ä»¶ã€‚å®ƒåœ¨å¯åŠ¨å¼€å‘æœåŠ¡å™¨æ—¶è‡ªåŠ¨æ³¨å†Œï¼Œæ­¤æ–‡ä»¶ä»…æ”¯æŒNodeçš„JavaScriptè¯­æ³•ã€‚è¯·åŠ¡å¿…ä»…ä½¿ç”¨æ”¯æŒçš„è¯­è¨€åŠŸèƒ½ï¼ˆå³ä¸æ”¯æŒFlowï¼ŒESæ¨¡å—ç­‰ï¼‰ã€‚å°†è·¯å¾„ä¼ é€’ç»™ä»£ç†åŠŸèƒ½å…è®¸æ‚¨åœ¨è·¯å¾„ä¸Šä½¿ç”¨é€šé…å’Œ/æˆ–æ¨¡å¼åŒ¹é…ï¼Œè¿™æ¯”å¿«é€Ÿè·¯ç”±åŒ¹é…æ›´çµæ´»")])]),s._v(" "),a("h3",{attrs:{id:"å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸‹-æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨web-ä¸‹-æ€»ç»“"}},[s._v("#")]),s._v(" å¥½å®¢ç§Ÿæˆ¿ç§»åŠ¨Webï¼ˆä¸‹ï¼‰-æ€»ç»“")]),s._v(" "),a("ul",[a("li",[s._v("ç™»å½•æ¨¡å—ï¼šä½¿ç”¨Fomikç»„ä»¶å®ç°äº†è¡¨å•å¤„ç†å’Œè¡¨å•æ ¡éªŒã€å°è£…é‰´æƒè·¯ç”±AuthRouteå’Œaxiosæ‹¦æˆªå™¨å®ç°ç™»å½•è®¿é—®æ§åˆ¶")]),s._v(" "),a("li",[s._v("æˆ‘çš„æ”¶è—æ¨¡å—ï¼šæ·»åŠ ã€å–æ¶ˆæ”¶è—")]),s._v(" "),a("li",[s._v("å‘å¸ƒæˆ¿æºæ¨¡å—ï¼šå°åŒºå…³é”®è¯æœç´¢ã€å›¾ç‰‡ä¸Šä¼ ã€å‘å¸ƒæˆ¿æºä¿¡æ¯")]),s._v(" "),a("li",[s._v("é¡¹ç›®æ‰“åŒ…å’Œä¼˜åŒ–ï¼šantd-mobileç»„ä»¶åº“æŒ‰éœ€åŠ è½½ï¼ŒåŸºäºè·¯ç”±çš„ä»£ç åˆ†å‰²å®ç°ç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œæé«˜äº†é¦–å±åŠ è½½é€Ÿåº¦")])])])}),[],!1,null,null,null);n.default=e.exports}}]);