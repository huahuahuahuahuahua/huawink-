<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>go语言学习</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.c01bdb3b.js" as="script"><link rel="preload" href="/assets/js/2.98bdd3d0.js" as="script"><link rel="preload" href="/assets/js/10.a432c19a.js" as="script"><link rel="prefetch" href="/assets/js/11.9775e6d2.js"><link rel="prefetch" href="/assets/js/12.59db14cb.js"><link rel="prefetch" href="/assets/js/13.83aaf804.js"><link rel="prefetch" href="/assets/js/14.ce5c2f55.js"><link rel="prefetch" href="/assets/js/3.635c6cb2.js"><link rel="prefetch" href="/assets/js/4.fbcf4621.js"><link rel="prefetch" href="/assets/js/5.ec4b3f90.js"><link rel="prefetch" href="/assets/js/6.27888615.js"><link rel="prefetch" href="/assets/js/7.fd48b8cc.js"><link rel="prefetch" href="/assets/js/8.2f8c896c.js"><link rel="prefetch" href="/assets/js/9.259d7196.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="go"><a href="#go" class="header-anchor">#</a> go😀</h1> <p>一招完美解决vscode安装go插件失败问题</p> <h6 id="vscode-安装go插件"><a href="#vscode-安装go插件" class="header-anchor">#</a> vscode 安装go插件</h6> <p>前置</p> <p>用vscode新建一个go文件</p> <p>使用go mod 代理来安装</p> <p>前置</p> <p>从https://studygolang.com/dl下载go1.14.6.windows-amd64.msi安装即可，安装路径选择默认，安装完成后会自动帮你配置环境变量不用自己配置了</p> <p>打开cmd，查看是否安装完成</p> <p>这样就代表已经成功安装了</p> <p>用vscode新建一个go文件</p> <p>vscode会提示你安装go插件</p> <p>点击install all</p> <p>这时候会安装失败</p> <p>Installing github.com/mdempsky/gocode FAILED</p> <p>Installing github.com/uudashr/gopkgs/v2/cmd/gopkgs FAILED</p> <p>Installing github.com/ramya-rao-a/go-outline FAILED</p> <p>Installing github.com/acroca/go-symbols FAILED</p> <p>Installing golang.org/x/tools/cmd/guru FAILED</p> <p>Installing golang.org/x/tools/cmd/gorename FAILED</p> <p>Installing github.com/cweill/gotests/… FAILED</p> <p>Installing github.com/fatih/gomodifytags FAILED</p> <p>Installing github.com/josharian/impl FAILED</p> <p>Installing github.com/davidrjenni/reftools/cmd/fillstruct FAILED</p> <p>Installing github.com/haya14busa/goplay/cmd/goplay FAILED</p> <p>Installing github.com/godoctor/godoctor FAILED</p> <p>Installing github.com/go-delve/delve/cmd/dlv FAILED</p> <p>Installing github.com/stamblerre/gocode FAILED</p> <p>Installing github.com/rogpeppe/godef FAILED</p> <p>Installing github.com/sqs/goreturns FAILED</p> <p>Installing golang.org/x/lint/golint FAILED</p> <p>原因你懂的</p> <p>使用go mod 代理来安装</p> <p>https://goproxy.io是一个国内的代理</p> <p>执行</p> <p>go env -w GO111MODULE=on</p> <p>go env -w GOPROXY=https://goproxy.io,direct</p> <p>1</p> <p>2</p> <p>关闭vscode重新打开，再次点击install all</p> <p>成功安装</p> <p>开启go mod 代理后也可以手动安装</p> <p>go get -u -v github.com/mdempsky/gocode</p> <p>go get -u -v github.com/uudashr/gopkgs/v2/cmd/gopkgs</p> <p>go get -u -v github.com/ramya-rao-a/go-outline</p> <p>go get -u -v github.com/acroca/go-symbols</p> <p>go get -u -v golang.org/x/tools/cmd/guru</p> <p>go get -u -v golang.org/x/tools/cmd/gorename</p> <p>go get -u -v github.com/cweill/gotests/...</p> <p>go get -u -v github.com/fatih/gomodifytags</p> <p>go get -u -v github.com/josharian/impl</p> <p>go get -u -v github.com/davidrjenni/reftools/cmd/fillstruct</p> <p>go get -u -v github.com/haya14busa/goplay/cmd/goplay</p> <p>go get -u -v github.com/godoctor/godoctor</p> <p>go get -u -v github.com/go-delve/delve/cmd/dlv</p> <p>go get -u -v github.com/stamblerre/gocode</p> <p>go get -u -v github.com/rogpeppe/godef</p> <p>go get -u -v github.com/sqs/goreturns</p> <p>go get -u -v golang.org/x/lint/golint</p> <h6 id="第一个项目"><a href="#第一个项目" class="header-anchor">#</a> 第一个项目</h6> <p>package main</p> <p>import &quot;fmt&quot;</p> <p>func main() {</p> <p>fmt.Println(&quot;hello,world&quot;)</p> <p>}</p> <p>go run .\hello.go</p> <p>可执行go build .\hello.go</p> <p>![img](file:///C:/Users/10177/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg)</p> <p>Go build报错</p> <p>go: creating new go.mod: module hello.go</p> <p>go: to add module requirements and sums:</p> <p>​    go mod tidy</p> <p>go mod init .\hello.go</p> <h6 id="初始化项目即可"><a href="#初始化项目即可" class="header-anchor">#</a> 初始化项目即可</h6> <p>.\hello.go.exe运行文件</p> <p>​</p> <div class="language-go extra-class"><pre class="language-go"><code># 下划线连接
student_name

# 小驼峰法式 <span class="token punctuation">(</span>推荐方式<span class="token punctuation">)</span>
studentName

# 大驼峰法式
StudentName

<span class="token operator">*</span> <span class="token keyword">var</span> <span class="token keyword">const</span> ：     变量和常量的声明
<span class="token operator">*</span> <span class="token keyword">var</span> varName <span class="token keyword">type</span>  或者 varName <span class="token punctuation">:</span> <span class="token operator">=</span> value
<span class="token operator">*</span> <span class="token keyword">package</span> and <span class="token keyword">import</span><span class="token punctuation">:</span> 导入
<span class="token operator">*</span> <span class="token keyword">func</span>：   用于定义函数和方法
<span class="token operator">*</span> <span class="token keyword">return</span> ：用于从函数返回
<span class="token operator">*</span> <span class="token keyword">defer</span> someCode ：在函数退出之前执行
<span class="token operator">*</span> <span class="token keyword">go</span> <span class="token punctuation">:</span>      用于并行
<span class="token operator">*</span> <span class="token keyword">select</span>    用于选择不同类型的通讯
<span class="token operator">*</span> <span class="token keyword">interface</span> 用于定义接口
<span class="token operator">*</span> <span class="token keyword">struct</span>    用于定义抽象数据类型
<span class="token operator">*</span> <span class="token keyword">break</span>、<span class="token keyword">case</span>、<span class="token keyword">continue</span>、<span class="token keyword">for</span>、<span class="token keyword">fallthrough</span>、<span class="token keyword">else</span>、<span class="token keyword">if</span>、<span class="token keyword">switch</span>、<span class="token keyword">goto</span>、<span class="token keyword">default</span> 流程控制
<span class="token operator">*</span> <span class="token keyword">chan</span>  用于channel通讯
<span class="token operator">*</span> <span class="token keyword">type</span>  用于声明自定义类型
<span class="token operator">*</span> <span class="token keyword">map</span>   用于声明<span class="token keyword">map</span>类型数据
<span class="token operator">*</span> <span class="token keyword">range</span> 用于读取slice、<span class="token keyword">map</span>、channel数据

# 单一声明<span class="token punctuation">:</span> 变量声明以关键字<span class="token keyword">var</span>开头，变量类型放在变量的后面，行尾无需分号。
<span class="token keyword">var</span> name <span class="token builtin">string</span>
<span class="token keyword">var</span> age <span class="token builtin">int</span>
<span class="token keyword">var</span> isOk <span class="token builtin">bool</span>

# 批量声明<span class="token punctuation">:</span> 每声明一个变量就需要写<span class="token keyword">var</span>关键字会比较繁琐，<span class="token keyword">go</span>语言中还支持批量变量声明。
<span class="token keyword">var</span> <span class="token punctuation">(</span>
  a <span class="token builtin">string</span>
  b <span class="token builtin">int</span>
  c <span class="token builtin">bool</span>
  d <span class="token builtin">float32</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//打印</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	name <span class="token operator">=</span> <span class="token string">&quot;立&quot;</span>
	age <span class="token operator">=</span> <span class="token number">16</span>
	isOk <span class="token operator">=</span> <span class="token boolean">true</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;hello,world&quot;</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;name:%s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>isOk<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//result</span>
hello<span class="token punctuation">,</span>world
name<span class="token punctuation">:</span>立<span class="token number">16</span>
<span class="token boolean">true</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//简短声明定义，只能在函数中使用</span>
s1 <span class="token operator">:=</span> <span class="token string">&quot;wanghaibi&quot;</span>
</code></pre></div><h6 id="匿名变量用一个下划线-表示"><a href="#匿名变量用一个下划线-表示" class="header-anchor">#</a> 匿名变量用一个下划线(_)表示</h6> <p>并且匿名变量不占用命名空间，不会分配内存，所以匿名变量之间不存在重复声明。 (在Lua等编程语言里，匿名变量也被叫做哑元变量。)</p> <p><code>func foo() (int, string) { return 10, &quot;Q1mi&quot; } func main() { x, _ := foo() _, y := foo()</code></p> <h6 id="常量"><a href="#常量" class="header-anchor">#</a> 常量</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 单一声明: 声明了pi和e这两个常量之后，在整个程序运行期间它们的值都不能再发生变化了。</span>
<span class="token keyword">const</span> pi <span class="token operator">=</span> <span class="token number">3.1415</span>
<span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token number">2.7182</span>

<span class="token comment">// 批量声明</span>
<span class="token keyword">const</span> <span class="token punctuation">(</span>
  pi <span class="token operator">=</span> <span class="token number">3.1415</span>
  e <span class="token operator">=</span> <span class="token number">2.7182</span>
<span class="token punctuation">)</span>
</code></pre></div><p>ota - 常量计数器
描述: iota是go语言的常量计数器，只能在常量的表达式中使用。</p> <p>Tips : iota在const关键字出现时将被重置为0, const中每新增一行常量声明将使iota计数一次 (iota可理解为const语句块中的行索引)。</p> <p>应用场景: 使用iota能简化定义，在定义枚举时很有用。</p> <p>下面示例中几个常见的iota示例:</p> <p>1.使用_跳过某些值</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> <span class="token punctuation">(</span>
  n1 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
  n2        <span class="token comment">//1</span>
  <span class="token boolean">_</span>
  n4        <span class="token comment">//3</span>
<span class="token punctuation">)</span>
<span class="token number">2.</span><span class="token boolean">iota</span>声明中间插队

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  n1 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
  n2 <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment">//100</span>
  n3 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//2</span>
  n4        <span class="token comment">//3</span>
<span class="token punctuation">)</span>
<span class="token keyword">const</span> n5 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
<span class="token number">3.</span>多个<span class="token boolean">iota</span>定义在一行

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token comment">//1,2</span>
  c<span class="token punctuation">,</span> d                      <span class="token comment">//2,3</span>
  e<span class="token punctuation">,</span> f                      <span class="token comment">//3,4</span>
<span class="token punctuation">)</span> 
</code></pre></div><p>输出</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token number">2</span> <span class="token number">3</span> <span class="token number">3</span> <span class="token number">4</span>
<span class="token number">1024</span> <span class="token number">1048576</span> <span class="token number">1073741824</span> <span class="token number">1099511627776</span> <span class="token number">1125899906842624</span>
</code></pre></div><h6 id="特殊整型"><a href="#特殊整型" class="header-anchor">#</a> 特殊整型</h6> <p><img src="https://i0.hdslb.com/bfs/article/41174379a6968c2226a0fc60f0b19d2ce045dd0d.png@806w_260h_progressive.webp" alt="img"></p> <h6 id="整型"><a href="#整型" class="header-anchor">#</a> 整型</h6> <p><img src="https://i0.hdslb.com/bfs/article/4a251c64e46b578d48f7bbd228aaa7cda333967e.png@938w_554h_progressive.webp" alt="img"></p> <h6 id="浮点数和布尔类型"><a href="#浮点数和布尔类型" class="header-anchor">#</a> 浮点数和布尔类型</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> floatnumber <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1024.00</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;数据类型: %T , floatnumber: %.1f\n&quot;</span><span class="token punctuation">,</span> floatnumber<span class="token punctuation">,</span> floatnumber<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f,%.2f\n&quot;</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>Pi<span class="token punctuation">,</span> math<span class="token punctuation">.</span>Pi<span class="token punctuation">)</span> <span class="token comment">// 保留小数点后两位</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;float32的浮点数的最大范围 :%d ~ %f\n&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxFloat32<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;float64的浮点数的最大范围 :%d ~ %f\n&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxFloat64<span class="token punctuation">)</span> 
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//布尔类型</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;# 4.布尔型示例:&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> flag <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;数据类型: %T ,任意类型输出: %v&quot;</span><span class="token punctuation">,</span> flag<span class="token punctuation">,</span> flag<span class="token punctuation">)</span>  <span class="token comment">// 数据类型: bool ,任意类型输出: true </span>
</code></pre></div><h6 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h6> <div class="language-go extra-class"><pre class="language-go"><code>	s4 <span class="token operator">:=</span> <span class="token string">`
  这是一个
        多行字符串案例！
  This is mutlilineString Example！
  Let's Go   // 特点：原样输出
  `</span>
<span class="token comment">/*  这是一个        多行字符串案例！

  This is mutlilineString Example！ 

 Let's Go  
 */</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span>

	<span class="token comment">// 转义演示  // 特点：原样输出</span>
	<span class="token comment">//   'c:\weiyigeek\go\hello' </span>
	s5 <span class="token operator">:=</span> <span class="token string">&quot;'c:\\weiyigeek\\go\\hello'&quot;</span>
	<span class="token comment">//c:\weiyigeek\go\hello</span>
	s6 <span class="token operator">:=</span> <span class="token string">`c:\weiyigeek\go\hello`</span>
</code></pre></div><table><thead><tr><th>\\</th> <th style="text-align:left;">代表一个反斜线字符'''</th> <th>092</th></tr></thead> <tbody></tbody></table> <p><img src="https://i0.hdslb.com/bfs/article/478fe9a354e7c36e7cf403019faed805097c970f.png@651w_483h_progressive.webp" alt="img"></p> <h6 id="byte和rune类型"><a href="#byte和rune类型" class="header-anchor">#</a> byte和rune类型</h6> <p>uint8类型，或者叫 byte 型，代表了ASCII码的一个字符（1B）</p> <p>rune类型，代表一个 UTF-8字符, 并且一个rune字符由一个或多个byte组成（3B~4B）。</p> <div class="language-go extra-class"><pre class="language-go"><code>	s2 <span class="token operator">:=</span> <span class="token string">&quot;白萝卜&quot;</span>
	s3 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>
	s3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'红'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T %T \n&quot;</span><span class="token punctuation">,</span> s3<span class="token punctuation">,</span> s2<span class="token punctuation">)</span>	

红萝卜
白萝卜
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int32</span> <span class="token builtin">string</span> 

</code></pre></div><p>// math.Sqrt() 接收的参数是float64类型</p> <h6 id="if-else"><a href="#if-else" class="header-anchor">#</a> if else</h6> <p><code>func ifDemo2() { score := 88 // 注意变量作用域的影响 if score := 65; score &gt;= 90 { fmt.Println(&quot;A&quot;, score) } else if score &gt; 75 { fmt.Println(&quot;B&quot;, score) } else { fmt.Println(&quot;C&quot;, score) // 输出结果 } fmt.Println(&quot;score : &quot;, score) }</code></p> <h6 id="for"><a href="#for" class="header-anchor">#</a> for</h6> <p><code>s1 := &quot;Hello,Go 输出的是中文&quot; for i, v := range s1 { fmt.Printf(&quot;Index : %d ,Value : %s , Number : %v \n&quot;, i, string(v), v) }</code></p> <h6 id="switch"><a href="#switch" class="header-anchor">#</a> switch</h6> <p>`func switchDemo1() {
finger := 3
switch finger {
case 1:
fmt.Println(&quot;大拇指&quot;)
case 2:
fmt.Println(&quot;食指&quot;)
case 3:
fmt.Println(&quot;中指&quot;)
case 4:
fmt.Println(&quot;无名指&quot;)
case 5:
fmt.Println(&quot;小拇指&quot;)
default:
fmt.Println(&quot;无效的输入！&quot;)
}
}</p> <p><code>func testSwitch3() { switch n := 7; n { case 1, 3, 5, 7, 9: fmt.Println(&quot;奇数&quot;) case 2, 4, 6, 8: fmt.Println(&quot;偶数&quot;) default: fmt.Println(n) } }</code></p> <h6 id="goto"><a href="#goto" class="header-anchor">#</a> goto</h6> <p><code>func gotoDemo2() { for i := 0; i &lt; 10; i++ { for j := 0; j &lt; 10; j++ { if j == 2 { // 设置退出标签 goto breakTag } fmt.Printf(&quot;%v-%v\n&quot;, i, j) } } return // 标签 breakTag: fmt.Println(&quot;正结束for循环&quot;) fmt.Println(&quot;已结束for循环&quot;) }</code></p> <h6 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token number">3.</span>方法三<span class="token punctuation">(</span>非常值得学习<span class="token punctuation">)</span>

我们还可以使用指定索引值的方式来初始化数组，例如<span class="token punctuation">:</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span>
  b <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>      <span class="token comment">// [0 100 0 0 0 0 0 0 200 ]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>                  <span class="token comment">// [0 1 0 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;type of a:%T\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// type of a:[4]int</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="数组遍历"><a href="#数组遍历" class="header-anchor">#</a> 数组遍历</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token number">3.</span>数组的遍历
遍历数组a有以下两种方法：

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;深圳&quot;</span><span class="token punctuation">}</span>
	<span class="token comment">// 方法1：for循环遍历</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 方法2：for range遍历</span>
	<span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> a <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="多维数组"><a href="#多维数组" class="header-anchor">#</a> 多维数组</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
		<span class="token punctuation">{</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span><span class="token string">&quot;广州&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;深圳&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span><span class="token string">&quot;成都&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;重庆&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[[北京 上海] [广州 深圳] [成都 重庆]]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//支持索引取值:重庆</span>
<span class="token punctuation">}</span>

	<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">float32</span><span class="token punctuation">{</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">}</span>
	e <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">}</span>
	<span class="token comment">// 方式3.使用指定索引值的方式来初始化数组</span>
	<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span> <span class="token comment">// 只有 下标为1的其值为1，下标为3的其值为8，初开之外都为0</span>
	g <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Weiyi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Geek&quot;</span><span class="token punctuation">}</span>
</code></pre></div><div class="language- extra-class"><pre><code>// 方式2 （推荐方式）
for i, v1 := range s2 {
	for j, v2 := range v1 {
		fmt.Printf(&quot;s2[%d][%d] = %v &quot;, i, j, v2)
	}
}
</code></pre></div><h6 id="go语言基础之切片"><a href="#go语言基础之切片" class="header-anchor">#</a> Go语言基础之切片</h6> <p>描述: 本文主要介绍Go语言中切片（slice）及它的基本使用。</p> <p>Q: 为什么要引入切片这个特性?
描述: 因为数组的长度是固定的并且数组长度属于类型的一部分，所以数组有很多的局限性</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> s1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	<span class="token keyword">var</span> s2 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span>
	s1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>
	s2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;沙河&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张江&quot;</span><span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2 <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;len1 %d,cap(s1):%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;len2 %d,cap(s2):%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span>

	a1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span>
	s3 <span class="token operator">:=</span> a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span>
	s4 <span class="token operator">:=</span> a1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//输出</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>沙河 张江<span class="token punctuation">]</span>
<span class="token boolean">false</span>
<span class="token boolean">false</span>
len1 <span class="token number">3</span><span class="token punctuation">,</span><span class="token function">cap</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">3</span>
len2 <span class="token number">2</span><span class="token punctuation">,</span><span class="token function">cap</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">2</span>
<span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre></div><h6 id="make"><a href="#make" class="header-anchor">#</a> make</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//长度为5，默认为0，容量为10</span>
s1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;s1=%v  cap(s1)=%d&quot;</span><span class="token punctuation">,</span> s1<span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//output</span>
s1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">]</span>  <span class="token function">cap</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">10</span>


</code></pre></div><h6 id="append"><a href="#append" class="header-anchor">#</a> append</h6> <div class="language-go extra-class"><pre class="language-go"><code>	s1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>
	s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
	s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token operator">...</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

<span class="token comment">//output</span>
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">23</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">5</span><span class="token punctuation">]</span>
</code></pre></div><h6 id="copy"><a href="#copy" class="header-anchor">#</a> copy</h6> <div class="language-go extra-class"><pre class="language-go"><code>	<span class="token comment">// copy()复制切片</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>
	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> a<span class="token punctuation">)</span>     <span class="token comment">//使用copy()函数将切片a中的元素复制到切片c</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span>
</code></pre></div><p>切片删除元素</p> <div class="language-go extra-class"><pre class="language-go"><code>	s1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>
	s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
	s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token operator">...</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
	s3 <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">23</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">23</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">23</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">5</span> <span class="token number">5</span><span class="token punctuation">]</span>

</code></pre></div><h6 id="nil"><a href="#nil" class="header-anchor">#</a> nil</h6> <div class="language-go extra-class"><pre class="language-go"><code>布尔类型的零值（初始值）为 <span class="token boolean">false</span>
数值类型的零值为 <span class="token number">0</span>
字符串类型的零值为空字符串<span class="token string">&quot;&quot;</span>
而指针、切片、映射、通道、函数和接口的零值则是 <span class="token boolean">nil</span>
</code></pre></div><p>总结:new 函数与 make函数的区别</p> <p>二者都是用来做内存分配的。</p> <p>make只用于slice、map以及channel的初始化，返回的还是这三个引用类型本身；</p> <p>new用于类型的内存分配，并且内存对应的值为类型零值，返回的是指向类型的指针。</p> <h6 id="map"><a href="#map" class="header-anchor">#</a> map</h6> <div class="language-go extra-class"><pre class="language-go"><code>	<span class="token keyword">var</span> m1 <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	m1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	m1<span class="token punctuation">[</span><span class="token string">&quot;理想&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9000</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span>

<span class="token keyword">map</span><span class="token punctuation">[</span>理想<span class="token punctuation">:</span><span class="token number">9000</span><span class="token punctuation">]</span>
</code></pre></div><h6 id="判断字符"><a href="#判断字符" class="header-anchor">#</a> 判断字符</h6> <div class="language-go extra-class"><pre class="language-go"><code>	s1 <span class="token operator">:=</span> <span class="token string">&quot;hello汉字&quot;</span>
	<span class="token keyword">var</span> count <span class="token builtin">int</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> c <span class="token operator">:=</span> <span class="token keyword">range</span> s1 <span class="token punctuation">{</span>
		<span class="token keyword">if</span> unicode<span class="token punctuation">.</span><span class="token function">Is</span><span class="token punctuation">(</span>unicode<span class="token punctuation">.</span>Han<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			count<span class="token operator">++</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>

<span class="token comment">//output </span>
<span class="token number">2</span>
</code></pre></div><h6 id="defer"><a href="#defer" class="header-anchor">#</a> defer</h6> <div class="language-go extra-class"><pre class="language-go"><code>	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span>

	<span class="token keyword">defer</span> <span class="token function">deferDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">defer</span> 把函数推进栈，然后再延后执行

</code></pre></div><h6 id="递归"><a href="#递归" class="header-anchor">#</a> 递归</h6> <h6 id="_1-类型定义"><a href="#_1-类型定义" class="header-anchor">#</a> 1.类型定义</h6> <p>描述: 在Go语言中有一些基本的数据类型，如string、int{}整型、float{}浮点型、boolean布尔等数据类型， Go语言中可以使用type关键字来定义自定义类型(实际上定义了一个全新的类型)。</p> <p>Tips : 我们可以基于内置的基本类型定义，也可以通过struct定义。</p> <p>示例演示:</p> <p>//将MyInt定义为int类型
<code>type MyInt int</code></p> <p>// TypeAlias只是Type的别名，本质上TypeAlias与Type是同一个类型
<code>type TypeAlias = Type</code>
我们之前见过的rune和byte就是类型别名，他们的定义如下：</p> <p><code>type byte = uint8</code> <code>type rune = int32</code></p> <h6 id="结构体"><a href="#结构体" class="header-anchor">#</a> 结构体</h6> <p>描述: 语言内置的基础数据类型是用来描述一个值的，而结构体是用来描述一组值的。比如一个人有名字、年龄和居住城市等，本质上是一种聚合型的数据类型。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 方式(0)</span>
<span class="token keyword">var</span> v <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 方式(1)</span>
<span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	name <span class="token builtin">string</span>
	city <span class="token builtin">string</span>
	age  <span class="token builtin">int8</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方式(2): 同样类型的字段也可以写在一行</span>
<span class="token keyword">type</span> person1 <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	name<span class="token punctuation">,</span> city <span class="token builtin">string</span>
	age   <span class="token builtin">int8</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//结构体实例化</span>
<span class="token keyword">type</span> demo <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  username <span class="token builtin">string</span>
  city <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1.方式1.利用`.`进行调用指定属性</span>
<span class="token keyword">var</span> m1 demo
demo<span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">&quot;WeiyiGeek&quot;</span>

<span class="token comment">// 2.方式2.使用键值对初始化</span>
m2 <span class="token operator">:=</span> demo <span class="token punctuation">{</span>username<span class="token punctuation">:</span> <span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span>city<span class="token punctuation">:</span><span class="token string">&quot;重庆&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span>
m2 <span class="token operator">:=</span> <span class="token operator">&amp;</span>demo <span class="token punctuation">{</span>username<span class="token punctuation">:</span> <span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span>city<span class="token punctuation">:</span><span class="token string">&quot;重庆&quot;</span><span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token comment">// ==&gt; new(demo) 此种方式会在结构体指针里面实践。</span>

<span class="token comment">// 3.方式3.使用值的列表初始化</span>
m3 <span class="token operator">:=</span> demo <span class="token punctuation">{</span>
  <span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;重庆&quot;</span>
<span class="token punctuation">}</span>
m3 <span class="token operator">:=</span> <span class="token operator">&amp;</span>demo <span class="token punctuation">{</span>
  <span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;重庆&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div><h6 id="结构体指针"><a href="#结构体指针" class="header-anchor">#</a> 结构体指针</h6> <div class="language-go extra-class"><pre class="language-go"><code>	<span class="token comment">// 方式1.结构体利用new实例化在内存中申请一块空间</span>
	<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span>
	<span class="token punctuation">(</span><span class="token operator">*</span>p1<span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;WeiyiGeek&quot;</span> <span class="token comment">// 取得地址存放的值并将其进行覆盖</span>
	p1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>              <span class="token comment">// Go语言的语法糖自动根据指针找到对应地址的值并将其值覆盖。</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Type of p1 : %T, Struct 实例化结果: %#v\n&quot;</span><span class="token punctuation">,</span> p1<span class="token punctuation">,</span> p1<span class="token punctuation">)</span>

	<span class="token comment">// 方式2.采用取地址&amp;符号进行实例化结构体(效果与new差不多)</span>
	p2 <span class="token operator">:=</span> <span class="token operator">&amp;</span>Person<span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">(</span><span class="token operator">*</span>p2<span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Golang&quot;</span> <span class="token comment">// 取得地址存放的值并将其进行覆盖</span>
	p2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span>           <span class="token comment">// Go语言的语法糖自动根据指针找到对应地址的值并将其值覆盖。</span>
	p2<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token boolean">true</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Type of p2 : %T, Struct 实例化结果: %#v\n&quot;</span><span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p2<span class="token punctuation">)</span>

	<span class="token comment">// 5.使用键值对初始化(也可以对结构体指针进行键值对初始化)</span>
	<span class="token comment">// 当某些字段没有初始值的时候，该字段可以不写。此时没有指定初始值的字段的值就是该字段类型的零值。</span>
	p3 <span class="token operator">:=</span> <span class="token operator">&amp;</span>Person<span class="token punctuation">{</span>
		name<span class="token punctuation">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;p3 Value = %#v \n&quot;</span><span class="token punctuation">,</span> p3<span class="token punctuation">)</span>

	<span class="token comment">// 6.使用值的列表初始化</span>
	<span class="token comment">// 初始化结构体的时候可以简写，也就是初始化的时候不写键，直接写值：</span>
	p4 <span class="token operator">:=</span> <span class="token operator">&amp;</span>Person<span class="token punctuation">{</span>
		<span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span>
		<span class="token number">20</span><span class="token punctuation">,</span>
		<span class="token boolean">false</span><span class="token punctuation">,</span>
		<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;p4 Value = %#v \n&quot;</span><span class="token punctuation">,</span> p4<span class="token punctuation">)</span>
</code></pre></div><h6 id="值接受者"><a href="#值接受者" class="header-anchor">#</a> 值接受者</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//  使用值接收者：SetAge2 设置p的年龄</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p Person<span class="token punctuation">)</span> <span class="token function">SetAge2</span><span class="token punctuation">(</span>newAge <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	p<span class="token punctuation">.</span>age <span class="token operator">=</span> newAge
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	p1 <span class="token operator">:=</span> <span class="token function">NewPerson</span><span class="token punctuation">(</span><span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
	p1<span class="token punctuation">.</span><span class="token function">Dream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 25</span>
	p1<span class="token punctuation">.</span><span class="token function">SetAge2</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// (*p1).SetAge2(30)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 25</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="指针类型的接收者"><a href="#指针类型的接收者" class="header-anchor">#</a> 指针类型的接收者</h6> <p>描述: 指针类型的接收者由一个结构体的指针组成，由于指针的特性，调用方法时修改接收者指针的任意成员变量，在方法结束后，修改都是有效的。此种方式就十分接近于其他语言中面向对象中的this或者self达到的效果。</p> <p>例如：我们为 Person 添加一个SetAge方法，来修改实例变量的年龄。</p> <p>// 使用指针接收者 : SetAge 设置p的年龄: 传入的 Person 实例化后的变量的地址 p ，并通过p.属性进行更改其内容存储的内容。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Person<span class="token punctuation">)</span> <span class="token function">SetAge</span><span class="token punctuation">(</span>newAge <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	p<span class="token punctuation">.</span>age <span class="token operator">=</span> newAge
<span class="token punctuation">}</span>
<span class="token comment">//调用</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	p1 <span class="token operator">:=</span> <span class="token function">NewPerson</span><span class="token punctuation">(</span><span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 25</span>
	p1<span class="token punctuation">.</span><span class="token function">SetAge</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 30</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="结构体匿名字段"><a href="#结构体匿名字段" class="header-anchor">#</a> 结构体匿名字段</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Anonymous <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	<span class="token builtin">string</span>
	<span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">demo4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a1 <span class="token operator">:=</span> Anonymous<span class="token punctuation">{</span><span class="token string">&quot;WeiyiGeek&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Struct: %#v ，字段1: %v , 字段2: %v \n&quot;</span><span class="token punctuation">,</span> a1<span class="token punctuation">,</span> a1<span class="token punctuation">.</span><span class="token builtin">string</span><span class="token punctuation">,</span> a1<span class="token punctuation">.</span><span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="结构体的-继承"><a href="#结构体的-继承" class="header-anchor">#</a> 结构体的“继承”</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 父</span>
<span class="token keyword">type</span> Animal <span class="token keyword">struct</span><span class="token punctuation">{</span> name <span class="token builtin">string</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Animal<span class="token punctuation">)</span> <span class="token function">voice</span><span class="token punctuation">(</span>v <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;我是动物，我叫 %v, 我会叫 %s,&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子</span>
<span class="token keyword">type</span> Dog <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	eat <span class="token builtin">string</span>
	<span class="token operator">*</span>Animal
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>Dog<span class="token punctuation">)</span> <span class="token function">love</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;狗狗喜欢吃的食物是 %v.\n&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>eat<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Cat <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	eat <span class="token builtin">string</span>
	<span class="token operator">*</span>Animal
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Cat<span class="token punctuation">)</span> <span class="token function">love</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;猫猫喜欢吃的食物是 %v.\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>eat<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre></div><h6 id="接口的定义"><a href="#接口的定义" class="header-anchor">#</a> 接口的定义</h6> <p>例如:面的代码中定义了猫和狗，然后它们都会叫，你会发现main函数中明显有重复的代码，如果我们后续再加上猪、青蛙等动物的话，我们的代码还会一直重复下去。那我们能不能把它们当成“能叫的动物”来处理呢？</p> <p>描述**: Go语言提倡面向接口编程,每个接口由数个方法组成，**接口的定义格式如下：</p> <p>type 接口类型名 interface{
方法名1( 参数列表1 ) 返回值列表1
方法名2( 参数列表2 ) 返回值列表2
…
}</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> speaker <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> cat <span class="token keyword">struct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c cat<span class="token punctuation">)</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;喵喵喵~&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">da</span><span class="token punctuation">(</span>x speaker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	x<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> c cat
	<span class="token function">da</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="一个类型实现多个接口"><a href="#一个类型实现多个接口" class="header-anchor">#</a> 一个类型实现多个接口</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// Sayer 接口</span>
<span class="token keyword">type</span> Sayer <span class="token keyword">interface</span> <span class="token punctuation">{</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token comment">// Mover 接口</span>
<span class="token keyword">type</span> Mover <span class="token keyword">interface</span> <span class="token punctuation">{</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token comment">// dog既可以实现Sayer接口，也可以实现Mover接口。</span>
<span class="token keyword">type</span> dog <span class="token keyword">struct</span> <span class="token punctuation">{</span>	name <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token comment">// 实现Sayer接口</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d dog<span class="token punctuation">)</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s会叫 汪汪汪\n&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token comment">// 实现Mover接口</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d dog<span class="token punctuation">)</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s会动 \n&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> dog<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;旺财&quot;</span><span class="token punctuation">}</span>
	<span class="token keyword">var</span> x Sayer <span class="token operator">=</span> a <span class="token comment">// 将dog类型赋予给Sayer接口类型的变量x，此时它可以调用say方法</span>
	<span class="token keyword">var</span> y Mover <span class="token operator">=</span> a <span class="token comment">// 将dog类型赋予给Mover接口类型的变量y，此时它可以调用move方法</span>
	x<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 旺财会叫 汪汪汪</span>
	y<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 旺财会动</span>
<span class="token punctuation">}</span>

</code></pre></div><h6 id="接口嵌套"><a href="#接口嵌套" class="header-anchor">#</a> 接口嵌套</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// Sayer 接口</span>
<span class="token keyword">type</span> Sayer <span class="token keyword">interface</span> <span class="token punctuation">{</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token comment">// Mover 接口</span>
<span class="token keyword">type</span> Mover <span class="token keyword">interface</span> <span class="token punctuation">{</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token comment">// 接口嵌套</span>
<span class="token keyword">type</span> animal <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	Sayer
	Mover
<span class="token punctuation">}</span> 
</code></pre></div><h6 id="空接口"><a href="#空接口" class="header-anchor">#</a> 空接口</h6> <p>空接口的定义
描述: 空接口是指没有定义任何方法的接口,因此任何类型都实现了空接口, 该类型的变量可以存储任意类型的变量。他会在我们以后GO编程中常常出现。</p> <div class="language-go extra-class"><pre class="language-go"><code>	<span class="token comment">// (2) 空接口作为map的值</span>
	<span class="token keyword">var</span> m1 <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>     <span class="token comment">// 类似于Java中的 Map&lt;String,Object&gt; m1</span>
	m1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 为Map申请一块内存空间</span>
	<span class="token comment">// 可以存储任意类型的值</span>
	m1<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;WeiyiGeek&quot;</span>
	m1<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span>
	m1<span class="token punctuation">[</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
	m1<span class="token punctuation">[</span><span class="token string">&quot;hobby&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Computer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;NetSecurity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Go语言编程学习&quot;</span><span class="token punctuation">}</span> 作者：WeiyiGeek https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>bilibili<span class="token punctuation">.</span>com<span class="token operator">/</span>read<span class="token operator">/</span>cv13039977<span class="token operator">/</span>?from<span class="token operator">=</span>readlist 出处：bilibili
</code></pre></div><h6 id="空接口-2"><a href="#空接口-2" class="header-anchor">#</a> 空接口</h6> <p>空接口的定义
描述: 空接口是指没有定义任何方法的接口,因此任何类型都实现了空接口, 该类型的变量可以存储任意类型的变量。他会在我们以后GO编程中常常出现。</p> <p>例如:</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// interface 是关键字，并不是类型。</span>
<span class="token comment">// 方式1.但一般不会采用此种方式</span>
<span class="token keyword">var</span> empty <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 方式2.我们可以直接忽略接口名称(空接口类型)</span>
<span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

###### 
</code></pre></div><h6 id="接口之类型断言"><a href="#接口之类型断言" class="header-anchor">#</a> 接口之类型断言</h6> <p>var w io.Writer
w = nil
w = os.Stdout
w = new(bytes.Buffer)</p> <p>x：表示类型为interface{}的变量</p> <p>T：表示断言x可能是的类型。</p> <p>该语法返回两个参数，第一个参数是x转化为T类型后的变量，第二个值是一个布尔值，若为true则表示断言成功，为false则表示断言失败。</p> <p>接口总结:
描述: 关于需要注意的是只有当有两个或两个以上的具体类型必须以相同的方式进行处理时才需要定义接口,不要为了接口而写接口，那样只会增加不必要的抽象，导致不必要的运行时损耗。</p> <h6 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 示例1.采用if进行判断断言</span>
<span class="token keyword">func</span> <span class="token function">assert</span><span class="token punctuation">(</span>x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token comment">// v 接受是string类型</span>
	<span class="token keyword">if</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;assert successful : %v, typeof %T\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;assert failed 非 string 类型! : %v, typeof %T\n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	x <span class="token operator">=</span> <span class="token string">&quot;WeiyiGeek&quot;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// assert successful : WeiyiGeek, typeof string</span>
	x <span class="token operator">=</span> <span class="token number">1024</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// assert failed 非 string 类型! : 1024, typeof int</span>
<span class="token punctuation">}</span>

<span class="token comment">// 示例2.如果要断言多次就需要写多个if判断，这个时候我们可以使用switch语句来实现：</span>
<span class="token keyword">func</span> <span class="token function">justifyType</span><span class="token punctuation">(</span>x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">switch</span> v <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token builtin">string</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;x is a string，value is %v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;x is a int is %v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;x is a bool is %v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;unsupport type！&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	x <span class="token operator">=</span> <span class="token string">&quot;i'm string&quot;</span>
	<span class="token function">justifyType</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	x <span class="token operator">=</span> <span class="token number">225</span>
	<span class="token function">justifyType</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	x <span class="token operator">=</span> <span class="token boolean">true</span>
	<span class="token function">justifyType</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> 
</code></pre></div><h6 id="包"><a href="#包" class="header-anchor">#</a> 包</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> 包名

<span class="token comment">// graphical.go</span>
<span class="token keyword">package</span> area
</code></pre></div><ol><li><p>一个文件夹下面直接包含的文件只能归属一个package，同样一个package的文件不能在多个文件夹下。</p></li> <li><p>包名可以不和文件夹的名字一样,但可以与.go文件名称一致，包名不能包含 - 符号并且严格按照变量命名的规则进行。</p></li> <li><p>在导入包时应该从包的GOPATH/src后的路径开始写起其以/作为分隔符。</p></li> <li><p>包名为main的包为应用程序的入口包，这种包编译后会得到一个可执行文件，而编译不包含main包的源代码则不会得到可执行文件。</p></li></ol> <h6 id="包的导入"><a href="#包的导入" class="header-anchor">#</a> 包的导入</h6> <p>描述: 要在代码中引用其他包的内容，需要使用import关键字导入使用的包。具体语法如下:</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;包的路径&quot;</span>

示例演示

<span class="token comment">// 单行导入的格式如下:</span>
<span class="token keyword">import</span> <span class="token string">&quot;包1&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;包2&quot;</span>

<span class="token comment">// 多行导入的格式如下:</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;包1&quot;</span>
  <span class="token string">&quot;包2&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// 实际案例</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>       <span class="token comment">// golang 内置包</span>
  <span class="token string">&quot;math/rand&quot;</span> <span class="token comment">// golang 内置包</span>
  <span class="token string">&quot;github.com/mattn/go-sqlite3&quot;</span> <span class="token comment">// golang 项目的工程组织规范</span>
<span class="token punctuation">)</span> 
</code></pre></div><p><strong>包名是从$GOPATH/src/后开始计算的，使用/进行路径分隔。</strong></p> <h6 id="反射"><a href="#反射" class="header-anchor">#</a> 反射</h6> <p>反射是指在程序运行期对程序本身进行访问和修改的能力。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name <span class="token builtin">string</span> <span class="token string">`json:&quot;name&quot;`</span>
	Age  <span class="token builtin">int</span>    <span class="token string">`ison:&quot;age&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	str <span class="token operator">:=</span> <span class="token string">`{&quot;name&quot;:&quot;周琳&quot;,&quot;age&quot;:&quot;9000&quot;}`</span>
	<span class="token keyword">var</span> p person
	json<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> p<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>在Go语言中，<strong>使用reflect.TypeOf()函数可以获得任意值的类型对象</strong></p> <h6 id="goroutine-routine-程序"><a href="#goroutine-routine-程序" class="header-anchor">#</a> Goroutine routine 程序</h6> <div class="language-go extra-class"><pre class="language-go"><code>启动单个Goroutine
描述：启动goroutine的方式非常简单，只需要在调用的函数（普通函数和匿名函数）前面加上一个<span class="token keyword">go</span>关键字，即可。

<span class="token keyword">func</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Goroutine!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">go</span>	<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment">// 在调用hello函数前面加上关键字go，即启动一个goroutine去执行hello这个函数。</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;main goroutine done!&quot;</span><span class="token punctuation">)</span>
 	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span> <span class="token comment">// 如果不加此延时，则执行结果只打印了main goroutine done!，并不会打印Hello Goroutine!</span>
<span class="token punctuation">}</span> 
</code></pre></div><h6 id="常规方式以及匿名函数方式并发调度"><a href="#常规方式以及匿名函数方式并发调度" class="header-anchor">#</a> 常规方式以及匿名函数方式并发调度</h6> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 方式1，常规函数方式</span>
<span class="token keyword">func</span> <span class="token function">hello</span><span class="token punctuation">(</span>count <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;欢迎你第 %d 次\n&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">go</span> <span class="token function">hello</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 开启一个单独的goroutine去执行hello函数(任务)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方式2.匿名函数方式</span>
<span class="token keyword">func</span> <span class="token function">demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>count <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;第 %d 次欢迎你\n&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 程序启动之后会创建一个主Goroutine去执行。</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[*] main start&quot;</span><span class="token punctuation">)</span>
	<span class="token function">demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>  <span class="token comment">// 最暴力简单的延时函数</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[-] main end&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th>方法名</th> <th>功能</th></tr></thead> <tbody><tr><td>(wg * WaitGroup) Add(delta int)</td> <td>等待组的计数器 +1</td></tr> <tr><td>(wg * WaitGroup) Done()</td> <td>等待组的计数器 -1</td></tr> <tr><td>(wg * WaitGroup) Wait()</td> <td>当等待组计数器不等于 0 时阻塞直到变 0。</td></tr></tbody></table> <h6 id="使用sync-waitgroup对线下等待并发线程执行完毕"><a href="#使用sync-waitgroup对线下等待并发线程执行完毕" class="header-anchor">#</a> 使用sync.WaitGroup对线下等待并发线程执行完毕</h6> <div class="language-go extra-class"><pre class="language-go"><code>
<span class="token keyword">func</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a:%d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>等待组的计数器 <span class="token operator">-</span><span class="token number">1</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;b:%d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	runtime<span class="token punctuation">.</span><span class="token function">GOMAXPROCS</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>runtime<span class="token punctuation">.</span><span class="token function">NumCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//12核cpu</span>
	wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>等待组的计数器 <span class="token operator">+</span><span class="token number">1</span>
	<span class="token keyword">go</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>当等待组计数器不等于 <span class="token number">0</span> 时阻塞直到变 <span class="token number">0</span>。
<span class="token punctuation">}</span>

</code></pre></div><h6 id="goroutine-调度模型"><a href="#goroutine-调度模型" class="header-anchor">#</a> Goroutine 调度模型</h6> <p><code>GMP</code></p> <p>M:N:把m个goroutine分配给n个操作系统线程去执行</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c01bdb3b.js" defer></script><script src="/assets/js/2.98bdd3d0.js" defer></script><script src="/assets/js/10.a432c19a.js" defer></script>
  </body>
</html>
